(this["webpackJsonpoffice-snacks-mate-ui"]=this["webpackJsonpoffice-snacks-mate-ui"]||[]).push([[0],{1006:function(e,t,a){},1007:function(e,t,a){},1008:function(e,t,a){},108:function(e,t,a){"use strict";var n="https://consumer-pepsico.okta.com/oauth2/ausfpgwi1k5ngnirB4x6",i="0oafpg33jCj968rKt4x6";"www.snacks.com"!=window.location.hostname&&(n="https://consumer-pepsico.oktapreview.com/oauth2/ausrloxoabq9JEmaf0h7",i="0oas4x8e3qo3mcvoz0h7");t.a={oidc:{issuer:n,clientId:i,redirectUri:window.location.origin+"/implicit/callback",postLogoutRedirectUri:window.location.origin+"/home",scopes:["openid","profile","email"],tokenManager:{autoRenew:!1},onSessionExpired:function(){localStorage.removeItem("code"),localStorage.removeItem("token"),localStorage.removeItem("accessToken"),localStorage.removeItem("idToken"),localStorage.removeItem("user"),window.location.assign("/home")},logoutUrl:"",revokeTokenUrl:""}}},1092:function(e,t,a){},1094:function(e,t,a){"use strict";a.r(t);a(587),a(789);var n=a(339),i=(a(795),a(69)),s=a(0),r=a.n(s),o=a(34),l=a.n(o),c=a(349),d=a(23),m=a(25),u=a(9),p=a(10),g=a(12),h=a(11),f=a(1175),b=a(517),v=a(262),S=a(261),E=a(20),y=a(115),C=a(1158),A=a(41),N=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={initialized:!1},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.history,t=this.state.initialized,a=this.props.instrumentationKey;!Boolean(t)&&Boolean(a)&&Boolean(e)&&(y.a.initialize(a,e),this.setState({initialized:!0})),this.props.after()}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement(s.Fragment,null,e)}}]),a}(s.Component),I=Object(A.o)(Object(C.a)(y.a.reactPlugin,N)),O=a(66),w=a(166),k=a(19),L=a(6),T=a(337),D=a(67),x=a.n(D),P=a(3),_=JSON.parse(sessionStorage.getItem("regData")),M=sessionStorage.getItem("total"),F=JSON.parse(sessionStorage.getItem("cartItems")),j=(new Date).getTime(),B=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={products:[],clientToken:!1,data:{}},n}return Object(p.a)(a,[{key:"getcyberSourceData",value:function(){var e=_.guestCheckout,t=null!==sessionStorage.getItem("newUserCheckout")&&JSON.parse(sessionStorage.getItem("newUserCheckout")),a={signed_field_names:"access_key,profile_id,transaction_uuid,signed_field_names,unsigned_field_names,signed_date_time,locale,transaction_type,reference_number,amount,currency,override_custom_receipt_page,override_custom_cancel_page",unsigned_field_names:"device_fingerprint_id,bill_to_forename,bill_to_address_line1,bill_to_address_city,bill_to_address_country,bill_to_address_state,bill_to_email,bill_to_surname,bill_to_address_postal_code",locale:"en-us",transaction_type:"authorization"};return a.device_fingerprint_id=Math.floor(Math.random()*Math.floor(Math.random()*j)),a.amount=M,a.currency="USD",a.consumer_id="1234",a.payment_method="card",a.bill_to_forename=e||t||_.billingFirstname!==_.billingLastname?_.billingFirstname:this.getFirstName(_.billingFirstname),a.bill_to_surname=e||t||_.billingFirstname!==_.billingLastname?_.billingLastname:this.getLastName(_.billingLastname),a.bill_to_email=_.email,a.bill_to_phone=_.contact,a.bill_to_address_line1=_.billingAddressLine1,a.bill_to_address_line2=_.billingAddressLine2,a.bill_to_address_city=_.billingCity,a.bill_to_address_state=_.billingState,a.bill_to_address_country=_.billingCountry,a.bill_to_address_postal_code=_.billingZipCode,a.auth_trans_ref_no=a.device_fingerprint_id,a.override_custom_receipt_page=L.a.cybersourceBackResponse,a.override_custom_cancel_page=L.a.cybersourceBackResponse,a}},{key:"getMultiplexItemData",value:function(){var e=[];return F.length>0&&F.map((function(t){var a={id:t.id,productId:t.productId,name:t.title,qty:t.quantity,price:t.price,total:t.price*t.quantity};return e.push(a),!0})),e}},{key:"getLastName",value:function(e){if(e){var t=e.trim().split(" ");return t.length>1&&t.shift(),t.join(" ")}return""}},{key:"getFirstName",value:function(e){if(e){var t=e.trim().split(" ");if(t.length>=1)return t[0]}return""}},{key:"componentDidMount",value:function(){var e=this,t=L.a.SubmitOrder,a=this.getcyberSourceData(),n=_.guestCheckout,i=null!==sessionStorage.getItem("newUserCheckout")&&JSON.parse(sessionStorage.getItem("newUserCheckout")),s={guestCheckout:_.guestCheckout,embed_pay:!0,accountId:localStorage.getItem("accountId")?localStorage.getItem("accountId"):Math.floor(Math.random()*Math.floor(Math.random()*j)),customerfirstname:_.firstname,customerlastname:_.lastname,customeremail:_.email,customercompany:"",customerstreet:_.billingAddressLine1+", "+_.billingAddressLine2,customercountry:_.billingCountry,customerstate:_.billingState,customercity:_.billingCity,customerzip:_.billingZipCode,customerPhone1:_.contact,shippingFirstname:n||i||_.shippingFirstname!==_.shippingLastname?_.shippingFirstname.trim():this.getFirstName(_.shippingFirstname.trim()),shippingLastname:n||i||_.shippingFirstname!==_.shippingLastname?_.shippingLastname.trim():this.getLastName(_.shippingLastname.trim()),shippingAddressline1:_.shippingAddressLine1,shippingAddressline2:_.shippingAddressLine2,shippingCountry:_.shippingCountry,shippingState:_.shippingState,shippingCity:_.shippingCity,shippingZip:_.shippingZipCode,billingFirstname:n||i||_.billingFirstname!==_.billingLastname?_.billingFirstname.trim():this.getFirstName(_.billingFirstname.trim()),billingLastname:n||i||_.billingFirstname!==_.billingLastname?_.billingLastname.trim():this.getLastName(_.billingLastname.trim()),billingAddressline1:_.billingAddressLine1,billingAddressline2:_.billingAddressLine2,billingCountry:_.billingCountry,billingState:_.billingState,billingCity:_.billingCity,billingZip:_.billingZipCode,signdata:a,items:this.getMultiplexItemData(),tax:sessionStorage.getItem("tax"),total:sessionStorage.getItem("total"),subtotal:sessionStorage.getItem("subtotal"),shipping:sessionStorage.getItem("shippingCharge"),sourceLocationId:sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null,sourceZipCode:sessionStorage.getItem("Zipcode")?sessionStorage.getItem("Zipcode"):null};return k.a.postMethod(t,s,!0).then((function(t){var n=t.data.data;if(t.data.success)if(n.orderNumber){sessionStorage.setItem("isthankyou",!0),sessionStorage.setItem("orderNumber",n.orderNumber),Object(P.b)(P.a.Action.ACTION_PAYMENT_SUCCESS,P.a.Event.EVENT_PAYMENT_CALLBACK,window.location.origin,window.location.pathname,{paymentData:n,isSuccess:!0});var i=new x.a("paymentResponse");window.parent.document.dispatchEvent(i);var s=n.signData.data;s.signature&&(a.signature=s.signature,a.reference_number=s.reference_number,a.signed_date_time=s.signed_date_time,a.amount=n.amountTobeAuthorize,a.accessKey=s.accessKey,a.profileId=s.profileId,a.cybersource_url=s.cybersource_url,a.transaction_uuid=s.transaction_uuid,e.setState({clientToken:!0,data:a},(function(){setTimeout((function(){document.forms.cybersourcePayment.submitbtn.click()}),1e3)})))}else Object(P.b)(P.a.Action.ACTION_PAYMENT_FAILURE,P.a.Event.EVENT_PAYMENT_CALLBACK,window.location.origin,window.location.pathname,{paymentData:L.a.errorMsg,isSuccess:!1}),sessionStorage.setItem("errorPaymentMsg",L.a.errorMsg),window.top.location.reload();else Object(P.b)(P.a.Action.ACTION_PAYMENT_FAILURE,P.a.Event.EVENT_PAYMENT_CALLBACK,window.location.origin,window.location.pathname,{paymentData:L.a.errorMsg,isSuccess:!1}),sessionStorage.setItem("errorPaymentMsg",L.a.errorMsg),window.top.location.reload()})).catch((function(e){Object(P.b)(P.a.Action.ACTION_PAYMENT_FAILURE,P.a.Event.EVENT_PAYMENT_CALLBACK,window.location.origin,window.location.pathname,{paymentData:L.a.errorMsg,isSuccess:!1}),sessionStorage.setItem("errorPaymentMsg",L.a.errorMsg),window.top.location.reload()}))}},{key:"hideLoader",value:function(){this.setState({clientToken:!0})}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{action:e.cybersource_url,method:"post",id:"cybersourcePayment"},r.a.createElement("input",{type:"hidden",name:"access_key",value:e.accessKey}),r.a.createElement("input",{type:"hidden",name:"profile_id",value:e.profileId}),r.a.createElement("input",{type:"hidden",name:"transaction_uuid",value:e.transaction_uuid}),r.a.createElement("input",{type:"hidden",name:"signed_field_names",value:e.signed_field_names}),r.a.createElement("input",{type:"hidden",name:"unsigned_field_names",value:e.unsigned_field_names}),r.a.createElement("input",{type:"hidden",name:"signed_date_time",value:e.signed_date_time}),r.a.createElement("input",{type:"hidden",name:"device_fingerprint_id",value:e.device_fingerprint_id}),r.a.createElement("input",{type:"hidden",name:"locale",value:e.locale}),r.a.createElement("input",{type:"hidden",name:"payment_method",value:e.payment_method}),r.a.createElement("input",{type:"hidden",name:"transaction_type",value:e.transaction_type}),r.a.createElement("input",{type:"hidden",name:"reference_number",value:e.reference_number}),r.a.createElement("input",{type:"hidden",name:"amount",value:e.amount}),r.a.createElement("input",{type:"hidden",name:"currency",value:e.currency}),r.a.createElement("input",{type:"hidden",name:"consumer_id",value:e.consumer_id}),r.a.createElement("input",{type:"hidden",name:"bill_to_forename",value:e.bill_to_forename}),r.a.createElement("input",{type:"hidden",name:"bill_to_surname",value:e.bill_to_surname}),r.a.createElement("input",{type:"hidden",name:"bill_to_email",value:e.bill_to_email}),r.a.createElement("input",{type:"hidden",name:"bill_to_address_line1",value:e.bill_to_address_line1}),r.a.createElement("input",{type:"hidden",name:"bill_to_address_line2",value:e.bill_to_address_line2}),r.a.createElement("input",{type:"hidden",name:"bill_to_address_city",value:e.bill_to_address_city}),r.a.createElement("input",{type:"hidden",name:"bill_to_address_state",value:e.bill_to_address_state}),r.a.createElement("input",{type:"hidden",name:"bill_to_address_postal_code",value:e.bill_to_address_postal_code}),r.a.createElement("input",{type:"hidden",name:"bill_to_address_country",value:e.bill_to_address_country}),r.a.createElement("input",{type:"hidden",name:"override_custom_receipt_page",value:e.override_custom_receipt_page}),r.a.createElement("input",{type:"hidden",name:"override_custom_cancel_page",value:e.override_custom_cancel_page}),r.a.createElement("input",{type:"hidden",name:"submit",value:"Submit"}),r.a.createElement("input",{type:"hidden",name:"signature",value:e.signature}),r.a.createElement("input",{style:{display:"none"},type:"submit",name:"submitbtn",value:"submit"})))}}]),a}(s.Component),V=a(31),R=a(63),Z=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"common-box"},r.a.createElement(V.a,{container:!0,className:"text-center invalid-zip common-box-body"},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"106",height:"106",viewBox:"0 0 106 106"},r.a.createElement("g",{transform:"translate(-1 -1)"},r.a.createElement("path",{d:"M105.29,26.645h-1.71V21.516a1.71,1.71,0,0,0-1.71-1.71H91.613a1.71,1.71,0,0,0-1.71,1.71v5.129H74.208L69.353,2.375A1.707,1.707,0,0,0,67.677,1H40.323a1.707,1.707,0,0,0-1.675,1.375L33.792,26.645H18.1V21.516a1.71,1.71,0,0,0-1.71-1.71H6.129a1.71,1.71,0,0,0-1.71,1.71v5.129H2.71A1.71,1.71,0,0,0,1,28.355V52.29A1.71,1.71,0,0,0,2.71,54h1.71V88.194a1.709,1.709,0,0,0,1.71,1.71H16.387a1.709,1.709,0,0,0,1.71-1.71V54H28.321l-10.19,50.955A1.709,1.709,0,0,0,19.806,107H88.194a1.709,1.709,0,0,0,1.675-2.045L79.679,54H89.9V86.484a1.709,1.709,0,0,0,1.71,1.71h10.258a1.709,1.709,0,0,0,1.71-1.71V54h1.71A1.71,1.71,0,0,0,107,52.29V28.355A1.71,1.71,0,0,0,105.29,26.645ZM6.837,50.581,27.353,30.065H36.2L15.679,50.581ZM41.03,30.065H55L34.486,50.581H20.514Zm18.806,0h8.842L48.163,50.581H39.321Zm13.677,0H87.486L66.97,50.581H53Zm18.806,0h8.842L80.647,50.581H71.8Zm1-6.839h6.839v3.419H93.323ZM41.725,4.419H52.29v6.839H55.71V4.419H66.275l4.445,22.226H37.279ZM7.839,23.226h6.839v3.419H7.839Zm14.679,6.839-18.1,18.1v-18.1ZM14.677,86.484H7.839V54h6.839Zm71.43,17.1H55.71V96.742H52.29v6.839h-30.4L31.808,54H76.192Zm14.054-18.806H93.323V54h6.839ZM85.482,50.581l18.1-18.1v18.1Z"}),r.a.createElement("path",{d:"M31,49h3.419v6.839H31Z",transform:"translate(21.29 34.065)"}),r.a.createElement("path",{d:"M31,41h3.419v6.839H31Z",transform:"translate(21.29 28.387)"}),r.a.createElement("path",{d:"M31,33h3.419v6.839H31Z",transform:"translate(21.29 22.71)"}),r.a.createElement("path",{d:"M31,11h3.419v6.839H31Z",transform:"translate(21.29 7.097)"}))),r.a.createElement(R.a,{variant:"h4",component:"h4"},"We are sorry."),r.a.createElement(R.a,{variant:"h5",component:"h5"},"This facility is not available at this location"))))}}]),a}(s.Component),q=a(343),z=a(257),U=a(38),H=a.n(U),W=a(68),J=a(1113),G=a(1104),Y=a(170),K=a(258),$=a(523),Q=a(525),X=a(52),ee=(a(967),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).getShowAllContent=function(){var t=e.props,a=t.showAllTitle,n=t.showAllPosition,i=t.isLink,s=t.isFunction,o=t.ariaLabelShowAll;return s?r.a.createElement(X.a,{onClick:s,"aria-label":o||a,className:"show-all align-".concat(n)},a):i?r.a.createElement("a",{href:i,"aria-label":o||a,className:"show-all align-".concat(n)},a):r.a.createElement("span",{className:"show-all align-".concat(n)},a)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classField,a=e.heading,n=e.ariaLabelHeading,i=e.isShowAllVisible,s=e.subHeading,o=e.ariaLabelSubHeading;return r.a.createElement("div",{className:"".concat(t,"-heading heading")},a&&r.a.createElement("h3",{"aria-label":n||a},a),s&&r.a.createElement("p",{"aria-label":o||s},s),i&&this.getShowAllContent())}}]),a}(s.Component)),te=a(1095),ae=a(259),ne=a(263),ie=[{width:1,itemsToShow:2},{width:640,itemsToShow:3},{width:800,itemsToShow:4}],se=(a(968),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"myArrow",value:function(e){var t=e.type,a=e.onClick,n=e.isEdge,i=t===ne.a.PREV?"Prev":"Next",s=t===ne.a.PREV?"rec-arrow-left":"rec-arrow-right";return r.a.createElement(X.a,{className:"rec rec-arrow rec ".concat(s),"aria-label":i,onClick:a,disabled:n})}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.carouselCustomClass;return r.a.createElement(ne.b,{renderArrow:this.myArrow,itemPadding:[20,10],itemsToScroll:1,breakPoints:ie,pagination:!1,className:"snacks-slider ".concat(a)},t||"")}}]),a}(s.Component)),re=a(87),oe=(a(969),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={popularProductsList:[],isProductLoading:!0,locationNumber:sessionStorage.getItem("_lo_No")||null,offset:0,limit:L.a.popularProductsLimit,showAllProducts:!1,showAllVisible:!1,totalProducts:0,lazyLoading:!1,showProductDetail:!1,productDetailIndex:"",msg:"",prodId:0,selectedItems:sessionStorage.getItem("cartItems")||[]},e.productDetail=function(t,a){e.setState({showProductDetail:!0,prodId:t,productDetailIndex:a})},e.popularProductsAPICall=function(t){var a=e.state,n={offset:a.offset,limit:a.limit,locationNumber:a.locationNumber};k.a.postMethod(L.a.PopularProducts,n,!0).then((function(a){e.setState({popularProductsList:a.data.data,isProductLoading:!1,lazyLoading:!1,totalProducts:a.data&&a.data.totalProducts,showAllVisible:!t&&(a.data.data&&a.data.data.length>4)})})).catch((function(e){console.error("Popular Products Api",e)}))},e.handleOnDocumentBottom=function(){var t=e.state,a=t.limit;t.totalProducts>a&&e.setState({lazyLoading:!0,limit:a+8},(function(){setTimeout((function(){e.popularProductsAPICall("lazy")}),500)}))},e.warningMsgFunc=function(t,a){e.setState({msg:t.replace(/##QTY##/g,(function(){return parseInt(a)}),document.getElementById("body").classList.add("has-toast"))},(function(){return setTimeout((function(){e.setState({msg:null}),document.getElementById("body").classList.remove("has-toast")}),3e3)}))},e.showAllProducts=function(){e.setState({showAllVisible:!1,showAllProducts:!0})},e.getAllProducts=function(t){return t.map((function(t,a){return r.a.createElement(ae.a,{key:t.productId,productInfo:t,index:a,detailedInfo:e.productDetail,warningMsgFunc:e.warningMsgFunc})}))},e.selectedCartItems=function(t){e.setState({selectedItems:t})},e.closeAndUpdate=function(t){e.setState({showProductDetail:!1}),e.selectedCartItems(t)},e.getPopularProductList=function(t){return t&&t.length>0?r.a.createElement(se,{content:e.getAllProducts(t),carouselCustomClass:"popular-products-slider"}):r.a.createElement(V.a,{container:!0,justify:"center",className:"noproducts-grid"},r.a.createElement(V.a,{item:!0},r.a.createElement("h3",{className:"noproducts-text"},"No Popular Products")))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.popularProductsAPICall()}},{key:"render",value:function(){var e=this,t=this.state,a=t.popularProductsList,n=t.isProductLoading,i=t.showAllVisible,s=t.showAllProducts,o=t.lazyLoading,l=t.msg,c=t.showProductDetail,d=t.prodId,m=t.selectedItems;return r.a.createElement(G.a,{className:"popular-products"},r.a.createElement("div",{className:"popular-products-container"},r.a.createElement("div",{className:"popular-products-container-inner"},l&&r.a.createElement(re.a,{fullWidth:!0,msg:l}),r.a.createElement(ee,{classField:"popular-products",heading:"Popular Products",ariaLabelHeading:"User specific Popular Products",showAllTitle:"Show All",ariaLabelShowAll:"Show All popular products",showAllPosition:"left",isShowAllVisible:i,isFunction:this.showAllProducts}),r.a.createElement($.a,{open:c,onClose:function(){e.setState({showProductDetail:!1})},maxWidth:!1,scroll:"body",classes:{paper:"modal-big modal-product-detail modal-paper",root:"modal-stack-top"}},r.a.createElement(Q.a,null,r.a.createElement(X.a,{className:"icn-close",id:"productDetailClose","aria-label":"productDetail Close",onClick:function(){e.setState({showProductDetail:!1})}},r.a.createElement("i",{className:"fa fa-times"})),r.a.createElement(w.a,{productData:d,items:m,warningMsgFunc:this.warningMsgFunc,selectedItems:this.selectedCartItems,closeAndUpdate:this.closeAndUpdate}))),r.a.createElement("div",{className:"popular-products-list"},n&&r.a.createElement(V.a,{container:!0,justify:"center",style:{minHeight:"100px"}},r.a.createElement(V.a,{item:!0},r.a.createElement(te.a,null))),s&&r.a.createElement(K.a,{debounce:200,offset:700,onBottom:this.handleOnDocumentBottom}),!n&&!s&&this.getPopularProductList(a),!n&&s&&r.a.createElement("div",{className:"popular-products-show-all"},this.getAllProducts(a))),o&&r.a.createElement(V.a,{container:!0,justify:"center",style:{minHeight:"100px"}},r.a.createElement(V.a,{item:!0},r.a.createElement(te.a,null))))))}}]),a}(s.Component)),le=a(30),ce=(a(970),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.customClass,a=e.heading,n=e.description,i=e.viewAllText,s=e.viewAllLink;return r.a.createElement(V.a,{item:!0,xs:12,lg:6,sm:6,className:"home-box-item ".concat(t||"")},r.a.createElement(m.Link,{className:"home-box-item-link",to:s,"aria-label":"".concat(a),onClick:function(){Object(P.b)("/profile?order"===s?P.a.Action.ACTION_SHOW_PREVIOUS_ORDERS:P.a.Action.ACTION_SHOW_EVERYTHING,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),window.location=s}},r.a.createElement("h2",{className:"heading"},a),r.a.createElement("p",{className:"description"},n),r.a.createElement(X.a,{disabled:!0,className:"link","aria-label":"".concat(i," ").concat(t)},i," ",r.a.createElement("i",{className:"fa fa-angle-right"}))))}}]),a}(s.Component)),de=(s.Component,a(971),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={minOrder:sessionStorage.getItem("minimumOrderAmount")},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.customerDetails,t=sessionStorage.getItem("Zipcode")?"/productlist":"/home",a=e&&e.accountContacts&&e.accountContacts.length>0&&e.accountContacts[0].firstName;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hero-banner"},r.a.createElement("img",{className:"hero-background",src:"./images/Homepag_banner_5.png",alt:"hero background",role:"presentation"}),r.a.createElement("img",{className:"hero-left",src:"./images/popcorn_left.png",alt:"hero left",role:"presentation"}),r.a.createElement("img",{className:"hero-right",src:"./images/cookies_rt.png",alt:"hero right",role:"presentation"}),r.a.createElement("div",{className:"home-box-wrapper"},r.a.createElement("div",{className:"home-box-wrapper-inner"},r.a.createElement("h1",{className:"user-name"},r.a.createElement("span",{className:"welcome-msg"},"welcome back,"),r.a.createElement("span",{className:"name"},a)),r.a.createElement(ce,{heading:"Show My Previous Orders",description:"Shop by viewing what you've ordered before. Let your history help build your box!",viewAllText:"View Now",viewAllLink:"/profile?order",customClass:"previous-orders"}),r.a.createElement(ce,{heading:"Show Me Everything",description:"We\u2019ll show you all the snacks available in your area. Build your box with no limits!",viewAllText:"View Now",viewAllLink:t,customClass:"all-products"})))))}}]),a}(s.Component)),me=a(529),ue=a(173),pe=a.n(ue),ge=(a(972),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).zipValidation=function(e){Object(P.b)(P.a.Action.ACTION_GET_STARTED,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.preventDefault(),sessionStorage.getItem("Zipcode")?n.props.history.push("/productlist"):n.setState({dailogOpen:!0,clickedBtn:"getStarted"})},n.actionGetMinAmount=function(){try{n.props.actionGetMinAmount().then((function(){var e=n.props.minPrice;e&&0!==Object.keys(e).length?(n.setState({minOrder:e.minimumOrderAmount,isHomeContentLoading:!1}),sessionStorage.setItem("minimumOrderAmount",e.minimumOrderAmount||null),sessionStorage.setItem("shippingCharges",e.shippingCharges||null)):n.setState({isHomeContentLoading:!1})}))}catch(e){n.setState({isHomeContentLoading:!1}),console.error("someThing Went wrong while fetching min order value")}},n.state={clickedBtn:"",dailogOpen:!1,minOrder:n.props.minPrice&&0!==Object.keys(n.props.minPrice.minimumOrderAmount).length?n.props.minPrice.minimumOrderAmount:void 0===sessionStorage.getItem("minimumOrderAmount")||null===sessionStorage.getItem("minimumOrderAmount")?"":sessionStorage.getItem("minimumOrderAmount"),isHomeContentLoading:!1},n}return Object(p.a)(a,[{key:"hideDialog",value:function(){this.setState({dailogOpen:!1})}},{key:"UNSAFE_componentWillMount",value:function(){var e=Object(W.a)(H.a.mark((function e(){var t,a,n,i=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isHomeContentLoading:!0}),e.next=3,this.props.actionGetCustomer();case 3:(t=this.props.customerDetails)&&!sessionStorage.getItem("Zipcode")&&(a=t.shippingZipcode||"",n=t.locationId||"",a&&n&&(sessionStorage.setItem("Zipcode",a),sessionStorage.setItem("_lo_No",n))),setTimeout((function(){sessionStorage.getItem("minimumOrderAmount")?i.setState({isHomeContentLoading:!1}):i.actionGetMinAmount()}),1500),"checkout"===localStorage.getItem("loginClicked")&&localStorage.removeItem("loginClicked"),localStorage.getItem("accessToken")||document.getElementById("body").classList.add("is-home");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){T.isIE&&document.getElementById("body").classList.add("has-toast")}},{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("is-home"),document.getElementById("body").classList.remove("has-toast")}},{key:"render",value:function(){var e=this,t=this.props.customerDetails;sessionStorage.getItem("minimumOrderAmount")?sessionStorage.getItem("minimumOrderAmount"):this.state.minOrder;return this.state.isHomeContentLoading?r.a.createElement(le.a,null):localStorage.getItem("accessToken")?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full IE-only"},r.a.createElement(me.a,{variant:"filled",severity:"error"},"Our site works best in all modern bowsers, except Internet Explorer.")),r.a.createElement("div",{className:"homepage-authenticated-user"},r.a.createElement(de,{customerDetails:t}),r.a.createElement(oe,{customerDetails:t}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full IE-only"},r.a.createElement(me.a,{variant:"filled",severity:"error"},"Our site works best in all modern bowsers, except Internet Explorer.")),r.a.createElement("div",{className:"home-wrapper"},r.a.createElement("div",{className:"hero"},r.a.createElement(V.a,{container:!0,spacing:0,alignItems:"center",className:"hero-banner"},r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(m.NavLink,{to:"/productlist","aria-label":"shop Lays",onClick:this.zipValidation},r.a.createElement("img",{className:"hero-background",src:"./images/Lays-banner.png",alt:"shop Lays",role:"presentation"}))),r.a.createElement(V.a,{item:!0,xs:6},r.a.createElement(m.NavLink,{to:"/productlist","aria-label":"shop Doritos",onClick:this.zipValidation},r.a.createElement("img",{className:"hero-background",src:"./images/Doritos-banner.png",alt:"shop Doritos",role:"presentation"}))),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement("a",{id:"scrollToContent",className:"scroll-to","aria-label":"scroll to content",href:"#content"},r.a.createElement(pe.a,null))))),r.a.createElement("div",{id:"content"},r.a.createElement(G.a,{className:"container-root"},r.a.createElement("div",{className:"hero-text"},r.a.createElement(R.a,{variant:"h1",className:"hero-header"},"your favorite snacks are here"),r.a.createElement("p",{className:"hero-content"},"Welcome to your one stop shop for all your Frito-Lay favs. Personalize orders, sample the hottest new flavors, and more. Plus free shipping on orders over $15! It\u2019s fun, easy, and tasty.")),r.a.createElement("div",{className:"home-row-container"},r.a.createElement(V.a,{container:!0,spacing:1,alignItems:"center",className:"home-row"},r.a.createElement(V.a,{item:!0,xs:7},r.a.createElement("div",{className:"home-text"},r.a.createElement("div",{className:"home-title"},"shop by category"),r.a.createElement("div",{className:"home-content"},"Looking for a specific flavor? Got a movie night or cookout coming up? We\u2019ll take you step by step to find the right snacks for what you need, then save your order so next time everything will be ready to go. No fuss, just fun!"),r.a.createElement(m.NavLink,{to:"/productlist",id:"getStarted",className:"home-link",onClick:this.zipValidation,"aria-label":"start shop by category"},"get started"))),r.a.createElement(V.a,{item:!0,xs:5},r.a.createElement("img",{src:"./images/shop-by-category.png",alt:"shop by category"}))),r.a.createElement(V.a,{container:!0,spacing:1,alignItems:"center",className:"home-row"},r.a.createElement(V.a,{item:!0,xs:7},r.a.createElement("div",{className:"home-text"},r.a.createElement("div",{className:"home-title"},"explore all snacks"),r.a.createElement("div",{className:"home-content"},"Just jump in. All your favs (even the hard-to-find ones) are waiting. And who knows, maybe you'll find some new favs while you're at it."),r.a.createElement(m.NavLink,{to:"/productlist",id:"getStarted",className:"home-link",onClick:this.zipValidation,"aria-label":"shop now"},"shop now"))),r.a.createElement(V.a,{item:!0,xs:5},r.a.createElement("img",{src:"./images/shop-by-category.png",alt:"explore all snacks"})))),r.a.createElement("div",{className:"brought-to-you"},r.a.createElement("div",null,r.a.createElement("img",{className:"hero-background",src:"https://share.snacks.com/images/logo.png",alt:"shop Lays",role:"presentation"})),r.a.createElement("div",{className:"text"},"Brought to you by Frito-Lay and Quaker"),r.a.createElement("div",null,r.a.createElement("img",{className:"hero-background",src:"./images/quaker-logo.png",alt:"shop Lays",role:"presentation"})))))),r.a.createElement(Y.a,{onClose:function(){return e.hideDialog()},dailogOpen:this.state.dailogOpen,clickedBtn:this.state.clickedBtn}))}}]),a}(s.Component)),he=Object(d.b)((function(e){return{minPrice:e.reducer.minAmount,customerDetails:e.reducer.customerDetails,zipResponse:e.reducer.zipResponse}}),{actionGetMinAmount:E.i,actionGetCustomer:E.h,actionZipcodeVerification:E.k})(ge),fe=a(266),be=a(267),ve=a(1179),Se=a(268),Ee=a(1114),ye=a(13),Ce=a(14),Ae=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).orderNumberCheck=function(e,t){n.setState({orderNumber:""});/[^\w\s]/gi.test(e.target.value)?(n.setState({orderNumber:"Special characters are not allowed"},(function(){setTimeout((function(){n.setState({orderNumber:""})}),3e3)})),""===e.target.value&&(t("orderId",""),n.setState({orderNumber:""}))):(e.target.value||""===e.target.value)&&t("orderId",e.target.value)},n.nameCheck=function(e,t){n.setState({firstName:""});/^[a-zA-Z '.]*$/.test(e.target.value)?(e.target.value||""===e.target.value)&&t("firstname",e.target.value):(n.setState({firstName:"Name must be only alphabets"},(function(){setTimeout((function(){n.setState({firstName:""})}),3e3)})),""===e.target.value&&(t("firstname",""),n.setState({firstName:""})))},n.contactCheck=function(e,t){n.setState({Contact:""});/^[0-9\b]+$/.test(e.target.value)?(e.target.value||""===e.target.value)&&e.target.value.length<=10?t("contact",e.target.value):e.target.value>10&&n.setState({Contact:"Phone Number must be 10 digits"},(function(){setTimeout((function(){n.setState({Contact:""})}),3e3)})):(n.setState({Contact:"Phone Number must be a number type"},(function(){setTimeout((function(){n.setState({Contact:""})}),3e3)})),""===e.target.value&&(t("contact",""),n.setState({Contact:""})))},n.state={subject:"",firstname:"",email:"",contact:"",orderId:"",description:"",error:!1,countryCode:"+1",submissionStatus:!1,submissionMessage:"",firstName:"",Contact:"",orderNumber:"",successMessage:"",contactsubData:[],showSpinner:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.contactSub){var t=this.props.contactSub.contactUsSubject.split(",");this.setState({contactsubData:t})}else try{this.props.actionGetMinAmount().then((function(){var t=e.props.contactSub.contactUsSubject,a=t&&t.split(",");e.setState({contactsubData:a||[]})}))}catch(a){document.getElementById("body").classList.add("has-toast")}}},{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"common-box"},r.a.createElement("div",{className:"common-box-header"},r.a.createElement(R.a,{variant:"h1"},"Contact Us")),r.a.createElement(ye.c,{initialValues:this.state,validationSchema:Ce.object().shape({contact:Ce.string().nullable().trim().min(10,"Phone Number must be 10 digits").max(10,"Phone Number must be 10 digits").required("Phone Number is required").test("contact","Phone Number must be a number type",(function(e){if(null===e||""===e)return!0;return!!/((\([0-9]{3}\))|[0-9]{3})[\s-]?[\0-9]{3}[\s-]?[0-9]{4}$/.test(e)})),email:Ce.string().trim().email("Enter a valid email").required("Email is required"),subject:Ce.string().required("Subject is required"),firstname:Ce.string().nullable().trim().min(2,"Name sholud be atleast 2 characters").required("Name is required"),orderId:Ce.string().trim(),description:Ce.string().required("Description is required").trim()}),onSubmit:function(t,a){var n=a.resetForm,i={emailType:"contactUs",name:t.firstname,email:t.email,phoneNo:t.countryCode+"-"+t.contact,orderNo:t.orderId,subject:t.subject,description:t.description};e.setState({showSpinner:!0}),e.props.actionContactUs(i).then((function(){var t,a;200===e.props.contactResponse.status?e.props.contactResponse&&!0===e.props.contactResponse.data.success&&e.props.contactResponse.data.message?(e.setState({successMessage:e.props.contactResponse.data&&(null===(t=e.props.contactResponse.data)||void 0===t?void 0:t.message),submissionMessage:"success",submissionStatus:!0,showSpinner:!1},(function(){document.getElementById("body").classList.add("has-toast")})),n(e.state)):e.setState({successMessage:e.props.contactResponse.data&&(null===(a=e.props.contactResponse.data)||void 0===a?void 0:a.message),submissionMessage:"failure",submissionStatus:!0,showSpinner:!1},(function(){document.getElementById("body").classList.add("has-toast")})):e.setState({error:!0,successMessage:"We are facing some technical issue. Your request does not submit at this moment. Please try again",submissionMessage:"We are facing some technical issue. Your request does not submit at this moment. Please try again",submissionStatus:!0,showSpinner:!1})}))}},(function(t){var a=t.values,n=t.touched,i=t.errors,s=t.handleChange,o=t.handleBlur,l=t.handleSubmit,c=t.setFieldValue;return r.a.createElement("form",{id:"startSubscriptionForm",name:"form1",onSubmit:l},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"common-box-body"},r.a.createElement(J.a,{open:e.state.submissionStatus,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:function(){e.setState({submissionStatus:!1},(function(){document.getElementById("body").classList.remove("has-toast")}))},severity:"success"===e.state.submissionMessage?"success":"error"},e.state.successMessage)),e.state.showSpinner?r.a.createElement(le.a,null):"",r.a.createElement(V.a,{container:!0,spacing:3},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group phone-select phone-select-full",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"subject"},"Subject",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(ve.a,{native:!0,id:"subject",name:"subject",value:a.subject,onChange:s,onBlur:o,inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false","aria-label":"contact us subject"},error:n.subject&&Boolean(i.subject)},r.a.createElement("option",{"aria-label":"None",value:""},"None"),e.state.contactsubData.length>0&&e.state.contactsubData.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(ye.a,{component:"div",name:"subject",className:"text-danger"})),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"firstname"},"Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{id:"firstname",value:a.firstname,inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameCheck(t,c)},onBlur:o,error:n.firstname&&Boolean(i.firstname)})),e.state.firstName?r.a.createElement("div",{className:"text-danger"},e.state.firstName):r.a.createElement(ye.a,{component:"div",name:"firstname",className:"text-danger"})),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"email"},"Email",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{id:"email",name:"email",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:a.email,onChange:s,onBlur:o,error:n.email&&Boolean(i.email)})),r.a.createElement(ye.a,{component:"div",name:"email",className:"text-danger"})),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:0},r.a.createElement(V.a,{item:!0},r.a.createElement(fe.a,{className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label phone-select-label",htmlFor:"countryCode"},r.a.createElement("span",null,"code")),r.a.createElement(ve.a,{native:!0,className:"phone-select",name:"countryCode",inputProps:{required:"required","aria-required":"true","aria-label":"country code",role:"alert"},id:"countryCode",value:a.countryCode,onChange:s,onBlur:o},r.a.createElement("option",{value:"+1"},"+1")))),r.a.createElement(V.a,{item:!0,sm:!0,xs:!0,container:!0},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"contact"},"Phone Number",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{className:"phone-input",id:"contact",name:"contact",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:a.contact,onChange:function(t){return e.contactCheck(t,c)},onBlur:o,error:n.contact&&Boolean(i.contact)})),e.state.Contact?r.a.createElement("div",{className:"text-danger"},e.state.Contact):r.a.createElement(ye.a,{component:"div",name:"contact",className:"text-danger"})))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"orderId"},"Order ID"),r.a.createElement(Se.a,{id:"orderId",name:"orderId",inputProps:{"aria-required":"false",role:"alert","aria-invalid":"false"},value:a.orderId,onChange:function(t){return e.orderNumberCheck(t,c)},onBlur:o,error:n.orderId&&Boolean(i.orderId)})),e.state.orderNumber?r.a.createElement("div",{className:"text-danger"},e.state.orderNumber):r.a.createElement(ye.a,{component:"div",name:"orderId",className:"text-danger"})),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(Ee.a,{id:"description",name:"description",label:"Description",multiline:!0,inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},rows:"4",variant:"outlined",className:"textarea",value:a.description,onChange:s,onBlur:o,error:n.description&&Boolean(i.description)})),r.a.createElement(ye.a,{component:"div",name:"description",className:"text-danger"})))),r.a.createElement("div",{className:"button-group text-right"},r.a.createElement(X.a,{type:"submit",variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"submitContact","aria-label":"submit Contact"},"Submit"))))})))}}]),a}(s.Component),Ne=Object(d.b)((function(e){return{contactResponse:e.reducer.contactResponse,contactSub:e.reducer.minAmount}}),{actionContactUs:E.d,actionGetMinAmount:E.i})(Ae),Ie=a(17),Oe=a(46),we=a(1177),ke=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isSelected:[],isSelectedSub:[]},e.onSelect=function(t,a){var n=e.props.selectCategory,i=e.state,s=i.isSelected,r=i.isSelectedSub;if(a){var o=r.findIndex((function(e){return e===a.subCategoryId}));if(-1===o)e.setState({isSelectedSub:[].concat(Object(Oe.a)(r),[a.subCategoryId])});else{var l=r.filter((function(e){return e!==r[o]}));e.setState({isSelectedSub:l})}n(t,a)}else{var c=s.findIndex((function(e){return e===t.categoryId}));if(-1===c)e.setState({isSelected:[].concat(Object(Oe.a)(s),[t.categoryId])});else{var d=s.filter((function(e){return e!==s[c]}));e.setState({isSelected:d})}n(t)}},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.categoryList,n=t.currentStep;t.selectCategory;return 0===n?r.a.createElement(V.a,{container:!0,spacing:2,className:"main-category"},a.map((function(t,a){var n=e.state.isSelected;return r.a.createElement(V.a,{item:!0,key:"".concat(t.categoryId,"-").concat(a),xs:6,lg:3,sm:3},r.a.createElement(we.a,{className:"shop-by-category-category-item ".concat(t.title.replace(/\s+/g,"-").toLowerCase()," ").concat(n.includes(t.categoryId)?"selected":""),onClick:function(){return e.onSelect(t)}},r.a.createElement("img",{src:t.image,alt:t.title}),r.a.createElement("h3",{className:"category-heading"},t.title)))}))):a.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"sub-heading ".concat(t.title.replace(/\s+/g,"-").toLowerCase())},t.title),r.a.createElement(V.a,{container:!0,spacing:2,className:"sub-category"},0===t.subCategories.length&&r.a.createElement(V.a,{className:"no-sub-category",item:!0,xs:12,lg:12,sm:12},"No Sub category present for ".concat(t.title)),t.subCategories.map((function(a,n){var i=e.state.isSelectedSub;return r.a.createElement(V.a,{item:!0,key:"".concat(a.subCategoryId,"-").concat(n),xs:6,lg:3,sm:3},r.a.createElement(we.a,{className:"shop-by-category-category-item ".concat(t.title.replace(/\s+/g,"-").toLowerCase()," ").concat(i.includes(a.subCategoryId)?"selected":""),onClick:function(){return e.onSelect(t,a)}},r.a.createElement("h3",{className:"category-heading"},a.title)))}))))}))}}]),a}(s.Component),Le=a(77),Te=(a(973),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={currentStep:0,categoryList:[],selectedCategory:[],countCategory:0,countSubCategory:0,errorMessage:"",subCategoryList:[],isCategoryLoading:!0},e.shopByCategoryApiCall=function(){var t={locationNumber:sessionStorage.getItem("_lo_No")};k.a.postMethod(L.a.ShopByCategory,t,!0).then((function(t){console.log(t.data.data),e.setState({categoryList:t.data.data,isCategoryLoading:!1})})).catch((function(e){console.error("shop By Category Api",e)}))},e.selectCategory=function(t,a){var n=t.categoryId,i=e.state.selectedCategory,s=i.findIndex((function(e){return e.categoryId===n}));if(-1===s){var r=[].concat(Object(Oe.a)(i),[{categoryId:n}]);e.setState({selectedCategory:r,countCategory:r.length},(function(){return sessionStorage.setItem("selectedCategory",JSON.stringify(e.state.selectedCategory))}))}else{var o=i.filter((function(e){return e.categoryId!==i[s].categoryId}));e.setState({selectedCategory:o,countCategory:o.length},(function(){return sessionStorage.setItem("selectedCategory",JSON.stringify(e.state.selectedCategory))}))}if(a){var l={},c=-1,d=0,m=[];if(i[s].subCategoryIdList)if(-1===(c=i[s].subCategoryIdList.findIndex((function(e){return e===a.subCategoryId}))))l=Object(Ie.a)(Object(Ie.a)({},i[s]),{},{subCategoryIdList:Object(Oe.a)(new Set([].concat(Object(Oe.a)(i[s].subCategoryIdList),[a.subCategoryId])))});else{var u=i[s].subCategoryIdList.filter((function(e){return e!==i[s].subCategoryIdList[c]}));l=Object(Ie.a)(Object(Ie.a)({},i[s]),{},{subCategoryIdList:i[s].subCategoryIdList.filter((function(e){return u.includes(e)}))})}else l=Object(Ie.a)(Object(Ie.a)({},i[s]),{},{subCategoryIdList:[a.subCategoryId]});(m=[].concat(Object(Oe.a)(i.slice(0,s)),[l],Object(Oe.a)(i.slice(s+1)))).length>0&&m.forEach((function(e){e.subCategoryIdList&&(d+=e.subCategoryIdList.length)})),e.setState({selectedCategory:m,countSubCategory:d},(function(){return sessionStorage.setItem("selectedCategory",JSON.stringify(e.state.selectedCategory))}))}},e.nextClicked=function(){var t=e.state,a=t.selectedCategory,n=t.currentStep,i=t.categoryList,s=t.countCategory,r=(t.countSubCategory,[]);0===a.length&&e.setState({errorMessage:"Please select atleast 1 ##category##".replace(/##category##/g,"".concat(0===n?"category":"sub category"),document.getElementById("body").classList.add("has-toast"))},(function(){return setTimeout((function(){e.setState({errorMessage:""}),document.getElementById("body").classList.remove("has-toast")}),3e3)})),s>0&&0===n&&(i.filter((function(e){a.forEach((function(t){e.categoryId===t.categoryId&&r.push(e)}))})),e.setState({currentStep:1,countCategory:0,subCategoryList:r})),s>0&&1===n&&e.props.history.push("/productlist")},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.shopByCategoryApiCall()}},{key:"render",value:function(){var e=this.state,t=e.categoryList,a=e.currentStep,n=e.errorMessage,i=e.countCategory,s=e.countSubCategory,o=e.subCategoryList,l=e.isCategoryLoading,c=t.length,d=0;return o.length>0&&o.forEach((function(e){d+=e.subCategories.length})),l?r.a.createElement(V.a,{container:!0,justify:"center",style:{minHeight:"100px"}},r.a.createElement(V.a,{item:!0},r.a.createElement(te.a,null))):r.a.createElement(G.a,{className:"shop-by-category-container"},r.a.createElement("div",{className:"shop-by-category-container-inner"},n&&r.a.createElement(re.a,{fullWidth:!0,msg:n}),r.a.createElement("div",{className:"shop-by-category-container-heading"},0===a&&r.a.createElement(ee,{classField:"shop-by-category",heading:Le.a.SHOP_BY_CATEGORY_TITLE,subHeading:Le.a.SHOP_BY_CATEGORY_SUB_TITLE}),1===a&&r.a.createElement(ee,{classField:"shop-by-category",heading:"Building a box by flavor, occasion, diet, brand",subHeading:"How are we shopping today? Pick up to COUNT sub categories."}),r.a.createElement("div",{className:"shop-by-category-next"},r.a.createElement(X.a,{disabled:0===a&&0!==i&&!this.state.selectedCategory||1===a&&0===s,onClick:this.nextClicked},"Next"),0===a&&r.a.createElement("span",null,"".concat(i," of ").concat(c," selected")),1===a&&r.a.createElement("span",null,"".concat(s," of ").concat(d," selected")))),r.a.createElement("div",{className:"shop-by-category-category"},0===a&&r.a.createElement(ke,{categoryList:t,currentStep:a,selectCategory:this.selectCategory}),1===a&&r.a.createElement(ke,{categoryList:o,currentStep:a,selectCategory:this.selectCategory}))))}}]),a}(s.Component)),De=a(260),xe=a(105),Pe=a.n(xe),_e=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={termsOfServiceConentHeading:"",termsOfServiceConentBody:"",spinner:!0,errorMessage:"",error:!1},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"componentDidMount",value:function(){var e=this;try{this.props.actionContentListPrivacyPolicy({contentId:"Terms of Service"}).then((function(){var t=e.props.privacyPolicy;t.success&&!0===t.success?t.data.map((function(t){var a=t;return e.setState({spinner:!1,termsOfServiceConentHeading:a.contentHeading,termsOfServiceConentBody:a.content}),!0})):e.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}))}catch(t){this.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(G.a,{className:"container-root"},r.a.createElement("div",{className:"common-box common-box-full"},this.state.spinner?r.a.createElement("div",null,r.a.createElement(le.a,null)):" ",r.a.createElement(J.a,{open:this.state.error,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:function(){e.setState({error:!1},(function(){document.getElementById("body").classList.remove("has-toast")}))},severity:"error"},this.state.errorMessage)),r.a.createElement("div",{className:"common-box-header"},r.a.createElement(R.a,{variant:"h1"},this.state.termsOfServiceConentHeading)),r.a.createElement("div",{className:"common-box-body"},Pe()(this.state.termsOfServiceConentBody))))}}]),a}(s.Component),Me=Object(d.b)((function(e){return{privacyPolicy:e.reducer.privacyPolicy}}),{actionContentListPrivacyPolicy:E.e})(_e),Fe=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={privayPolicyConentHeading:"",privayPolicyConentBody:"",spinner:!0,errorMessage:"",error:!1},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"componentDidMount",value:function(){var e=this;try{this.props.actionContentListPrivacyPolicy({contentId:"Privacy Policy"}).then((function(){var t=e.props.privacyPolicy;t.success&&!0===t.success?t.data.map((function(t){var a=t;return e.setState({spinner:!1,privayPolicyConentHeading:a.contentHeading,privayPolicyConentBody:a.content}),!0})):e.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}))}catch(t){this.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(G.a,{className:"container-root"},r.a.createElement("div",{className:"common-box common-box-full"},this.state.spinner?r.a.createElement("div",null,r.a.createElement(le.a,null)):" ",r.a.createElement(J.a,{open:this.state.error,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:function(){e.setState({error:!1},(function(){document.getElementById("body").classList.remove("has-toast")}))},severity:"error"},this.state.errorMessage)),r.a.createElement("div",{className:"common-box-header"},r.a.createElement(R.a,{variant:"h1"},this.state.privayPolicyConentHeading)),r.a.createElement("div",{className:"common-box-body"},Pe()(this.state.privayPolicyConentBody))))}}]),a}(s.Component),je=Object(d.b)((function(e){return{privacyPolicy:e.reducer.privacyPolicy}}),{actionContentListPrivacyPolicy:E.e})(Fe),Be=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={adsTrackingConentHeading:"",adsTrackingConentBody:"",spinner:!0,errorMessage:"",error:!1},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"componentDidMount",value:function(){var e=this;try{this.props.actionContentListPrivacyPolicy({contentId:"Ads and Tracking"}).then((function(){var t=e.props.privacyPolicy;t.success&&!0===t.success?t.data.map((function(t){var a=t;return e.setState({spinner:!1,adsTrackingConentHeading:a.contentHeading,adsTrackingConentBody:a.content}),!0})):e.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}))}catch(t){this.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(G.a,{className:"container-root"},r.a.createElement("div",{className:"common-box common-box-full"},this.state.spinner?r.a.createElement("div",null,r.a.createElement(le.a,null)):" ",r.a.createElement(J.a,{open:this.state.error,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:function(){e.setState({error:!1},(function(){document.getElementById("body").classList.remove("has-toast")}))},severity:"error"},this.state.errorMessage)),r.a.createElement("div",{className:"common-box-header"},r.a.createElement(R.a,{variant:"h1"},this.state.adsTrackingConentHeading)),r.a.createElement("div",{className:"common-box-body"},Pe()(this.state.adsTrackingConentBody))))}}]),a}(s.Component),Ve=Object(d.b)((function(e){return{privacyPolicy:e.reducer.privacyPolicy}}),{actionContentListPrivacyPolicy:E.e})(Be),Re=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={returnsPolicyConentHeading:"",returnsPolicyConentBody:"",spinner:!0,errorMessage:"",error:!1},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"componentDidMount",value:function(){var e=this;try{this.props.actionContentListPrivacyPolicy({contentId:"Shipping and Returns"}).then((function(){var t=e.props.returnsPolicy;t.success&&!0===t.success?t.data.map((function(t){var a=t;return e.setState({spinner:!1,returnsPolicyConentHeading:a.contentHeading,returnsPolicyConentBody:a.content}),!0})):e.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}))}catch(t){this.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(G.a,{className:"container-root"},r.a.createElement("div",{className:"common-box common-box-full multi-listed"},this.state.spinner?r.a.createElement("div",null,r.a.createElement(le.a,null)):" ",r.a.createElement(J.a,{open:this.state.error,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:function(){e.setState({error:!1},(function(){document.getElementById("body").classList.remove("has-toast")}))},severity:"error"},this.state.errorMessage)),r.a.createElement("div",{className:"common-box-header"},r.a.createElement(R.a,{variant:"h1"},this.state.returnsPolicyConentHeading)),r.a.createElement("div",{className:"common-box-body"},Pe()(this.state.returnsPolicyConentBody))))}}]),a}(s.Component),Ze=Object(d.b)((function(e){return{returnsPolicy:e.reducer.privacyPolicy}}),{actionContentListPrivacyPolicy:E.e})(Re),qe=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={faqConentHeading:"",faqConentBody:"",spinner:!0,errorMessage:"",error:!1},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"componentDidMount",value:function(){var e=this;try{this.props.actionContentListPrivacyPolicy({contentId:"faq"}).then((function(){var t=e.props.faq;t.success&&!0===t.success?t.data.map((function(t){var a=t;return e.setState({spinner:!1,faqConentHeading:a.contentHeading,faqConentBody:a.content}),!0})):e.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}))}catch(t){this.setState({error:!0,errorMessage:"Some Technical Issue",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast")}))}}},{key:"render",value:function(){var e=this;return r.a.createElement(G.a,{className:"container-root"},r.a.createElement("div",{className:"common-box common-box-full faq-box"},this.state.spinner?r.a.createElement("div",null,r.a.createElement(le.a,null)):" ",r.a.createElement(J.a,{open:this.state.error,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:function(){e.setState({error:!1},(function(){document.getElementById("body").classList.remove("has-toast")}))},severity:"error"},this.state.errorMessage)),r.a.createElement("div",{className:"common-box-header"},r.a.createElement(R.a,{variant:"h1"},this.state.faqConentHeading)),r.a.createElement("div",{className:"common-box-body"},Pe()(this.state.faqConentBody))))}}]),a}(s.Component),ze=Object(d.b)((function(e){return{faq:e.reducer.privacyPolicy}}),{actionContentListPrivacyPolicy:E.e})(qe),Ue=a(174),He=a(1178),We=a(1171),Je=a(1183),Ge=a(526),Ye=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.customerDetails;return r.a.createElement("div",{className:"profile-info"},r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini"},r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(R.a,{variant:"h2",component:"h2"},"Contact Info")),r.a.createElement(V.a,{item:!0,className:"text-right"},r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-link",id:"editContact","aria-label":"edit Contact Info",onClick:function(){return e.props.setProfile(!1)}},"Edit"))),r.a.createElement(Ge.a,{className:"profile-card card-3"},r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("div",{className:"key"},"Name:"),r.a.createElement("div",{className:"val"},t?t.customerfirstname+" "+t.customerlastname:"-")),r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("div",{className:"key"},"Email:"),r.a.createElement("div",{className:"val"},t?t.customeremail:"-")),r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("div",{className:"key"},"Phone:"),r.a.createElement("div",{className:"val"},t?t.customerPhone1:"-")))))))}}]),a}(s.Component),Ke=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={initialValues:null,submitDisabled:!0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({initialValues:this.props.customerDetails})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"profile-info"},this.state.initialValues?r.a.createElement(ye.c,{enableReinitialize:!0,initialValues:this.state.initialValues,validationSchema:Ce.object().shape({customerfirstname:Ce.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters.").test("customerfirstname","First Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),customerlastname:Ce.string().trim().required("Last Name is required.").min(2,"Name must be at least 2 characters.").test("customerlastname","Last Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),customerPhone1:Ce.string().trim().nullable().required("Phone number is required.").test("customerPhone1","Please enter a valid phone number.",(function(e){if(null===e||""===e)return!0;return!!/((\([0-9]{3}\))|[0-9]{3})[\s-]?[\0-9]{3}[\s-]?[0-9]{4}$/.test(e)})).min(10,"Phone Number must be 10 digits").max(10,"Phone Number must be 10 digits")}),onSubmit:function(t,a){a.resetForm;e.props.handleSubmit(t)}},(function(t){t.resetForm;var a=t.setFieldValue,n=t.setFieldTouched,i=t.errors,s=t.values,o=t.touched;return r.a.createElement(ye.b,{id:"startSubscriptionForm",name:"form1",autoComplete:"startSubscriptionForm"},r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini"},r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(R.a,{variant:"h2",component:"h2"},"Contact Info"))),r.a.createElement("label",{htmlFor:"prevent_autofill_Contact",className:"heading-hidden"},"Auto Fill"),r.a.createElement("input",{type:"text",name:"prevent_autofill_Contact",readOnly:!0,id:"prevent_autofill_Contact",value:"",style:{display:"none"}}),r.a.createElement(Ge.a,{className:"profile-card profile-card-form"},r.a.createElement(V.a,{container:!0,spacing:6,className:"form-card-container"},r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"customerfirstname"},"First Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"customerfirstname",id:"customerfirstname",name:"customerfirstname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:s.customerfirstname,onChange:function(e){return a("customerfirstname",e.target.value)},onBlur:function(){n("customerfirstname",!0),e.setState({submitDisabled:!1})},error:Boolean(o.customerfirstname&&i.customerfirstname)}),r.a.createElement(ye.a,{component:"div",name:"customerfirstname",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"customerlastname"},"Last Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"customerlastname",id:"customerlastname",name:"customerlastname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:s.customerlastname,onChange:function(e){return a("customerlastname",e.target.value)},onBlur:function(){n("customerlastname",!0),e.setState({submitDisabled:!1})},error:Boolean(o.customerlastname&&i&&i.customerlastname)}),r.a.createElement(ye.a,{component:"div",name:"customerlastname",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"customerPhone1"},"Phone",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"customerPhone1",id:"customerPhone1",name:"customerPhone1",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:s.customerPhone1,onChange:function(e){return a("customerPhone1",e.target.value)},onBlur:function(){n("customerPhone1",!0),e.setState({submitDisabled:!1})},error:Boolean(o&&o.customerPhone1&&i&&i.customerPhone1)}),r.a.createElement(ye.a,{component:"div",name:"customerPhone1",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},"*At this time changing email address isn't permissible"))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{item:!0},r.a.createElement("div",{className:"text-right"},r.a.createElement(X.a,{type:"button",onClick:function(){return e.props.setProfile(!0)},variant:"contained",color:"primary",className:"btn-mui btn-outlined btn-sm",id:"CancelContact","aria-label":"Cancel Contact Info"}," Cancel "),r.a.createElement(X.a,{type:"submit",variant:"contained",color:"primary",className:"btn-mui btn-blue btn-sm",id:"SaveContact","aria-label":"Save Contact Info",disabled:e.state.submitDisabled}," Save ")))))))})):"")}}]),a}(s.Component),$e=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"getAddress",value:function(e){var t="";return t+=e&&e.billingAddressline1?e.billingAddressline1:"",t+=e&&e.billingAddressline2?", "+e.billingAddressline2:"",t+=e&&e.billingCity?", "+e.billingCity:"",t+=e&&e.billingState?", "+e.billingState:"",t+=e&&e.billingZip?", "+e.billingZip:""}},{key:"render",value:function(){var e=this,t=this.props.customerDetails,a=t.billingFirstname?"Edit":"Add Billing Address",n=t.billingFirstname?"Billing Address":"";return r.a.createElement("div",{className:"profile-info"},r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini"},r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(R.a,{variant:"h2",component:"h2"},n)),r.a.createElement(V.a,{item:!0,className:"text-right"},r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-link",id:"editBillingAddress","aria-label":"edit Billing Address",onClick:function(){return e.props.setBilling(!1)}},a))),t.billingFirstname?r.a.createElement(Ge.a,{className:"profile-card"},r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("div",{className:"key"},t?(t.billingFirstname?t.billingFirstname:"")+" "+(t.billingLastname?t.billingLastname:""):"-"),r.a.createElement("div",{className:"val"},this.getAddress(t)))):""))))}}]),a}(s.Component),Qe=a(15),Xe=a(43),et=a(1166),tt=a(1180),at=a(1167),nt=a(1168),it=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={selectedAddress:0},n}return Object(p.a)(a,[{key:"getAdressLine",value:function(e,t){var a=this,n="",i="",s="",o="",l=e.AddressLine?e.AddressLine:"";Array.isArray(e.AddressLine)&&(l=(e.AddressLine[0]?e.AddressLine[0]:"")+(e.AddressLine[1]?", "+e.AddressLine[1]:"")),e.CountryCode&&(s=e.CountryCode),e.PoliticalDivision1&&(i=e.PoliticalDivision1),e.PoliticalDivision2&&(n=e.PoliticalDivision2),e.PostcodePrimaryLow&&(o=e.PostcodePrimaryLow);var c=(l||"")+(n?" "+n:"")+(i?" "+i:"")+(s?", "+s:"")+(o?" "+o:"");return r.a.createElement(et.a,{onChange:function(e){return a.setState({selectedAddress:t})},value:t,key:"".concat("address1"+t),control:r.a.createElement(tt.a,null),label:c})}},{key:"manageSuggestedAddress",value:function(){var e=this.props.addressVerifyData[this.state.selectedAddress]?this.props.addressVerifyData[this.state.selectedAddress].AddressKeyFormat:"",t=this.props.initialValues;"billing"==this.props.isAddress?(Array.isArray(e.AddressLine)?(t.billingAddressline1=e.AddressLine[0],t.billingAddressline2=e.AddressLine[1]):(t.billingAddressline1=e.AddressLine,t.billingAddressline2=""),t.billingCountry=e.CountryCode?e.CountryCode:"",t.billingState=e.PoliticalDivision1?e.PoliticalDivision1:"",t.billingCity=e.PoliticalDivision2?e.PoliticalDivision2:"",t.billingZip=e.PostcodePrimaryLow?e.PostcodePrimaryLow:""):(Array.isArray(e.AddressLine)?(t.shippingAddressline1=e.AddressLine[0],t.shippingAddressline2=e.AddressLine[1]):(t.shippingAddressline1=e.AddressLine,t.shippingAddressline2=""),t.shippingCountry=e.CountryCode?e.CountryCode:"",t.shippingState=e.PoliticalDivision1?e.PoliticalDivision1:"",t.shippingCity=e.PoliticalDivision2?e.PoliticalDivision2:"",t.shippingZip=e.PostcodePrimaryLow?e.PostcodePrimaryLow:""),this.props.onSubmit(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement($.a,{open:!0,onClose:function(t){return e.props.hideDialog(t.target.innerHTML)},"aria-labelledby":"address-modal",disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:!1,classes:{paper:"modal-address",root:"modal-stack-top"}},r.a.createElement(at.a,{id:"address-modal"},"Relevant Address"),r.a.createElement(Q.a,{dividers:!0,className:"modal-address-content"},r.a.createElement(Je.a,{"aria-label":"relevant address",name:"relevantaddress",value:this.state.selectedAddress},this.props.addressVerifyData&&this.props.addressVerifyData.length>0?this.props.addressVerifyData.map((function(t,a){return e.getAdressLine(t.AddressKeyFormat,a)})):r.a.createElement("h3",null,"Address is not available!!"))),r.a.createElement(nt.a,{className:"modal-address-action"},r.a.createElement(X.a,{onClick:function(){return e.props.cancelDialog()},variant:"contained",color:"primary",className:" btn-mui btn-red","aria-label":"Cancel"},"Cancel"),this.props.addressVerifyData&&this.props.addressVerifyData.length>0?r.a.createElement(X.a,{onClick:function(){return e.manageSuggestedAddress()},color:"primary",className:"btn-mui btn-yellow",id:"applyAddress","aria-label":"Apply Address"}," Apply "):"")))}}]),a}(s.Component),st=a(61),rt=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={ZipfailMessage:null,submitDisabled:!0,initialValues:null},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({initialValues:this.props.customerDetails})}},{key:"getRequest",value:function(e){var t=e.billingZip?e.billingZip:null,a=e.billingState?e.billingState:null,n=e.billingCity?e.billingCity:null,i=L.a.defaultCountry,s=e.billingAddressline1?e.billingAddressline1:"",r=e.billingAddressline2?e.billingAddressline2:"",o={};o.postalArea=t,o.stateOrProvinceName=a;var l={};l.Region=(n||"")+(a?", "+a:"")+(t?", "+t:""),l.CountryCode=i,l.AddressLine=[s+" "+r];var c={};return c.destination=o,c.isTaxFalse=!0,c.isBillingAddress=!0,c.isAddress=!0,c.Address=l,c.documentDate=new Date,c.transactionType="SALE",c}},{key:"hideDialog",value:function(){this.setState(Object(Qe.a)({},"AddressSuggestionDialog",null))}},{key:"cancelDialog",value:function(){var e;this.setState((e={},Object(Qe.a)(e,"AddressSuggestionDialog",null),Object(Qe.a)(e,"submitDisabled",!0),e))}},{key:"addressValidate",value:function(e){var t=this;if(e.billingZip&&"5"==e.billingZip.length){var a=this.getRequest(e),n=L.a.orderTax;this.props.isLoading(!0),k.a.postMethod(n,a,!0).then((function(a){if(!0===a.data.success&&!0===a.data.zipSuccess){if(!1===a.data.addressSuccess&&!1===a.data.candidateFound)return t.props.isLoading(!1),t.setState({submitDisabled:!0,ZipfailMessage:a.data.addressErrorMessage}),!1;if(!a.data.candidateFound)return t.setState({submitDisabled:!1,ZipfailMessage:""}),t.props.isLoading(!1),!1;if(t.setState({submitDisabled:!1}),a.data.candidateFound){t.props.isLoading(!1);var n=a.data.data&&a.data.data.address&&a.data.data.address.data&&a.data.data.address.data.XAVResponse?a.data.data.address.data.XAVResponse.Candidate:[],i=n;return Array.isArray(n)||(i=[n]),t.setState(Object(Qe.a)({},"AddressSuggestionDialog",r.a.createElement(it,{onSubmit:function(e){return t.setState({initialValues:e},(function(){return t.hideDialog()}))},isAddress:"billing",initialValues:e,manageSuggestedAddress:function(){return t.manageSuggestedAddress()},hideDialog:function(){return t.hideDialog()},cancelDialog:function(){return t.cancelDialog()},addressVerifyData:i}))),!1}}else setTimeout((function(){t.props.isLoading(!1)}),100),t.setState({submitDisabled:!0,ZipfailMessage:a.data.zipErrorMessage})})).catch((function(e){t.setState({ZipfailMessage:L.a.errorMsg,submitDisabled:!0})}))}else this.setState({submitDisabled:!0})}},{key:"render",value:function(){var e=this,t=/^[0-9\b]+$/,a=/^[a-zA-Z0-9 '.#,/'-]*$/;return r.a.createElement("div",{className:"profile-info"},this.state.initialValues?r.a.createElement(ye.c,{enableReinitialize:!0,initialValues:this.state.initialValues,validationSchema:Ce.object().shape({billingFirstname:Ce.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters.").test("billingFirstname","First Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),billingLastname:Ce.string().trim().min(2,"Name must be at least 2 characters.").required("Last Name is required.").test("billingLastname","Last Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),billingAddressline1:Ce.string().trim().required("Address is Required."),billingAddressline2:Ce.string().nullable().notRequired(),billingZip:Ce.string().trim().required("Zip is required").matches(/^[0-9]{5}$/,"Zip code must be exactly 5 digits."),billingState:Ce.string().trim().required("State is required."),billingCity:Ce.string().trim().required("City is required.")}),onSubmit:function(t,a){a.resetForm;e.props.handleSubmit(t)}},(function(n){n.resetForm;var i=n.setFieldValue,s=n.setFieldTouched,o=n.errors,l=n.values,c=n.touched;return r.a.createElement(ye.b,{id:"startSubscriptionForm",name:"form1",autoComplete:"startSubscriptionForm"},r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini"},r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(R.a,{variant:"h2",component:"h2"},"Billing Address"))),r.a.createElement("label",{htmlFor:"prevent_autofill_billing",className:"heading-hidden"},"Auto Fill"),r.a.createElement("input",{type:"text",name:"prevent_autofill_billing",readOnly:!0,id:"prevent_autofill_billing",value:"",style:{display:"none"}}),r.a.createElement(Ge.a,{className:"profile-card profile-card-form"},r.a.createElement(V.a,{container:!0,spacing:6,className:"form-card-container"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement("span",{style:{color:"red"}},e.state.ZipfailMessage)),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"billingFirstname"},"First Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"billingFirstname",id:"billingFirstname",name:"billingFirstname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:l.billingFirstname,onChange:function(e){return i("billingFirstname",e.target.value)},onBlur:function(e){s("billingFirstname",!0)},error:Boolean(c.billingFirstname&&o.billingFirstname)}),r.a.createElement(ye.a,{component:"div",name:"billingFirstname",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"billingLastname"},"Last Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"billingLastname",id:"billingLastname",name:"billingLastname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:l.billingLastname,onChange:function(e){return i("billingLastname",e.target.value)},onBlur:function(e){s("billingLastname",!0)},error:Boolean(c.billingLastname&&o.billingLastname)}),r.a.createElement(ye.a,{component:"div",name:"billingLastname",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"billingAddressline1"},"Address",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"billingAddressline1",id:"billingAddressline1",name:"billingAddressline1",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:l.billingAddressline1,onChange:function(e){a.test(e.target.value)&&i("billingAddressline1",e.target.value)},onBlur:function(t){s("billingAddressline1",!0),l.billingAddressline1&&l.billingState&&l.billingCity&&l.billingZip&&e.addressValidate(l)},error:Boolean(c.billingAddressline1&&o.billingAddressline1)}),r.a.createElement(ye.a,{component:"div",name:"billingAddressline1",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"billingAddressline2"},"Address 2 (optional)"),r.a.createElement(Se.a,{autoComplete:"billingAddressline2",id:"billingAddressline2",name:"billingAddressline2",onChange:function(e){a.test(e.target.value)&&i("billingAddressline2",e.target.value)},onBlur:function(){s("billingAddressline2",!0),l.billingAddressline1&&l.billingState&&l.billingCity&&l.billingZip&&e.addressValidate(l)},value:l.billingAddressline2}),r.a.createElement(ye.a,{component:"div",name:"billingAddressline2",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"billingCity"},"City",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"billingCity",id:"billingCity",name:"billingCity",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){a.test(t.target.value)&&(i("billingCity",t.target.value),e.addressValidate(l))},onBlur:function(t){s("billingCity",!0),l.billingAddressline1&&l.billingState&&l.billingCity&&l.billingZip&&e.addressValidate(l)},error:Boolean(c.billingCity&&o.billingCity),value:l.billingCity}),r.a.createElement(ye.a,{component:"div",name:"billingCity",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:4},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement("label",{htmlFor:"billingState"},r.a.createElement(st.a,{id:"billingState",label:"State",touched:c.billingState,options:Xe,defaultValue:Xe.find((function(e){return e.value===l.billingState})),value:Xe.find((function(e){return e.value===l.billingState})),onChange:function(e,t){null!==t&&i("billingState",t.value)},onBlur:function(t,a){s("billingState",!0),l.billingAddressline1&&l.billingState&&l.billingCity&&l.billingZip&&e.addressValidate(l)},error:Boolean(c.billingState&&o.billingState)})),r.a.createElement(ye.a,{component:"div",name:"billingState",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:2},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"billingZip"},"Zip Code",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"billingZip",name:"billingZip",id:"billingZip",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(e){(t.test(e.target.value)||""===e.target.value)&&e.target.value.length<=5&&i("billingZip",e.target.value)},onBlur:function(t){s("billingZip",!0),l.billingAddressline1&&l.billingState&&l.billingCity&&l.billingZip&&e.addressValidate(l)},error:Boolean(c.billingZip&&o.billingZip),value:l.billingZip}),r.a.createElement(ye.a,{component:"div",name:"billingZip",className:"text-danger"}))))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{item:!0},r.a.createElement("div",{className:"text-right"},r.a.createElement(X.a,{type:"button",onClick:function(){return e.props.setBilling(!0)},variant:"contained",color:"primary",className:"btn-mui btn-outlined btn-sm",id:"cancelBilling","aria-label":"Cancel Billing Address"}," ","Cancel"," "),r.a.createElement(X.a,{disabled:e.state.submitDisabled,type:"submit",variant:"contained",color:"primary",className:"btn-mui btn-blue btn-sm",id:"saveBilling","aria-label":"Save Billing Address"}," ","Save"," ")))))))})):"",this.state.AddressSuggestionDialog)}}]),a}(s.Component),ot=a(1098),lt=a(128),ct=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={showDeletPrompt:!1,deleteClicked:!1},n}return Object(p.a)(a,[{key:"getAddress",value:function(e){var t="";return t+=e&&e.shippingAddressline1?e.shippingAddressline1:"",t+=e&&e.shippingAddressline2?", "+e.shippingAddressline2:"",t+=e&&e.shippingCity?", "+e.shippingCity:"",t+=e&&e.shippingState?", "+e.shippingState:"",t+=e&&e.shippingZip?", "+e.shippingZip:""}},{key:"render",value:function(){var e=this,t=this.props.customerDetails;return r.a.createElement("div",{className:"profile-info"},r.a.createElement(lt.a,{dialogClose:function(){return e.setState({showDeletPrompt:!1,deleteClicked:!1})},dialogOpen:this.state.showDeletPrompt,dialogHeading:"Are you sure you want to delete the shipping address?",dialogWarning:!0,dialogCloseConfirm:function(){e.props.removeShippingAddress(e.props.index),e.setState({showDeletPrompt:!1,deleteClicked:!1})},ariaLabelYes:"Yes I want to delete the shipping address",ariaLabelCancel:"No I don't want to delete the shipping address"}),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini"},r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(R.a,{variant:"h2",component:"h2"},"Shipping Address ",this.props.index>0?this.props.index+1:"")),r.a.createElement(V.a,{item:!0,className:"text-right"},r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-link",id:"editShippingAddress"+(0===this.props.index?"":this.props.index+1),"aria-label":"edit Shipping Address"+(0===this.props.index?"":this.props.index+1),onClick:function(){return e.props.setShipping(!1,e.props.index)}},"Edit"),t.isPrimary?"":r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-link",id:"removeShippingAddress"+(0===this.props.index?"":this.props.index+1),"aria-label":"remove Shipping Address"+(0===this.props.index?"":this.props.index+1),onClick:function(){return e.setState({showDeletPrompt:!0,deleteClicked:!0})}},"Remove"))),r.a.createElement(Ge.a,{className:"profile-card"},r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("div",{className:"key"},t?t.shippingFirstname+" "+t.shippingLastname:""),r.a.createElement("div",{className:"val"},this.getAddress(t)),r.a.createElement("div",null,r.a.createElement(fe.a,{component:"fieldset"},r.a.createElement(ot.a,{component:"legend",className:"heading-hidden"},"Primary shipping address"),r.a.createElement(et.a,{onChange:function(){return e.props.setPrimaryAddress(t,e.props.index)},value:t.id,key:"".concat("address1"+t.id),control:r.a.createElement(tt.a,null),label:"Primary shipping address"})))))))))}}]),a}(s.Component),dt=(a(65),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={ZipfailMessage:null,submitDisabled:!0,initialValues:null},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.setState({initialValues:this.props.customerDetails})}},{key:"hideDialog",value:function(e){this.setState(Object(Qe.a)({},"AddressSuggestionDialog",null))}},{key:"cancelDialog",value:function(){var e;this.setState((e={},Object(Qe.a)(e,"AddressSuggestionDialog",null),Object(Qe.a)(e,"submitDisabled",!0),e))}},{key:"getRequest",value:function(e){var t=e.shippingZip?e.shippingZip:null,a=e.shippingState?e.shippingState:null,n=e.shippingCity?e.shippingCity:null,i=L.a.defaultCountry,s=e.shippingAddressline1?e.shippingAddressline1:"",r=e.shippingAddressline2?e.shippingAddressline2:"",o={};o.postalArea=t,o.stateOrProvinceName=a;var l={};l.Region=(n||"")+(a?", "+a:"")+(t?", "+t:""),l.CountryCode=i,l.AddressLine=[s+" "+r];var c={};return c.destination=o,c.isTaxFalse=!0,c.isAddress=!0,c.Address=l,c.documentDate=new Date,c.transactionType="SALE",c}},{key:"addressValidate",value:function(e){var t=this,a=["P O BOX","P.O BOX","P.O.BOX","PO BOX"];if(e.shippingZip&&"5"==e.shippingZip.length&&-1===a.indexOf(e.shippingAddressline1)&&-1===a.indexOf(e.shippingAddressline2)){var n=this.getRequest(e),i=L.a.orderTax;this.props.isLoading(!0),k.a.postMethod(i,n,!0).then((function(a){if(!0===a.data.success&&!0===a.data.zipSuccess){if(!1===a.data.addressSuccess&&!1===a.data.candidateFound)return t.props.isLoading(!1),t.setState({submitDisabled:!0,ZipfailMessage:a.data.addressErrorMessage}),!1;if(!a.data.candidateFound)return t.setState({submitDisabled:!1,ZipfailMessage:""}),t.props.isLoading(!1),!1;if(t.setState({submitDisabled:!1}),a.data.candidateFound){t.setState({ZipfailMessage:""}),t.props.isLoading(!1);var n=a.data.data&&a.data.data.address&&a.data.data.address.data&&a.data.data.address.data.XAVResponse?a.data.data.address.data.XAVResponse.Candidate:[],i=n;return Array.isArray(n)||(i=[n]),t.setState(Object(Qe.a)({},"AddressSuggestionDialog",r.a.createElement(it,{onSubmit:function(e){return t.setState({initialValues:e},(function(){return t.hideDialog()}))},isAddress:"shipping",initialValues:e,manageSuggestedAddress:function(){return t.manageSuggestedAddress()},hideDialog:function(){return t.hideDialog()},cancelDialog:function(){return t.cancelDialog()},addressVerifyData:i}))),!1}}else setTimeout((function(){t.props.isLoading(!1)}),100),t.setState({submitDisabled:!0,ZipfailMessage:a.data.zipErrorMessage})})).catch((function(e){t.setState({ZipfailMessage:L.a.errorMsg,submitDisabled:!0})}))}else this.setState({submitDisabled:!0})}},{key:"render",value:function(){var e=this,t=/\bP(ost|ostal)?([ \.]*(O|0)(ffice)?)?([ \.]*Box)\b/i,a=/^[0-9\b]+$/,n=/^[a-zA-Z0-9 '.#,/'-]*$/,i=this.props.index;return r.a.createElement("div",{className:"profile-info"},this.state.initialValues?r.a.createElement(ye.c,{enableReinitialize:!0,initialValues:this.state.initialValues,validationSchema:Ce.object().shape({shippingFirstname:Ce.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters.").test("shippingFirstname","First Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),shippingLastname:Ce.string().trim().min(2,"Name must be at least 2 characters.").required("Last Name is required.").test("shippingLastname","Last Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),shippingAddressline1:Ce.string().trim().required("Address is Required.").test("shippingAddressline1",L.a.poBoxErrorMsg.replace(/##ADDTYPE##/g,(function(){return"shipping"})),(function(e){return!t.test(e)})),shippingAddressline2:Ce.string().nullable().notRequired().test("shippingAddressline2",L.a.poBoxErrorMsg.replace(/##ADDTYPE##/g,(function(){return"shipping"})),(function(e){return!t.test(e)})),shippingZip:Ce.string().trim().matches(/^[0-9]{5}$/,"Zip code must be exactly 5 digits.").required("Zip is required"),shippingState:Ce.string().trim().required("State is required."),shippingCity:Ce.string().trim().required("City is required.")}),onSubmit:function(t,a){a.resetForm;e.props.handleSubmit(t,i)}},(function(t){t.resetForm;var s=t.setFieldValue,o=t.setFieldTouched,l=t.errors,c=t.values,d=t.touched;return r.a.createElement(ye.b,{id:"startSubscriptionForm",name:"form1",autoComplete:"startSubscriptionForm"},r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini title-mini-shipping"},r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(R.a,{variant:"h2",component:"h2"},"Shipping Address ",i>0?i+1:""))),r.a.createElement("label",{htmlFor:"prevent_autofill_shipping"+i,className:"heading-hidden"},"Auto Fill"),r.a.createElement("input",{type:"text",name:"prevent_autofill_shipping",readOnly:!0,id:"prevent_autofill_shipping"+i,value:"",style:{display:"none"}}),r.a.createElement(Ge.a,{className:"profile-card profile-card-form"},r.a.createElement("div",{className:"shipping-form"},r.a.createElement(V.a,{container:!0,spacing:6,className:"form-card-container",key:i,style:{marginTop:"20px !important"}},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement("span",{style:{color:"red"}},e.state.ZipfailMessage)),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"shippingFirstname"+(0===i?"":i+1)},"First Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"shippingFirstname",id:"shippingFirstname"+(0===i?"":i+1),name:"shippingFirstname"+(0===i?"":i+1),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:c.shippingFirstname,onChange:function(e){return s("shippingFirstname",e.target.value)},onBlur:function(e){o("shippingFirstname",!0)},error:Boolean(d.shippingFirstname&&l.shippingFirstname)}),r.a.createElement(ye.a,{component:"div",name:"shippingFirstname",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"shippingLastname"+(0===i?"":i+1)},"Last Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"shippingLastname",id:"shippingLastname"+(0===i?"":i+1),name:"shippingLastname"+(0===i?"":i+1),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:c.shippingLastname,onChange:function(e){return s("shippingLastname",e.target.value)},onBlur:function(e){o("shippingLastname",!0)},error:Boolean(d.shippingLastname&&l.shippingLastname)}),r.a.createElement(ye.a,{component:"div",name:"shippingLastname",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"shippingAddressline1"+(0===i?"":i+1)},"Address",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"shippingAddressline1",id:"shippingAddressline1"+(0===i?"":i+1),name:"shippingAddressline1"+(0===i?"":i+1),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:c.shippingAddressline1,onChange:function(e){n.test(e.target.value)&&s("shippingAddressline1",e.target.value)},onBlur:function(t){o("shippingAddressline1",!0),c.shippingAddressline1&&c.shippingState&&c.shippingCity&&c.shippingZip&&e.addressValidate(c)},error:Boolean(d.shippingAddressline1&&l.shippingAddressline1)}),r.a.createElement(ye.a,{component:"div",name:"shippingAddressline1",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"shippingAddressline2"+(0===i?"":i+1)},"Address 2 (optional)"),r.a.createElement(Se.a,{autoComplete:"shippingAddressline2",id:"shippingAddressline2"+(0===i?"":i+1),name:"shippingAddressline2"+(0===i?"":i+1),value:c.shippingAddressline2,onChange:function(e){n.test(e.target.value)&&s("shippingAddressline2",e.target.value)},onBlur:function(e){o("shippingAddressline2",!0)},error:Boolean(d.shippingAddressline2&&l.shippingAddressline2)}),r.a.createElement(ye.a,{component:"div",name:"shippingAddressline2",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"shippingCity"+(0===i?"":i+1)}," ","City",r.a.createElement("span",{className:"text-danger"},"*")," "),r.a.createElement(Se.a,{autoComplete:"shippingCity",id:"shippingCity"+(0===i?"":i+1),name:"shippingCity"+(0===i?"":i+1),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){n.test(t.target.value)&&(s("shippingCity",t.target.value),e.addressValidate(c))},onBlur:function(t){o("shippingCity",!0),c.shippingAddressline1&&c.shippingState&&c.shippingCity&&c.shippingZip&&e.addressValidate(c)},value:c.shippingCity,error:Boolean(d.shippingCity&&l.shippingCity)}),r.a.createElement(ye.a,{component:"div",name:"shippingCity",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:4},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement("label",{htmlFor:"shippingState"+(0===i?"":i+1)},r.a.createElement(st.a,{id:"shippingState"+(0===i?"":i+1),label:"State",touched:d.shippingState,options:Xe,defaultValue:Xe.find((function(e){return e.value===c.shippingState})),value:Xe.find((function(e){return e.value===c.shippingState})),onChange:function(e,t){null!==t&&s("shippingState",t.value)},onBlur:function(t,a){o("shippingState",!0),c.shippingAddressline1&&c.shippingState&&c.shippingCity&&c.shippingZip&&e.addressValidate(c)},error:Boolean(d.shippingState&&l.shippingState)})),r.a.createElement(ye.a,{component:"div",name:"shippingState",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:2},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"shippingZip"+(0===i?"":i+1)},"Zip Code",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"shippingZip",id:"shippingZip"+(0===i?"":i+1),name:"shippingZip"+(0===i?"":i+1),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(e){(a.test(e.target.value)||""===e.target.value)&&e.target.value.length<=5&&s("shippingZip",e.target.value)},onBlur:function(t){o("shippingZip",!0),c.shippingAddressline1&&c.shippingState&&c.shippingCity&&c.shippingZip&&e.addressValidate(c)},error:Boolean(d.shippingZip&&l.shippingZip),value:c.shippingZip}),r.a.createElement(ye.a,{component:"div",name:"shippingZip",className:"text-danger"})))))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{item:!0},r.a.createElement("div",{className:"text-right"},r.a.createElement(X.a,{type:"button",onClick:function(){c.id?e.props.setShipping(!0,i):e.props.removeShippingAddress(i)},variant:"contained",color:"primary",className:"btn-mui btn-outlined btn-sm",id:"".concat(c.id?"cancelshippingaddress":"removeshippingaddress"," ").concat(0===i?"":i+1),"aria-label":"".concat(c.id?"Cancel shipping address":"Remove shipping address"," ").concat(0===i?"":i+1)}," ",(c.id,"Cancel")," "),r.a.createElement(X.a,{type:"submit",variant:"contained",color:"primary",disabled:e.state.submitDisabled,className:"btn-mui btn-blue btn-sm",id:"saveshippingaddress"+(0===i?"":i+1),"aria-label":"save shipping address"+(0===i?"":i+1)}," ","Save"," ")))))))})):"",this.state.AddressSuggestionDialog)}}]),a}(s.Component)),mt=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={initialValues:{currentPassword:null,password:null,confirmPassword:null,submissionMessage:"",successMessage:"",submissionStatus:!1,isSpinner:!1}},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"profile-info"},this.state.isSpinner?r.a.createElement(le.a,null):"",this.state.submissionStatus&&r.a.createElement(J.a,{open:this.state.submissionStatus,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:function(){e.setState({submissionStatus:!1},(function(){document.getElementById("body").classList.remove("has-toast")}))},severity:"success"===this.state.submissionMessage?"success":"error"},this.state.successMessage)),r.a.createElement(ye.c,{enableReinitialize:!0,initialValues:this.state.initialValues,validationSchema:Ce.object().shape({currentPassword:Ce.string().nullable().required("Current Password is required."),password:Ce.string().nullable().required("New Password is required.").required("New Password is required.").min(8,"New Password should be minimum 8 character").max(15,"New Password should be maximum 15 character"),confirmPassword:Ce.string().nullable().required("Repeat New Password is required").test("passwords-match","New Password or Repeat New Password must be match",(function(e){return this.parent.password===e}))}),onSubmit:function(t,a){var n=a.resetForm,i={oldPassword:{value:t.currentPassword},newPassword:{value:t.password}};k.a.putMethod(L.a.changePassword,i,!0).then((function(t){t.data&&t.data.success?(n({currentPassword:"",password:"",confirmPassword:""}),e.setState({successMessage:t.data.message,submissionMessage:"success",submissionStatus:!0,isSpinner:!1},(function(){return setTimeout((function(){e.setState({successMessage:null,submissionStatus:!1}),document.getElementById("body").classList.remove("has-toast")}),3e3)}))):e.setState({successMessage:t.data.message,submissionMessage:"error",submissionStatus:!0,isSpinner:!1},(function(){return setTimeout((function(){e.setState({successMessage:null,submissionStatus:!1}),document.getElementById("body").classList.remove("has-toast")}),3e3)}))})).catch((function(t){var a=L.a.errorMsg;e.setState({successMessage:a,submissionMessage:"error",submissionStatus:!0,isSpinner:!1},(function(){return setTimeout((function(){e.setState({successMessage:null,submissionStatus:!1}),document.getElementById("body").classList.remove("has-toast")}),3e3)})),e.setState({isSpinner:!1})})),n(e.state.initialValues)}},(function(t){t.resetForm,t.setFieldValue;var a=t.setFieldTouched,n=t.errors,i=t.values,s=t.touched,o=t.handleChange;return r.a.createElement(ye.b,{id:"changePassword",name:"changePassword",autoComplete:"changePassword"},r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini"},r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(R.a,{variant:"h2",component:"h2"},"Change Password"))),r.a.createElement("label",{htmlFor:"prevent_autofill_Password",className:"heading-hidden"},"Auto Fill"),r.a.createElement("input",{type:"text",name:"prevent_autofill_Password",id:"prevent_autofill_Password",value:"",style:{display:"none"}}),r.a.createElement(Ge.a,{className:"profile-card profile-card-form"},r.a.createElement(V.a,{container:!0,spacing:6,className:"form-card-container"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:4},r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"currentPassword"},"Current Password",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"currentPassword",id:"currentPassword",name:"currentPassword",inputProps:{"aria-required":"true",role:"alert"},type:"password",value:i.currentPassword||"",onChange:o,onBlur:function(e){a("currentPassword",!0)},error:Boolean(s.currentPassword&&n.currentPassword)}),r.a.createElement(ye.a,{component:"div",name:"currentPassword",className:"text-danger"}))))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"password"},"New Password",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"password",id:"password",name:"password",inputProps:{"aria-required":"true",role:"alert"},value:i.password||"",type:"password",onChange:o,onBlur:function(e){a("password",!0)},error:Boolean(s.password&&n.password)}),r.a.createElement(ye.a,{component:"div",name:"password",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"confirmPassword"},"Repeat New Password",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{autoComplete:"confirmPassword",id:"confirmPassword",name:"confirmPassword",inputProps:{"aria-required":"true",role:"alert"},value:i.confirmPassword||"",type:"password",onChange:o,onBlur:function(e){a("confirmPassword",!0)},error:Boolean(s.confirmPassword&&n.confirmPassword)}),r.a.createElement(ye.a,{component:"div",name:"confirmPassword",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement("p",{className:"my-0"},"Password requirements: atleast 8 characters, a lower case letters, an upper case letter , a number, a symbol, no parts of your username. Your password can not be any of your last 4 passwords")))),r.a.createElement(V.a,{item:!0},r.a.createElement("div",{className:"text-right"},r.a.createElement(X.a,{type:"submit",variant:"contained",color:"primary",className:"btn-mui btn-blue btn-sm",id:"savePassword","aria-label":"savePassword",onClick:function(){Object(P.b)(P.a.Action.ACTION_CHANGE_PASSWORD,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.setState({isSpinner:!0})}}," Save "))))))})))}}]),a}(s.Component),ut=a(338),pt=a.n(ut),gt=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.orderImages;return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"bundle-card-summary is-title"},r.a.createElement(V.a,{item:!0,className:"summary-row-img"}),r.a.createElement(V.a,{item:!0,className:"summary-row-info"},r.a.createElement(V.a,{container:!0,spacing:0},r.a.createElement(V.a,{item:!0,xs:6,sm:6,md:6},"Items"),r.a.createElement(V.a,{item:!0,xs:2,sm:2,md:2,className:"text-center"},"Qty."),r.a.createElement(V.a,{item:!0,xs:2,sm:2,md:2,className:"text-center"},"Price"),r.a.createElement(V.a,{item:!0,xs:2,sm:2,md:2,className:"text-center"},"Total")))),e.length>0&&e.map((function(e,t){return r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"bundle-card-summary"},r.a.createElement(V.a,{item:!0,className:"summary-row-img"},r.a.createElement("div",{className:"summary-img"},r.a.createElement("img",{src:e.image,alt:e.title}))),r.a.createElement(V.a,{item:!0,className:"summary-row-info"},r.a.createElement(V.a,{container:!0,spacing:0},r.a.createElement(V.a,{item:!0,xs:6,sm:6,md:6},r.a.createElement("div",{className:"title-product"},e.title)),r.a.createElement(V.a,{item:!0,xs:2,sm:2,md:2},r.a.createElement("div",{className:"counter-wrapper"},r.a.createElement("span",{className:"title-mobile"},"Qty: "),r.a.createElement("label",{className:"label-hidden",htmlFor:"quantity"+t},"summaryInput"),r.a.createElement("input",{type:"text",disabled:!0,id:"quantity"+t,value:e.quantity}))),r.a.createElement(V.a,{item:!0,xs:2,sm:2,md:2},r.a.createElement("div",{className:"price text-center"},r.a.createElement("span",{className:"title-mobile"},"Price: "),"$",e.price)),r.a.createElement(V.a,{item:!0,xs:2,sm:2,md:2},r.a.createElement("div",{className:"price text-center"},r.a.createElement("span",{className:"title-mobile"},"Total: "),"$",e.totalPrice)))))})))}}]),a}(s.Component),ht=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).updateCartItems=function(e){sessionStorage.setItem("cartItems",JSON.stringify(e)),sessionStorage.setItem("selectedOrder",n.state.selectedOrderId);var t=new CustomEvent("cartitem");document.dispatchEvent(t),sessionStorage.getItem("Zipcode")&&(window.location.href="/cart")},n.confirmUpdateCart=function(e,t){0===(sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[]).length?n.setState({selectedOrderId:t},(function(){n.updateCartItems(e)})):n.setState({selectedOrderId:t,dialogOpen:!0,cartContent:e})},n.showItemDetail=function(e){n.setState({isShowItemInfo:e!=n.state.showItemInfo||!n.state.isShowItemInfo},(function(){return n.setState({showItemInfo:e})}))},n.state={orderHistoryDetails:[],spinner:!1,showItemInfo:-1,isShowItemInfo:!1,orderImages:[],dialogOpen:!1,cartContent:"",filterBy:"7",selectedOrderId:0,selectedOrder:sessionStorage.getItem("selectedOrder")},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.filterBy;this.setState({spinner:!0}),this.props.fetchOrderDetails(t).then((function(t){e.setState({spinner:!1})})).catch((function(t){e.setState({spinner:!1})}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.orderHistory&&e.orderHistory.length>0&&localStorage.getItem("accessToken")?this.setState({orderHistoryDetails:e.orderHistory,spinner:!1}):this.setState({spinner:!1})}},{key:"dialogClose",value:function(){this.setState({dialogOpen:!1,cartContent:""})}},{key:"dialogCloseConfirm",value:function(){this.updateCartItems(this.state.cartContent),this.dialogClose()}},{key:"handleOrderFIlter",value:function(e){var t=this;Object(P.b)(P.a.Action.ACTION_ORDER_HISTORY_FILTER,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{filterBy:e}),this.setState({filterBy:e,spinner:!0}),this.props.fetchOrderDetails(e).then((function(e){t.setState({spinner:!1})})).catch((function(e){t.setState({spinner:!1})}))}},{key:"render",value:function(){var e=this,t=this.state.dialogOpen;return r.a.createElement("div",{className:"profile-info order-history"},this.state.spinner&&r.a.createElement("div",null,r.a.createElement(le.a,null)),r.a.createElement(lt.a,{dialogClose:function(){return e.dialogClose()},dialogOpen:t,dialogHeading:"Are you sure you want to Replace your Cart?",dialogWarning:!0,dialogCloseConfirm:function(){return e.dialogCloseConfirm()},ariaLabelYes:"Yes i would like to Replace my cart",ariaLabelCancel:"No I don't want to replace my cart"}),r.a.createElement(V.a,{container:!0,spacing:6,justify:"space-between"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"title-mini"},r.a.createElement(V.a,{item:!0,xs:12,sm:8},r.a.createElement(R.a,{variant:"h2",component:"h2"},"Total Orders (",this.state.orderHistoryDetails.length,")")),r.a.createElement(V.a,{item:!0,xs:12,sm:4,className:"text-right"},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group phone-select phone-select-full",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"filter"},"Filter"),r.a.createElement(ve.a,{native:!0,id:"filter",name:"filter",onChange:function(t){return e.handleOrderFIlter(t.target.value)}},r.a.createElement("option",{value:"7"},"Last 7 days"),r.a.createElement("option",{value:"30"},"Last 30 days"),r.a.createElement("option",{value:"all"},"All Results"))))),r.a.createElement("div",{className:"order-history-content"},this.state.orderHistoryDetails.length>0?this.state.orderHistoryDetails.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{container:!0,spacing:2,alignItems:"center",className:"profile-card history-card"},r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("span",{className:"key"},"Order Number: "),r.a.createElement("span",{className:"val"},t.orderId)),r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("span",{className:"key"},"Date Ordered: "),r.a.createElement("span",{className:"val"},pt()(t.orderDate).format("MM/DD/YY"))),r.a.createElement("div",{className:"profile-card-single"},r.a.createElement("span",{className:"key"},"Shipping To: "),r.a.createElement("span",{className:"val"},"".concat(t.shipping.shippingFirstname,"  \n                              ").concat(t.shipping.shippingLastname,"  \n                              ").concat(t.shipping.shippingAddressline1,", ").concat(t.shipping.shippingCity,", \n                              ").concat(t.shipping.shippingState,",\n                              ").concat(t.shipping.shippingZip)))),r.a.createElement(V.a,{item:!0,xs:12,sm:2},r.a.createElement("div",{className:"highlighed"},r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-mui btn-blue btn-link",id:"reorder","aria-label":t.items.length+" items in the order","aria-pressed":e.state.isShowItemInfo,onClick:function(){return e.showItemDetail(a)}},"(",t.items.length,") Items",e.state.showItemInfo==a&&e.state.isShowItemInfo?r.a.createElement("i",{className:"fa fa-angle-up"}):r.a.createElement("i",{className:"fa fa-angle-down"}))),r.a.createElement("div",{className:"key"},"Total: $",t.totalPrice)),r.a.createElement(V.a,{item:!0,xs:12,sm:2},r.a.createElement("div",{className:"key"},"Tracking:"),r.a.createElement("div",null,r.a.createElement("a",{className:"highlighed",target:"blank",href:"https://www.ups.com/track?loc=en_US&tracknum=".concat(" ",t.trackingId," ","&requester=WT/trackdetails"),"aria-label":"Tracking Id".concat(" ",t.trackingId?t.trackingId:"N/A")},t.trackingId?t.trackingId:"N/A"))),r.a.createElement(V.a,{item:!0,xs:12,sm:2},r.a.createElement("div",{className:"key"},"Status:"," ",r.a.createElement("span",{className:"order-status"},t.orderSate)),r.a.createElement("div",null,r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-mui btn-blue btn-sm",id:"reorder","aria-label":"Reorder",onClick:function(){return e.confirmUpdateCart(t.items,t.orderId)}},"Reorder")))),e.state.showItemInfo==a?r.a.createElement("div",{className:e.state.isShowItemInfo?"ordered-cart open":"ordered-cart"},r.a.createElement(gt,{orderImages:t.items})):"")})):r.a.createElement("div",{className:"no-items"},"No Order History Available")),r.a.createElement("div",{className:"order-history-action"},r.a.createElement(m.Link,{className:"btn-mui btn-outlined",id:"ContinueShopping","aria-label":"Continue Shopping",to:"/productlist"},"Continue Shopping")))))}}]),a}(s.Component),ft=Object(d.b)((function(e){return{orderHistory:e.reducer.orderHistory}}),{fetchOrderDetails:E.n})(ht),bt=a(60),vt=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a);var i=!1;return i=""!=e.location.search,(n=t.call(this,e)).state={accountID:null,isViewContact:!0,isViewBilling:!0,initialValues:null,primaryAddressData:null,customerDetails:null,isSpinner:!1,tabIndex:i?1:0,viewProfile:!0,msg:null,defaultCountry:L.a.defaultCountry,isMultiShipDisabled:!1,msgType:"success",customerContact:{customerfirstname:"",customerlastname:"",customeremail:"",customerPhone1:""},customerBilling:{},customerShipping:[],orderHistoryDetails:[],shippingValidateMessage:"",origin:"",pathname:""},n}return Object(p.a)(a,[{key:"getAddressLastName",value:function(e){if(e){var t=e.trim().split(" ");return t.length>1&&t.shift(),t.join(" ")}return""}},{key:"getAddressFirstName",value:function(e){if(e){var t=e.trim().split(" ");if(t.length>=1)return t[0]}return""}},{key:"getCustomerDetails",value:function(e){var t=this,a=L.a.GetCustomer;this.setState({isSpinner:!0}),k.a.getMethod(a,!0).then(function(){var a=Object(W.a)(H.a.mark((function a(n){var i,s,r,o,l,c,d,m,u;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.setState({isSpinner:!1}),!(n=n.data).success){a.next=7;break}i=n.data,Object.keys(i).length>0?(s=[],r=[],i.accountAddresses&&i.accountAddresses.forEach((function(e){"BILLING_ADDRESS"===e.addressType?s=e:r.push(e)})),o=i.accountContacts&&i.accountContacts[0],(l={}).accountId=i.id,l.id=o.id?o.id:null,l.customerfirstname=o.firstName?o.firstName:"",l.customerlastname=o.lastName?o.lastName:"",l.customeremail=o.email?o.email:"",l.customerPhone1=o.phone?o.phone:"",(c={}).id=s.id?s.id:"",c.billingSameAsShipping=!!s.isPrimary,c.billingFirstname=s.name?t.getAddressFirstName(s.name):"",c.billingLastname=s.name?t.getAddressLastName(s.name):"",c.billingAddressline1=s.addressLine1?s.addressLine1:"",c.billingAddressline2=s.addressLine2?s.addressLine2:"",c.billingZip=s.zip?s.zip:"",c.billingCountry=t.state.defaultCountry,c.billingState=s.state?s.state:"",c.billingCity=s.city?s.city:"",c.effectiveDt=s.effectiveDt?s.effectiveDt:"",d=[],r.length>0&&r.forEach((function(a,n){var i=!0;t.state.customerShipping[n]&&n!=e&&(i=t.state.customerShipping[n].isViewShipping);var s={};s.id=a.id?a.id:"",s.shippingFirstname=a.name?t.getAddressFirstName(a.name):"",s.shippingLastname=a.name?t.getAddressLastName(a.name):"",s.shippingAddressline1=a.addressLine1?a.addressLine1:"",s.shippingAddressline2=a.addressLine2?a.addressLine2:"",s.shippingZip=a.zip?a.zip:"",s.shippingState=a.state?a.state:"",s.shippingCountry=t.state.defaultCountry,s.shippingCity=a.city?a.city:"",s.effectiveDt=a.effectiveDt?a.effectiveDt:"",s.isPrimary=!!a.primaryAddr,s.isViewShipping=i,d.push(s)})),t.setState({accountID:i.id,customerContact:l,customerBilling:c,customerShipping:d,customerDetails:i})):(m=n.message?n.message:L.a.errorMsg,t.setMsg(m,"error")),a.next=14;break;case 7:if(!n.message||"Expired token"!==n.message){a.next=12;break}return a.next=10,bt.a.renewToken((function(e){if(null===e){var a=n.message?n.message:L.a.errorMsg;t.setMsg(a,"error")}else t.getCustomerDetails()})).catch((function(e){var a=n.message?n.message:L.a.errorMsg;t.setMsg(a,"error")}));case 10:a.next=14;break;case 12:u=n.message?n.message:L.a.errorMsg,t.setMsg(u,"error");case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){var a=L.a.errorMsg;t.setMsg(a,"error"),t.setState({isSpinner:!1})}))}},{key:"handleShippingSubmit",value:function(e,t){var a=this;this.setState({isSpinner:!0});var n={customer:{id:this.state.accountID},shipping:e};"id"in e?(Object(P.b)(P.a.Action.ACTION_UPDATE_SHIPPING_ADDRESS,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{shippingData:n}),k.a.putMethod(L.a.updateAddress,n,!0).then((function(e){a.setState({isSpinner:!1}),e.data&&e.data.success?(a.getCustomerDetails(t),a.setMsg(e.data.message,"success")):a.setMsg(L.a.errorMsg,"error")})).catch((function(e){a.setState({isSpinner:!1});var t=L.a.errorMsg;a.setMsg(t,"error"),a.setState({isSpinner:!1})}))):(Object(P.b)(P.a.Action.ACTION_ADD_SHIPPING_ADDRESS,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{shippingData:n}),k.a.postMethod(L.a.CreateAddress,n,!0).then((function(e){a.setState({isSpinner:!1}),e.data&&e.data.success?(a.getCustomerDetails(t),a.setState({isMultiShipDisabled:!1}),a.setMsg(e.data.message,"success")):a.setMsg(L.a.errorMsg,"error")})).catch((function(e){var t=L.a.errorMsg;a.setMsg(t,"error"),a.setState({isSpinner:!1})})))}},{key:"handleBillingSubmit",value:function(e,t){this.setState({isSpinner:!0});var a={customer:{id:this.state.accountID},billing:e};""===t.billingFirstname?this.createBillingAddress(a):this.updateBillingAddress(a)}},{key:"createBillingAddress",value:function(e){var t=this;Object(P.b)(P.a.Action.ACTION_ADD_BILLING_ADDRESS,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{billingData:e}),k.a.postMethod(L.a.CreateAddress,e,!0).then((function(e){e.data&&e.data.success?(t.setState({isViewBilling:!0}),t.getCustomerDetails(),t.setMsg(e.data.message,"success")):t.setMsg(L.a.errorMsg,"error")})).catch((function(e){var a=L.a.errorMsg;t.setMsg(a,"error"),t.setState({isSpinner:!1})}))}},{key:"updateBillingAddress",value:function(e){var t=this;Object(P.b)(P.a.Action.ACTION_UPDATE_BILLING_ADDRESS,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{billingData:e}),k.a.putMethod(L.a.updateAddress,e,!0).then((function(a){if(t.setState({isSpinner:!1}),a.data&&a.data.success){t.setState({isViewBilling:!0}),t.getCustomerDetails(),t.setMsg(a.data.message,"success");var n=JSON.parse(sessionStorage.getItem("formChangeValues"));if(n&&null!==n&&!n.billingSameAsShipping){var i=Object(Ie.a)(Object(Ie.a)({},n),{},{billingFirstname:e.billing.billingFirstname,billingLastname:e.billing.billingLastname,billingAddressLine1:e.billing.billingAddressline1,billingAddressLine2:e.billing.billingAddressline2,billingCity:e.billing.billingCity,billingState:e.billing.billingState,billingCountry:e.billing.billingCountry,billingZipCode:e.billing.billingZip});sessionStorage.setItem("formChangeValues",JSON.stringify(i))}}else t.setMsg(L.a.errorMsg,"error")})).catch((function(e){alert(e);var a=L.a.errorMsg;t.setMsg(a,"error"),t.setState({isSpinner:!1})}))}},{key:"handleContactSubmit",value:function(e){var t=this;this.setState({isSpinner:!0});var a={customer:e};Object(P.b)(P.a.Action.ACTION_UPDATE_CUSTOMER,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,a),k.a.putMethod(L.a.updateAccount,a,!0).then((function(a){if(t.setState({isSpinner:!1}),a.data&&a.data.success){t.getCustomerDetails(),t.setState({isViewContact:!0});var n=JSON.parse(sessionStorage.getItem("formChangeValues"));if(n&&null!==n){var i=Object(Ie.a)(Object(Ie.a)({},n),{},{firstname:e.firstname,lastname:e.lastname});sessionStorage.setItem("formChangeValues",JSON.stringify(i))}t.setMsg(a.data.message,"success")}else t.setMsg(L.a.errorMsg,"error")})).catch((function(e){var a=L.a.errorMsg;t.setMsg(a,"error"),t.setState({isSpinner:!1})}))}},{key:"deleteShippingAddress",value:function(e){var t=this;this.setState({isSpinner:!0});var a={id:this.state.customerShipping[e].id};Object(P.b)(P.a.Action.ACTION_REMOVE_ADDRESS,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{shippingData:a}),k.a.deleteMethod(L.a.deleteAddress,!0,a).then((function(a){if(t.setState({isSpinner:!1}),a.data&&a.data.success){var n=t.state.customerShipping;n=n.filter((function(t,a){return a!==e})),t.setState({customerShipping:n}),t.setMsg(a.data.message,"success")}else t.setMsg(L.a.errorMsg,"error")})).catch((function(e){var a=L.a.errorMsg;t.setMsg(a,"error"),t.setState({isSpinner:!1})}))}},{key:"removeMsg",value:function(){var e=this;setTimeout((function(){e.setState({msg:null,msgType:"success"}),document.getElementById("body").classList.remove("has-toast")}),4e3)}},{key:"setMsg",value:function(e,t){var a=this;this.setState({msg:e,msgType:t},(function(){document.getElementById("body").classList.add("has-toast"),a.removeMsg()}))}},{key:"getShippingMessage",value:function(){var e=this;k.a.getMethod(L.a.MinAmount,!0).then((function(t){200===t.status?e.setState({shippingValidateMessage:t.data.data.shippingLimitMessage}):e.setState({shippingValidateMessage:""})}))}}]),a}(s.Component),St=a(22),Et=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(p.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0},(function(){document.getElementById("body").classList.add("has-toast")}))}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(J.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",severity:"error"},"Something Went Wrong")):this.props.children}}]),a}(r.a.Component);function yt(e){var t=e.children,a=e.value,n=e.index,i=Object(Ue.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"profile-tabpanel-".concat(n),"aria-labelledby":"profile-tabpanel-".concat(n)},i),a===n&&r.a.createElement("div",null,t))}function Ct(e){return Object(P.b)(0===e?P.a.Action.ACTION_TAB_PROFILE:2===e?P.a.Action.ACTION_TAB_ORDER_HISTORY:P.a.Action.ACTION_TAB_CHANGE_PASSWORD,P.a.Event.EVENT_PAGE_VIEW,window.location.origin,window.location.pathname),{id:"profile-tab-".concat(e),"aria-controls":"profile-tabpanel-".concat(e)}}var At=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){n.setState({tabIndex:t})},n}return Object(p.a)(a,[{key:"componentWillMount",value:function(){localStorage.getItem("accessToken")||this.props.history.push("/home")}},{key:"componentDidMount",value:function(){this.setState({origin:window.location.origin,pathname:window.location.pathname}),this.getCustomerDetails()}},{key:"addMultipleShipping",value:function(){var e=this.state.customerShipping;this.state.shippingValidateMessage;if(e&&e.length>=5)return this.getShippingMessage(),this.setMsg(this.props.shippingMessage.shippingLimitMessage,"error"),!1;var t={shippingFirstname:"",shippingLastname:"",shippingAddressline1:"",shippingAddressline2:"",shippingState:"",shippingCity:"",shippingZip:"",shippingCountry:this.state.defaultCountry,isPrimary:!1,isViewShipping:!1};e.push(t),this.setState({customerShipping:e,isMultiShipDisabled:!0})}},{key:"deleteAddress",value:function(e){this.deleteShippingAddress(e)}},{key:"setPrimaryAddress",value:function(e,t){e.isPrimary=!0,this.handleShippingSubmit(e,t)}},{key:"componentDidUpdate",value:function(e,t){null!==t.customerDetails&&(void 0===e.customerDetails||null===e.customerDetails||t.customerDetails&&JSON.stringify(t.customerDetails)!==JSON.stringify(e.customerDetails))&&this.props.updateCustomerDetails(this.state.customerDetails)}},{key:"render",value:function(){var e=this,t=this.state.customerShipping.length>0?"Add Another Shipping Address":"Add Shipping Address";return r.a.createElement("div",{className:"wizard-step"},this.state.msg?r.a.createElement(J.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:this.handleClose,severity:this.state.msgType},this.state.msg)):"",this.state.isSpinner?r.a.createElement(le.a,null):"",r.a.createElement(R.a,{variant:"h1",className:"heading-hidden","aria-hidden":"true"},"Your Profile"),r.a.createElement("div",{className:"step-header step-header-profile"},r.a.createElement("div",{className:"step-header-type"})),r.a.createElement(G.a,{className:"container-root"},r.a.createElement("div",null,r.a.createElement(He.a,{value:this.state.tabIndex,onChange:this.handleChange,"aria-label":"My Profile Tabs",variant:"scrollable",scrollButtons:"auto",classes:{root:"profile-root",flexContainer:"profile-flexContainer",indicator:"profile-indicator"}},r.a.createElement(We.a,Object.assign({label:"My Profile"},Ct(0))),r.a.createElement(We.a,Object.assign({label:"Order History"},Ct(1))),r.a.createElement(We.a,Object.assign({label:"Change Password"},Ct(2)))),r.a.createElement(yt,{value:this.state.tabIndex,index:0},r.a.createElement("div",null,this.state.isViewContact?r.a.createElement(Ye,{customerDetails:this.state.customerContact,setMessages:function(t,a){return e.setMsg(t,a)},history:this.props.history,setProfile:function(t){return e.setState({isViewContact:t})}}):r.a.createElement(Ke,{customerDetails:this.state.customerContact,setMessages:function(t,a){return e.setMsg(t,a)},history:this.props.history,handleSubmit:function(t){return e.handleContactSubmit(t)},setProfile:function(t){return e.setState({isViewContact:t})}})),r.a.createElement("div",null,this.state.isViewBilling?r.a.createElement($e,{customerDetails:this.state.customerBilling,setMessages:function(t,a){return e.setMsg(t,a)},history:this.props.history,setBilling:function(t){return e.setState({isViewBilling:t})}}):r.a.createElement(rt,{isLoading:function(t){return e.setState({isSpinner:t})},customerDetails:this.state.customerBilling,setMessages:function(t,a){return e.setMsg(t,a)},history:this.props.history,handleSubmit:function(t){return e.handleBillingSubmit(t,e.state.customerBilling)},setBilling:function(t){return e.setState({isViewBilling:t})}})),r.a.createElement("div",null,this.state.customerShipping&&this.state.customerShipping.map((function(t,a){return r.a.createElement("div",{key:a},t.isViewShipping?r.a.createElement(Je.a,{"aria-label":"Shipping Address"+(0===a?"":a+1),name:"ShippingAddress"+(0===a?"":a+1),value:t.isPrimary?t.id:""},r.a.createElement(ct,{baseData:e.state.customerShipping,customerDetails:t,index:a,setMessages:function(t,a){return e.setMsg(t,a)},history:e.props.history,removeShippingAddress:function(t){return e.deleteAddress(t)},setPrimaryAddress:function(t,a){return e.setPrimaryAddress(t,a)},setShipping:function(t,a){e.state.customerShipping[a].isViewShipping=t,e.setState({customerShipping:e.state.customerShipping})}})," "):r.a.createElement(dt,{isLoading:function(t){return e.setState({isSpinner:t})},baseData:e.state.customerShipping,customerDetails:t,index:a,handleSubmit:function(t,a){return e.handleShippingSubmit(t,a)},removeShippingAddress:function(t){return e.setState({isMultiShipDisabled:!1},(function(){var a=e.state.customerShipping;a=a.filter((function(e,a){return a!==t})),e.setState({customerShipping:a})}))},setMessages:function(t,a){return e.setMsg(t,a)},history:e.props.history,setShipping:function(t,a){e.state.customerShipping[a].isViewShipping=t,e.setState({customerShipping:e.state.customerShipping})}}))}))),r.a.createElement("div",{className:"profile-info profile-info-inline"},r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-link",id:"addAnotherShippingAddress",disabled:!!this.state.isMultiShipDisabled,"aria-label":t,onClick:function(){return e.addMultipleShipping()}},t))),r.a.createElement(yt,{value:this.state.tabIndex,index:1},r.a.createElement(Et,null,r.a.createElement(ft,null))),r.a.createElement(yt,{value:this.state.tabIndex,index:2},r.a.createElement(mt,{handleSubmit:function(t){return e.handleChangePassword(t)},cancel:function(t){return e.setState({tabIndex:t})}})))))}}]),a}(vt),Nt=Object(d.b)((function(e){return{customerDetails:e.reducer.customerDetails,shippingMessage:e.reducer.minAmount}}),(function(e){return{updateCustomerDetails:function(t){return e({type:St.e,customerDetails:t})}}}))(Object(A.o)(At)),It=a(1099),Ot=a(180),wt=(a(1006),a(127)),kt=a(1100),Lt=a(1101),Tt=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).validEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},n.validPassword=function(e,t){var a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!#$%&\u2019()*+,-./\:;<=>?@\[\]^_`{|}~])[a-zA-Z\d!#$%&\u2019()*+,-./\:;<=>?@\[\]^_`{|}~]{8,}$/.test(String(t));if(e.length>0&&a){var i=e.split("@");if(i.length>0){var s=i[0].split(".");if(a=void 0===n.containsAny(t,s)){var r=i[0].split("_");a=void 0===n.containsAny(t,r)}if(a){var o=i[0].split("-");a=void 0===n.containsAny(t,o)}}if(i.length>1&&a){var l=i[1].split(".");if(a=void 0===n.containsAny(t,l)){var c=i[1].split("_");a=void 0===n.containsAny(t,c)}if(a){var d=i[1].split("-");a=void 0===n.containsAny(t,d)}}a||"Password must not contain parts of username"===n.state.password?a&&""!==n.state.password&&n.setState({password:""}):n.setState({password:"Password must not contain parts of username"})}return a},n.handleCreateAccount=function(e){n.setState({spinner:!0},(function(){n.props.actionCreateProfile(e).then((function(t){n.props.createcustomerDetails&&null!==n.props.createcustomerDetails&&null!==n.props.createcustomerDetails.data?n.props.createcustomerDetails.success?n.handleLogin(e):n.setState({msg:n.props.createcustomerDetails.message.toString(),msgType:"error",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast"),window.scrollTo(0,0),n.removeMsg()})):n.setState({msg:t.toString(),msgType:"error",spinner:!1},(function(){document.getElementById("body").classList.add("has-toast"),n.removeMsg()}))})).catch((function(e){n.setState({msg:e.toString(),msgType:"error",spinner:!1},(function(){return n.removeMsg()}))}))}))},n.handleLogin=function(e){n.removeMsg(),n.setState({spinner:!0,msg:"",msgType:"success"}),bt.a.userLogin(e.email,e.password).then((function(e){n.setState({spinner:!1}),void 0!==e.data?(n.props.LoginAuth(e),setTimeout((function(){if("SUCCESS"===e.data.status&&n.props.isAuthenticated){var t=e.sessionToken;localStorage.setItem("token","Bearer "+t),bt.a.getCode(t)}else"LOCKED_OUT"===e.data.status&&n.setState({msg:L.a.userAccountLocked,msgType:"error"})}),1500)):"404"===e.status?n.setState({msg:"We are facing some technical issue. Please try again after sometime.",msgType:"error"}):n.setState({msg:e.toString(),msgType:"error"})})).catch((function(e){n.setState({spinner:!1}),n.setState({msg:e.toString(),msgType:"error"},(function(){return n.removeMsg()}))}))},n.handleClickShowPassword=function(){n.setState({showPassword:!n.state.showPassword})},n.handleMouseDownPassword=function(e){e.preventDefault()},n.handleClose=function(){n.setState({msg:null,msgType:"success"}),document.getElementById("body").classList.remove("has-toast")},n.state={password:"",intialProfile:{firstName:"",lastName:"",email:"",password:""},msg:null,msgType:"success",spinner:!1,showLoginModal:!1,showPolicyModal:!1,showTnCModal:!1,showPassword:!1},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({msg:null,msgType:"success"}),document.getElementById("body").classList.remove("has-toast")}},{key:"removeMsg",value:function(){var e=this;setTimeout((function(){document.getElementById("body").classList.remove("has-toast"),e.setState({msg:null,msgType:"success"})}),5e3)}},{key:"containsAny",value:function(e,t){return t.filter((function(t){return e.toLowerCase().includes(t.toLowerCase())})).shift()}},{key:"render",value:function(){var e=this,t=Ce.object().shape({firstName:Ce.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters.").test("firstName","First Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),lastName:Ce.string().trim().required("Last Name is required.").min(2,"Name must be at least 2 characters.").test("lastName","Last Name must be only alphabets",(function(e){if(null===e||""===e)return!0;return!!/^[a-zA-Z.& ]*$/.test(e)})),email:Ce.string().trim().required("Email is required.").email("Please enter a valid email.").test("email","Please enter a valid email.",(function(e){if(null===e||""===e)return!0;return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)})),password:Ce.string().trim().required("Pasword is required.").min(8,"Password must be at least 8 characters.").test("password","Please enter a valid password.",(function(e){if(null===e||""===e)return!0;return!!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!#$%&\u2019()*+,-./\:;<=>?@\[\]^_`{|}~])[a-zA-Z\d!#$%&\u2019()*+,-./\:;<=>?@\[\]^_`{|}~]{8,}$/.test(e)}))});return r.a.createElement("div",{className:"wizard-step"},this.state.spinner?r.a.createElement(le.a,null):"",this.state.msg?r.a.createElement(J.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},r.a.createElement(me.a,{variant:"filled",onClose:this.handleClose,severity:"error"},this.state.msg)):"",r.a.createElement(R.a,{variant:"h1",className:"heading-hidden","aria-hidden":"true"},"Create Account"),r.a.createElement("div",{className:"step-header step-header-account mb-0"},r.a.createElement("div",{className:"step-header-type"})),r.a.createElement("div",{className:"account-info"},r.a.createElement(R.a,{variant:"h2"},"Create your profile to make it easier to get your Snacks quick!"),r.a.createElement(R.a,{variant:"h3"},"We'll save your information to make future snacking easier.")),r.a.createElement(G.a,{className:"container-root"},r.a.createElement(ye.c,{initialValues:this.state.intialProfile,validationSchema:t,enableReinitialize:!0,onSubmit:function(t){sessionStorage.removeItem("billingSameAsShipping"),sessionStorage.removeItem("formValues"),sessionStorage.removeItem("billingValues"),sessionStorage.removeItem("formAddValues"),sessionStorage.removeItem("formChangeValues"),sessionStorage.removeItem("errorPaymentMsg"),sessionStorage.removeItem("billingInvalid"),sessionStorage.removeItem("shippingInvalid"),sessionStorage.removeItem("formAddValues"),sessionStorage.removeItem("formChangeValues"),sessionStorage.removeItem("selectedShippingAddress"),sessionStorage.removeItem("taxZipCode"),Object(P.b)(P.a.Action.ACTION_CREATE_ACCOUNT,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.handleCreateAccount(t)}},(function(t){var a=t.values,n=t.touched,i=t.errors,s=t.handleChange,o=t.handleBlur,l=t.handleSubmit,c=t.setFieldValue,d=t.setFieldTouched;t.isValid;return r.a.createElement("form",{id:"createAccount",name:"createAccount",onSubmit:l,className:"account-form"},r.a.createElement("fieldset",{className:"form-card"},r.a.createElement(R.a,{variant:"h3"},"Create an account"),r.a.createElement("p",null,"Already have an account?",r.a.createElement(X.a,{color:"primary",className:"btn-mui btn-link",id:"SignIn","aria-label":"sign in",onClick:function(){return e.setState({showLoginModal:!0})}},"Sign in")),r.a.createElement(V.a,{container:!0,spacing:2,className:"form-card-container"},r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"firstName"},"First Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{id:"firstName",name:"firstName",value:a.firstName,onChange:s,onBlur:o,inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},error:n.firstName&&Boolean(i.firstName)}),n.firstName&&i.firstName?r.a.createElement("div",{className:"text-danger"},i.firstName):r.a.createElement(ye.a,{component:"div",name:"firstName",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"lastName"},"Last Name",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{id:"lastName",name:"lastName",value:a.lastName,onChange:s,onBlur:o,inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},error:n.lastName&&Boolean(i.lastName)}),n.lastName&&i.lastName?r.a.createElement("div",{className:"text-danger"},i.lastName):r.a.createElement(ye.a,{component:"div",name:"lastName",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"email"},"Email",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{id:"email",name:"email",value:a.email,onChange:s,onBlur:function(t){d("email",!0,!0),c("email",t.target.value),a.email&&a.password&&e.validPassword(a.email,a.password)},inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},error:n.email&&Boolean(i.email)}),n.email&&i.email?r.a.createElement("div",{className:"text-danger"},i.email):r.a.createElement(ye.a,{component:"div",name:"email",className:"text-danger"}))),r.a.createElement(V.a,{item:!0,xs:12,sm:12},r.a.createElement(fe.a,{fullWidth:!0,className:"form-group",variant:"outlined"},r.a.createElement(be.a,{className:"form-label",htmlFor:"password"},"Create Password",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Se.a,{id:"password",name:"password",type:e.state.showPassword?"text":"password",value:a.password,onChange:function(t){d("password",!0,!0),c("password",t.target.value),a.email&&a.password&&e.validPassword(a.email,a.password)},onBlur:function(t){d("password",!0,!0),c("password",t.target.value),a.email&&a.password&&e.validPassword(a.email,a.password)},inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},error:n.password&&Boolean(i.password),endAdornment:r.a.createElement(It.a,{position:"end"},r.a.createElement(Ot.a,{"aria-label":"toggle password visibility",onClick:e.handleClickShowPassword,onMouseDown:e.handleMouseDownPassword,edge:"end"},e.state.showPassword?r.a.createElement(kt.a,null):r.a.createElement(Lt.a,null)))}),n.password&&(i.password||e.state.password)?r.a.createElement("div",{className:"text-danger"},i.password?i.password:e.state.password):r.a.createElement(ye.a,{component:"div",name:"password",className:"text-danger"})),r.a.createElement("div",{className:"pt-10"},r.a.createElement("small",null,"Password requirements: atleast 8 characters, a lower case letters, an upper case letter , a number, a symbol, no parts of your username."))))),r.a.createElement("div",{className:"tnc"},r.a.createElement("p",null,"By creating an account, you agree to our ",r.a.createElement(m.Link,{onClick:function(t){Object(P.b)(P.a.Action.ACTION_PRIVACY_POLICY,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.setState({showPolicyModal:!0},t.preventDefault())},to:"/privacy-policy"},"Privacy Policy")," and ",r.a.createElement(m.Link,{onClick:function(t){Object(P.b)(P.a.Action.ACTION_TERMS,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.setState({showTnCModal:!0},t.preventDefault())},to:"/terms-of-service"},"Terms & Conditions"))),r.a.createElement("div",{className:"button-group text-center"},r.a.createElement(X.a,{variant:"contained",color:"primary",className:"btn-mui btn-outlined",id:"CancelAccount","aria-label":"Cancel Account",onClick:function(){Object(P.b)(P.a.Action.ACTION_CANCEL_CREATE_ACCOUNT,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.props.history.goBack()}},"Cancel"),r.a.createElement(X.a,{disabled:a.firstName.trim().length<2||a.lastName.trim().length<2||0===a.email.trim().length||!e.validEmail(a.email)||a.password.trim().length<8||!e.validPassword(a.email,a.password),variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"CreateProfile","aria-label":"Create Profile",type:"submit"},"Create Profile")))}))),r.a.createElement($.a,{open:this.state.showLoginModal,onClose:function(){e.setState({showLoginModal:!1})},maxWidth:!1,scroll:"body",classes:{paper:"modal-container modal-paper modal-login",root:"modal-stack-top"},"aria-labelledby":"signIn-dialogBox"},r.a.createElement(Q.a,null,r.a.createElement(wt.a,{changeForgotToLogin:function(){},fromForgot:!1,closeLoginDialog:function(){return e.setState({showLoginModal:!1})}}),r.a.createElement(X.a,{className:"icn-close",id:"LoginClose","aria-label":"Login Dialog Close",onClick:function(){e.setState({showLoginModal:!1})}},r.a.createElement("i",{className:"fa fa-times"})))),r.a.createElement($.a,{open:this.state.showPolicyModal,onClose:function(){e.setState({showPolicyModal:!1})},maxWidth:!1,scroll:"body",classes:{paper:"modal-paper modal-static",root:"modal-stack-top"}},r.a.createElement(Q.a,null,r.a.createElement(je,null),r.a.createElement(X.a,{className:"icn-close",id:"LoginClose","aria-label":"Login Dialog Close",onClick:function(){e.setState({showPolicyModal:!1})}},r.a.createElement("i",{className:"fa fa-times"})))),r.a.createElement($.a,{open:this.state.showTnCModal,onClose:function(){e.setState({showTnCModal:!1})},maxWidth:!1,scroll:"body",classes:{paper:"modal-paper modal-static",root:"modal-stack-top"}},r.a.createElement(Q.a,null,r.a.createElement(Me,null),r.a.createElement(X.a,{className:"icn-close",id:"LoginClose","aria-label":"Login Dialog Close",onClick:function(){e.setState({showTnCModal:!1})}},r.a.createElement("i",{className:"fa fa-times"})))))}}]),a}(s.Component),Dt=Object(d.b)((function(e){return{submitResponse:e.reducer.submit,createCustomerDetail:e.reducer.createCustomer,isAuthenticated:e.reducer.isAuthenticated,user:e.reducer.loginResponse.user,createcustomerDetails:e.reducer.createcustomerDetails}}),{actionCreateProfile:E.g,LoginAuth:E.b})(Object(A.o)(Tt)),xt=a(514),Pt=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"common-box"},r.a.createElement("div",{className:"common-box-header"},r.a.createElement(R.a,{variant:"h2"},"404 Page")),r.a.createElement("div",{className:"common-box-body"},r.a.createElement("h4",null,"Something went to wrong on server, please try again")),r.a.createElement("div",{className:"button-group text-right"},r.a.createElement(X.a,{type:"button",variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"submitContact",onClick:function(){return window.location.reload()},"aria-label":"submit Contact"}," Relaod ")))}}]),a}(s.Component),_t=a(1103),Mt=a(1108),Ft=a(527),jt=(a(1007),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e="/productlist"===window.location.pathname;return r.a.createElement("footer",{className:"footer ".concat(e?"footer-steps":"")},r.a.createElement(G.a,{className:"container-root"},r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,className:"logo-row"},r.a.createElement(m.Link,{to:"/home","aria-label":"Fritolay Footer Logo"},r.a.createElement("img",{className:"logo",src:"./images/FooterLogo.png",alt:"FritoLay"}))),r.a.createElement(V.a,{item:!0,xs:!0,container:!0},r.a.createElement(V.a,{item:!0,sm:7,md:7,xs:12},r.a.createElement(_t.a,{className:"sublinks"},r.a.createElement(Mt.a,null,r.a.createElement("a",{href:"https://www.fritolay.com/",target:"_blank","aria-label":"Fritolay.com"},"Fritolay.com")),r.a.createElement(Mt.a,null,r.a.createElement(m.Link,{to:"/privacy-policy","aria-label":"Privacy Policy"},"Privacy Policy")),r.a.createElement(Mt.a,null,r.a.createElement(m.Link,{to:"/terms-of-service","aria-label":"Terms Of Service"},"Terms of Service")),r.a.createElement(Mt.a,null,r.a.createElement(m.Link,{to:"/ads-tracking","aria-label":"Ads and Tracking"},"Ads & Tracking")),r.a.createElement(Mt.a,null,r.a.createElement(m.Link,{to:"/contactus","aria-label":"Contact Us"},"Contact Us")),r.a.createElement(Mt.a,null,r.a.createElement(m.Link,{to:"/returns-policy","aria-label":"Shipping and Returns Policy"},"Shipping and Returns Policy")),r.a.createElement(Mt.a,null,r.a.createElement(m.Link,{to:"/faq","aria-label":"FAQ"},"FAQ")))),r.a.createElement(V.a,{item:!0,sm:5,md:5,xs:12},r.a.createElement("div",{className:"copyright"},r.a.createElement(_t.a,{className:"social-links"},r.a.createElement(Mt.a,null,r.a.createElement(Ft.a,{placement:"top",title:"Follow Snacks.com on Facebook"},r.a.createElement("a",{href:"https://facebook.com/FritoLay",target:"_blank","aria-label":"connect with facebook"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#fff",className:"svg"},r.a.createElement("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"}))))),r.a.createElement(Mt.a,null,r.a.createElement(Ft.a,{placement:"top",title:"Follow Snacks.com on Instagram"},r.a.createElement("a",{href:"https://instagram.com/fritolay",target:"_blank","aria-label":"connect with instagram"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#fff",className:"svg"},r.a.createElement("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"}))))),r.a.createElement(Mt.a,null,r.a.createElement(Ft.a,{placement:"top",title:"Follow Snacks.com on Twitter"},r.a.createElement("a",{href:"https://twitter.com/FritoLay",target:"_blank","aria-label":"connect with twitter"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#fff",className:"svg"},r.a.createElement("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})))))),r.a.createElement("p",{className:"copyright-text"},"\xa9 2020 Frito-Lay North America, Inc. a Division of PepsiCo")))))))}}]),a}(s.Component)),Bt=a(1172),Vt=a(1173),Rt=a(1164),Zt=a(1161),qt=a(1165),zt=a(1174),Ut=a(1182),Ht=a(8),Wt=a(347),Jt=a.n(Wt),Gt=a(512),Yt=a.n(Gt),Kt=a(264),$t=a.n(Kt),Qt=a(513),Xt=a.n(Qt),ea=(a(1008),function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(){n.setState({showDrawer:!n.state.showDrawer})},n.zipValidation=function(e){Object(P.b)(P.a.Action.ACTION_HEADER_PRODUCTS,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.preventDefault(),sessionStorage.getItem("Zipcode")?("explore all snacks"===e.target.text&&n.props.history.push("/productlist"),"shop by category"===e.target.text&&n.props.history.push("/shopbycategory")):n.setState({dailogOpen:!0,clickedBtn:"getStarted"})},n.cartZipValidation=function(){sessionStorage.getItem("Zipcode")?(null!==sessionStorage.getItem("cartItems")&&Object(P.b)(P.a.Action.ACTION_HEADER_ADD_TO_CART,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{cart:JSON.parse(sessionStorage.getItem("cartItems"))}),n.props.history.push("/cart")):n.setState({dailogOpen:!0,clickedBtn:"cartIcon"})},n.hideUserDropdown=function(e){27===e.keyCode&&n.setState({menuToggle:!1})},n.onLoginSuccess=function(e){n.state.isAuthenticatedUser||n.setState({isAuthenticated:!0,showLoginModal:!1}),n.getUserDetails();var t=sessionStorage.getItem("Zipcode"),a=localStorage.getItem("accessToken");t&&a?n.props.history.push("/home"):n.setState({dailogOpen:!0,clickedBtn:"getStarted"})},n.getUserDetails=function(){null!==localStorage.getItem("token")&&null!==localStorage.getItem("accessToken")&&n.props.actionGetCustomer()},n.userLogout=function(e){null!==localStorage.getItem("token")&&(e.preventDefault(),bt.a.userTokenRevoke().then((function(t){200===t.status?(e.preventDefault(),n.props.LogOut(t),bt.a.userLogout().then((function(e){sessionStorage.removeItem("taxZipCode")}))):t.message&&(e.preventDefault(),alert(t.message))})).catch((function(e){console.log("Found an error",e)})))},n.zipPopoverOpen=function(e){n.setState({anchorEl:e.currentTarget}),n.setState({zipPopover:!0})},n.zipPopoverClose=function(){n.setState({zipPopover:!1,zipError:!0,errorMessage:""},(function(){return document.getElementById("body").classList.remove("has-toast")}))},n.zipPopoverUpdate=function(){Object(P.b)(P.a.Action.ACTION_UPDATE_ZIPCODE,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname);var e=n.refs.updateZipCode&&n.refs.updateZipCode.value;e&&/^[0-9\b]+$/.test(e)&&5===e.length?k.a.postMethod(L.a.ZipValidation,{zipcode:e},!0).then((function(t){t.data.success&&n.redirect(e,t.data),!t.data.success&&t.data.message&&n.setState({zipError:!0,errorMessage:t.data.message},(function(){return document.getElementById("body").classList.add("has-toast")}))})).catch((function(e){console.error("validate ZIP Code Api Failed",e)})):e.length<5&&n.setState({zipError:!0,errorMessage:"Zip code must be exactly 5 digits."},(function(){return document.getElementById("body").classList.add("has-toast")}))},n.checkZipcode=function(e){var t=n.refs.updateZipCode&&n.refs.updateZipCode.value;t&&!/^[0-9\b]+$/.test(t)&&n.setState({zipError:!1,errorMessage:"Zip Code must be a number type."},(function(){return document.getElementById("body").classList.add("has-toast")}),n.refs.updateZipCode.value="")},n.handleClickAway=function(){n.setState({menuToggle:!1})},n.handleClick=function(){n.setState({menuToggle:!n.state.menuToggle})},n.navigationList=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt.a,{className:"menu-list-single"},r.a.createElement(m.NavLink,{className:"menu-link",to:"/home","aria-label":"home",onClick:function(){return Object(P.b)(P.a.Action.ACTION_HEADER_HOME,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname)}},"Home")),r.a.createElement(Mt.a,{className:"menu-list-single"},r.a.createElement(m.NavLink,{className:"menu-link",to:"/shopbycategory","aria-label":"shop by category",onClick:n.zipValidation},"shop by category")),r.a.createElement(Mt.a,{className:"menu-list-single"},r.a.createElement(m.NavLink,{className:"menu-link",to:"/productlist","aria-label":"products",onClick:n.zipValidation},"explore all snacks")))},n.state={errorMessage:null,zipError:!1,zipCode:sessionStorage.getItem("Zipcode"),showDrawer:!1,clickAway:!1,count:0,clickedBtn:"",dailogOpen:!1,showLoginModal:!1,isAuthenticatedUser:n.props.isAuthenticated,userInfo:n.props.customerDetails,anchorEl:"",menuToggle:!1,zipPopover:!1,updatedZipCode:""},n}return Object(p.a)(a,[{key:"componentWillMount",value:function(){this.validateUserSession()}},{key:"validateUserSession",value:function(){if(null!==localStorage.getItem("accessToken")){var e=JSON.parse(localStorage.getItem("accessToken")).expiresAt;parseInt(Date.now()/1e3)>e&&(localStorage.clear(),window.location.assign("/home"))}return null}},{key:"hideDialog",value:function(){this.setState({dailogOpen:!1})}},{key:"getCount",value:function(){var e=JSON.parse(sessionStorage.getItem("cartItems")),t=0;e&&e.map((function(e){return t+=parseInt(e.quantity)})),this.setState({count:t})}},{key:"showLoginModal",value:function(e){if(e.preventDefault(),"checkout"===localStorage.getItem("loginClicked")){localStorage.setItem("showLogin",1);var t=new CustomEvent("showLogin");document.dispatchEvent(t),document.getElementById("okta-signin-username")&&document.getElementById("okta-signin-username").focus()}else this.setState({showLoginModal:!0})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.customerDetails!==e.customerDetails&&"/home"===this.props.match.path&&setTimeout((function(){var e=localStorage.getItem("accessToken");!sessionStorage.getItem("Zipcode")&&e&&""===t.state.updatedZipCode&&t.setState({dailogOpen:!0,spinner:!1,clickedBtn:"getStarted"})}),2e3)}},{key:"componentDidMount",value:function(){this.getCount();var e=this,t=localStorage.getItem("token");null!=t&&t.length>0&&this.setState({isAuthenticated:!0,showLoginModal:!1}),document.addEventListener("showLoginDialog",(function(t){e.setState({showLoginModal:!0})})),document.addEventListener("cartitem",(function(t){var a=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):0,n=0;a.length>0?(a.map((function(e){return n+=parseInt(e.quantity)})),e.setState({count:n})):e.setState({count:0}),e.forceUpdate()})),this.props.customerDetails&&this.props.customerDetails.accountContacts||this.getUserDetails(),document.addEventListener("keydown",this.hideUserDropdown)}},{key:"redirect",value:function(e,t){t.success&&t.data&&sessionStorage.setItem("_lo_No",t.data.locationId),this.setState({updatedZipCode:e},(function(){sessionStorage.setItem("Zipcode",e),window.location.reload()}))}},{key:"render",value:function(){var e=this,t="/"===window.location.pathname||"/home"===window.location.pathname||"/productlist"===window.location.pathname||"/cart"===window.location.pathname,a=this.props,n=a.classes,i=a.customerDetails,s=a.isAuthenticated,o=this.state,l=o.showDrawer,c=o.zipPopover,d=o.updatedZipCode,u=o.errorMessage,p=o.showLoginModal,g=o.anchorEl,h=o.dailogOpen,f=o.menuToggle,b=o.clickedBtn,v=o.count,S=i&&i.accountContacts&&i.accountContacts.length>0?i.accountContacts[0].firstName+" "+i.accountContacts[0].lastName:"";return r.a.createElement(Vt.a,{color:"inherit",className:!0===l?"header open":"header"},r.a.createElement(Bt.a,{className:n.Toolbar},r.a.createElement(G.a,{className:"container-root"},r.a.createElement(V.a,{container:!0,spacing:0,alignItems:"center"},r.a.createElement(V.a,{item:!0,className:"logo-wrapper"},r.a.createElement(Ot.a,{onClick:this.toggleDrawer,className:"menu-link menu-icon",id:"Menu","aria-label":"Menu"},l?r.a.createElement(Jt.a,null):r.a.createElement(Yt.a,null)),r.a.createElement(m.NavLink,{to:"/home","aria-label":"Frito lay Header Logo",onClick:function(){return Object(P.b)(P.a.Action.ACTION_HEADER_LOGO,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname)}},r.a.createElement("img",{src:"./images/HeaderLogo.png",alt:"Frito lay",className:"logo"}))),r.a.createElement(V.a,{item:!0,xs:!0},r.a.createElement("nav",{className:"pl-0 menu-link-wrapper menu-link-web loggedin"},r.a.createElement(_t.a,{className:"menu-list hide-959"},this.navigationList()),u&&r.a.createElement(re.a,{fullWidth:!0,msg:u}),r.a.createElement(_t.a,{className:"menu-list"},sessionStorage.getItem("Zipcode")?r.a.createElement(Mt.a,{className:"menu-list-single"},r.a.createElement(Ft.a,{placeholder:"top",title:"Location"},r.a.createElement(X.a,{"aria-controls":"shipto-zip","aria-haspopup":"true",className:c?"btn-mui btn-outlined shipto-btn open":"btn-mui btn-outlined shipto-btn",disabled:!t,onClick:this.zipPopoverOpen},window.innerWidth>767?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"shipto-text"},"Ship to"),r.a.createElement("span",{id:"shipto-zip",className:"shipto-zip"},d||sessionStorage.getItem("Zipcode"))):r.a.createElement(Xt.a,null))),r.a.createElement(Rt.a,{id:"shipto",className:"popover-zip",classes:{paper:"popover-zip-paper"},anchorEl:g,keepMounted:!0,open:c,onClose:this.zipPopoverClose},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"zipcode",className:"label-hidden"},"change zipcode"),r.a.createElement("input",{type:"text",onChange:function(t){return e.checkZipcode(t)},id:"zipcode",defaultValue:sessionStorage.getItem("Zipcode"),maxLength:"5",ref:"updateZipCode"})),r.a.createElement("div",{className:"button-group"},r.a.createElement(X.a,{className:"btn-mui btn-sm btn-blue",onClick:this.zipPopoverUpdate},"Update"),r.a.createElement(X.a,{className:"btn-mui btn-sm btn-outlined",onClick:this.zipPopoverClose},"Cancel")))):"",s?"":r.a.createElement(Mt.a,{className:"menu-list-single"},r.a.createElement(m.NavLink,{className:"menu-link no-active",to:"/","aria-label":"login",onClick:function(t){Object(P.b)(P.a.Action.ACTION_HEADER_LOGIN,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),sessionStorage.removeItem("prevUrl"),e.showLoginModal(t)}},"login"),r.a.createElement(Zt.a,{onClickAway:this.handleClickAway},r.a.createElement("div",{className:"reg-options"},null!==i&&r.a.createElement(Ft.a,{placement:"bottom",title:"create account"},r.a.createElement(X.a,{id:"accountDropdown","aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick,"aria-label":"click here to open dropdown"},r.a.createElement("i",{className:"fa fa-caret-down"}))),f?r.a.createElement(qt.a,null,r.a.createElement(zt.a,{"aria-label":"Create Account",onClick:function(){Object(P.b)(P.a.Action.ACTION_HEADER_CREATE_ACCOUNT,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),sessionStorage.setItem("prevUrl",window.location.pathname),e.props.history.push("/create-account"),e.setState({menuToggle:!1})}},r.a.createElement("span",null,r.a.createElement($t.a,null)),"Create Account")):null))),r.a.createElement(Mt.a,{className:"menu-list-single cart-list"},r.a.createElement(Ft.a,{placement:"top",title:"cart"},r.a.createElement(Ot.a,{className:"menu-link",disabled:!(v>0),onClick:function(){return e.cartZipValidation()},id:"cartButton","aria-label":"".concat(v," items in cart")},r.a.createElement("img",{src:"./images/cart.png",alt:"cart icon"}),v>0&&r.a.createElement("span",{className:"cart-count"},v)))),s?r.a.createElement(Zt.a,{onClickAway:this.handleClickAway},r.a.createElement(Mt.a,{className:"menu-list-single user-list"},r.a.createElement("div",{className:f?"user-list-wrapper open":"user-list-wrapper"},null!==i&&r.a.createElement(X.a,{id:"userDropdown","aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick,className:"user-button","aria-label":"Username: ".concat(S)},r.a.createElement("span",{className:"user-icon"},r.a.createElement($t.a,null)),r.a.createElement("span",{id:"simple-menu",className:"user-name"},S)),f?r.a.createElement(qt.a,null,r.a.createElement(zt.a,{"aria-label":"profile",onClick:function(t){e.props.history.push("/profile"),e.setState({menuToggle:!1})}},r.a.createElement("i",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"9.601"},r.a.createElement("path",{d:"M4.2 4.8a2.4 2.4 0 10-2.4-2.4 2.4 2.4 0 002.4 2.4zm1.68.6h-.313a3.264 3.264 0 01-2.734 0H2.52A2.521 2.521 0 000 7.92v.78a.9.9 0 00.9.9h5.155a.9.9 0 01-.049-.4l.128-1.142.023-.208.143-.15 1.453-1.447A2.494 2.494 0 005.88 5.4zm.85 2.725L6.6 9.268a.3.3 0 00.33.33l1.142-.128 2.588-2.585-1.345-1.344zm5.14-3.083l-.711-.711a.449.449 0 00-.634 0l-.709.709-.077.077 1.346 1.344.784-.784a.452.452 0 000-.635z",fill:"#333"}))),"My Profile"),r.a.createElement(zt.a,{onClick:function(t){e.userLogout(t),e.setState({menuToggle:!1})}},r.a.createElement("i",null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8.418",height:"9.621"},r.a.createElement("path",{d:"M.9 4.209h.451V2.856a2.856 2.856 0 115.713 0v1.353h.451a.9.9 0 01.9.9v3.61a.9.9 0 01-.9.9H.9a.9.9 0 01-.9-.9V5.111a.9.9 0 01.9-.902zm1.954 0h2.708V2.856a1.353 1.353 0 10-2.706 0z",fill:"#333"}))),"Logout")):null))):""),r.a.createElement(Y.a,{onClose:function(){e.setState({zipCode:sessionStorage.getItem("Zipcode")}),e.hideDialog()},dailogOpen:h,clickedBtn:b}),r.a.createElement(Ut.a,{anchor:"left",open:l,onClick:this.toggleDrawer,className:"drawer-wrapper",classes:{paper:"drawer-mobile"}},r.a.createElement(_t.a,{className:"menu-list-mobile menu-link-wrapper"},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt.a,{className:"menu-list-single login-list"},null!==i&&r.a.createElement(X.a,{"aria-controls":"User",className:"user-button",onClick:function(){Object(P.b)(P.a.Action.ACTION_HEADER_PROFILE,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.props.history.push("/profile")},"aria-label":"Username: ".concat(S)},r.a.createElement("span",{className:"user-icon"},r.a.createElement($t.a,null)),r.a.createElement("span",{className:"user-name"},S)))):r.a.createElement(Mt.a,{className:"menu-list-single login-list"},r.a.createElement(m.NavLink,{className:"menu-link no-active",to:"#","aria-label":"login",onClick:function(t){sessionStorage.removeItem("prevUrl"),e.showLoginModal(t)}},"login")),this.navigationList(),s?r.a.createElement(Mt.a,{className:"menu-list-single"},r.a.createElement(m.NavLink,{className:"menu-link",to:"#","aria-label":"Logout",onClick:function(t){Object(P.b)(P.a.Action.ACTION_HEADER_LOGOUT,P.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.userLogout(t)}},"Logout")):""),r.a.createElement(Ot.a,{onClick:this.toggleDrawer,className:"menu-link menu-icon-close"},r.a.createElement(Jt.a,null))))))),r.a.createElement($.a,{open:p,onClose:function(){e.setState({showLoginModal:!1})},maxWidth:!1,scroll:"body",classes:{paper:"modal-container modal-paper modal-login",root:"modal-stack-top"},"aria-labelledby":"signIn-dialogBox"},r.a.createElement(Q.a,null,r.a.createElement(wt.a,{loginClicked:function(t){return e.onLoginSuccess(t)},changeForgotToLogin:function(){},fromForgot:!1,closeLoginDialog:function(){return e.setState({showLoginModal:!1})}}),r.a.createElement(X.a,{className:"icn-close",id:"LoginClose","aria-label":"Login Dialog Close",onClick:function(){e.setState({showLoginModal:!1})}},r.a.createElement("i",{className:"fa fa-times"}))))))}}]),a}(s.Component)),ta=Object(d.b)((function(e){return{isAuthenticated:e.reducer.isAuthenticated,customerDetails:e.reducer.customerDetails,zipResponse:e.reducer.zipResponse,validationMessage:e.reducer.validationMessage}}),{LogOut:E.a,actionGetCustomer:E.h,actionZipcodeVerification:E.k})(Object(A.o)(Object(Ht.a)((function(e){return{menuButton:Object(Qe.a)({display:"none",width:"auto"},e.breakpoints.down("sm"),{display:"block"}),cSelect:{position:"relative",paddingRight:"15px","&:after":{content:'" "',right:"5px",position:"absolute",width:"0",height:"0",borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid rgba(0, 0, 0, 0.54)",fontSize:"0",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"}},selectMenu:Object(Qe.a)({appearance:"none",backgroundColor:"transparent",border:"nonMenue",color:Bt.a,withStyles:"#333",fontSize:"16px"},e.breakpoints.down("xs"),{fontSize:"14px"}),dropdownList:{display:"block"},customDropdown:{position:"absolute",border:"1px solid rgba(0, 0, 0, 0.15)",top:"100%",zIndex:"9",backgroundColor:"#fff",minWidth:"150px"},accButton:{position:"relative",paddingRight:"15px","&:after":{content:'" "',right:"0px",position:"absolute",width:"0",height:"0",borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid rgba(0, 0, 0, 0.54)",fontSize:"0",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"}},closeDrawer:{position:"absolute",top:"0",right:"0",zIndex:"9"}}}))(ea))),aa=function(e){var t=e.component,a=e.title,n=Object(Ue.a)(e,["component","title"]);return r.a.createElement(A.d,Object.assign({},n,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.ReactTitle,{title:a}),r.a.createElement(ta,null),r.a.createElement("main",{className:"main-contain "+("#/home"===window.location.hash||"#/"===window.location.hash?"main-contain-home":"")},r.a.createElement("div",{className:"main-contain-inner"},sessionStorage.getItem("_ss_i")&&sessionStorage.getItem("_rr_n_dts")&&sessionStorage.getItem("_en_cs")?r.a.createElement(t,e):r.a.createElement(Pt,null))),r.a.createElement(jt,null))}}))},na=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(s.Component),ia=Object(A.o)(na),sa=a(348),ra=a(108),oa=a(515),la=a.n(oa),ca=function(){var e=la.a.parse(window.location.search),t=e?e.code:"";return t?(localStorage.setItem("code",t),bt.a.getToken(t).then((function(e){!sessionStorage.getItem("prevUrl")||"/checkout"!=sessionStorage.getItem("prevUrl")&&"/cart-preview"!=sessionStorage.getItem("prevUrl")?sessionStorage.getItem("prevUrl")&&"/cart"==sessionStorage.getItem("prevUrl")?window.location.assign("/cart"):window.location.assign("/home"):window.location.assign("/checkout")}))):window.location.href="/home",""},da=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={clientToken:!1},n.onAuthRequired=n.onAuthRequired.bind(Object(O.a)(n)),n}return Object(p.a)(a,[{key:"onAuthRequired",value:function(){this.props.history.push("/home")}},{key:"componentWillMount",value:function(){var e=this,t={sessionId:"_ss_"+(new Date).getTime()+"i"+Math.random().toString(16).slice(2)};sessionStorage.getItem("_ss_i")&&sessionStorage.getItem("_rr_n_dts")&&sessionStorage.getItem("_en_cs")?this.setState({clientToken:!0}):k.a.postAPIKeyMethod(L.a.handshaking,t,!1).then((function(t){var a=t.data;a.success&&a.data?(sessionStorage.setItem("_ss_i",a.data.sessionId),sessionStorage.setItem("_rr_n_dts",a.data.rnduts),sessionStorage.setItem("_en_cs",a.data.encstr),e.setState({clientToken:!0})):(sessionStorage.removeItem("_ss_i"),sessionStorage.removeItem("_rr_n_dts"),sessionStorage.removeItem("_en_cs"),e.setState({clientToken:!0}))})).catch((function(t){sessionStorage.removeItem("_ss_i"),sessionStorage.removeItem("_rr_n_dts"),sessionStorage.removeItem("_en_cs"),e.setState({clientToken:!0})}))}},{key:"render",value:function(){return r.a.createElement(ia,null,this.state.clientToken?r.a.createElement(sa.Security,Object.assign({},ra.a.oidc,{onAuthRequired:this.onAuthRequired}),r.a.createElement(A.g,null,r.a.createElement(aa,{path:"/",exact:!0,component:he,title:"Home | "+L.a.titleTag}),r.a.createElement(aa,{path:"/home",exact:!0,component:he,title:"Home | "+L.a.titleTag}),r.a.createElement(sa.SecureRoute,{path:"/protected",component:he,title:"Home | "+L.a.titleTag}),r.a.createElement(A.d,{exact:!0,path:"/cybersource",component:B}),r.a.createElement(A.d,{path:"/implicit/callback",component:ca}),r.a.createElement(aa,{exact:!0,path:"/invalidzip",component:Z,title:"Invalid zipcode | "+L.a.titleTag}),r.a.createElement(aa,{exact:!0,path:"/shopbycategory",component:Te,title:"Shop By Category | "+L.a.titleTag}),r.a.createElement(aa,{exact:!0,path:"/productlist",component:De.a,title:"Products | "+L.a.titleTag}),r.a.createElement(aa,{exact:!0,path:"/cart",component:q.a,title:"Cart | "+L.a.titleTag}),r.a.createElement(aa,{exact:!0,path:"/checkout",component:q.a,title:"Checkout | "+L.a.titleTag}),r.a.createElement(aa,{exact:!0,path:"/productdetail",component:w.a,title:"Product Detail | "+L.a.titleTag}),r.a.createElement(aa,{exact:!0,path:"/thankyou",component:z.a,title:"Thank You | "+L.a.titleTag}),r.a.createElement(aa,{path:"/contactus",component:Ne,title:"Contact | "+L.a.titleTag}),r.a.createElement(aa,{path:"/terms-of-service",component:Me,title:"Terms Of Service | "+L.a.titleTag}),r.a.createElement(aa,{path:"/privacy-policy",component:je,title:"Privacy Policy | "+L.a.titleTag}),r.a.createElement(aa,{path:"/ads-tracking",component:Ve,title:"Ads Tracking | "+L.a.titleTag}),r.a.createElement(aa,{path:"/returns-policy",component:Ze,title:"Returns Policy | "+L.a.titleTag}),r.a.createElement(aa,{path:"/faq",component:ze,title:"FAQ | "+L.a.titleTag}),r.a.createElement(aa,{path:"/profile",component:Nt,title:"MyProfile | "+L.a.titleTag}),r.a.createElement(aa,{path:"/create-account",component:Dt,title:"CreateAccount | "+L.a.titleTag}),r.a.createElement(A.c,{from:"/",to:"/home"}))):"")}}]),a}(s.Component),ma=Object(b.a)({palette:{secondary:{main:v.a[900]},primary:{main:S.a[700]}}}),ua=function(e){Object(g.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).actionGetMinAmount=function(){try{n.props.actionGetMinAmount().then((function(){var e=n.props.minPrice;e&&0!==Object.keys(e).length&&(sessionStorage.setItem("minimumOrderAmount",e.minimumOrderAmount?e.minimumOrderAmount:null),sessionStorage.setItem("shippingCharges",e.shippingCharges?e.shippingCharges:null),sessionStorage.setItem("msgTime",e.mesgDisplayTimeout?e.mesgDisplayTimeout:""),null==e.instrumentationKey&&void 0==e.instrumentationKey||n.setState({instrumentationKey:e.instrumentationKey}))}))}catch(e){console.log("someThing Went wrong",e)}},n.state={spinner:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.actionGetMinAmount()}),2e3)}},{key:"render",value:function(){var e="5d55d161-4411-4f69-b440-acc12095fd76";return"www.snacks.com"!=window.location.hostname&&(e="1e31d811-6fad-484c-879e-0d8ac97278f7"),r.a.createElement(I,{instrumentationKey:e,after:function(){Object(y.b)()}},r.a.createElement(f.a,{theme:ma},r.a.createElement("div",{className:"main-container"},r.a.createElement(f.a,{theme:ma},r.a.createElement(da,null)))))}}]),a}(s.Component),pa=Object(d.b)((function(e){return{minPrice:e.reducer.minAmount}}),{actionGetMinAmount:E.i})(ua);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(1092);var ga=a(150),ha=a(516),fa={Products:[],loginResponse:"",isAuthenticated:null!==localStorage.getItem("token")&&localStorage.getItem("token").length>0,token:"",totalProduct:0,customerDetails:void 0,createcustomerDetails:void 0,createCustomer:{}},ba=function(e,t){if("undefined"===typeof e)return fa;switch(t.type){case St.n:return Object.assign({},e,{Products:t.Products,totalProduct:t.totalProduct,ispagination:t.ispagination});case St.l:return Object.assign({},e,{productdetails:t.productdetails});case St.f:return Object.assign({},e,{filterProducts:t.filterProducts});case St.p:return Object.assign({},e,{zipResponse:t.zipResponse,validationMessage:t.validationMessage});case St.g:return Object.assign({},e,{labelList:t.labelList});case St.c:return Object.assign({},e,{createCustomer:t.createCustomer});case St.j:return Object.assign({},e,{minAmount:t.minAmount});case St.o:return Object.assign({},e,{productInventory:t.productInventory});case St.b:return Object.assign({},e,{privacyPolicy:t.privacyPolicy});case St.a:return Object.assign({},e,{contactResponse:t.contactResponse});case St.h:return Object.assign({},e,{loginResponse:t.loginResponse,token:t.loginResponse.sessionToken,isAuthenticated:!0});case St.i:return Object.assign({},e,{loginResponse:"",token:"",isAuthenticated:!1,customerDetails:void 0});case St.e:return Object.assign({},e,{customerDetails:t.customerDetails});case St.d:return Object.assign({},e,{createcustomerDetails:t.createcustomerDetails});case St.k:return Object.assign({},e,{orderHistory:t.orderHistory,validationMessage:t.validationMessage});default:return e}},va=Object(ga.e)(Object(ga.c)({reducer:ba}),Object(ga.d)(Object(ga.a)(ha.a)));n.a.autoAddCss=!1,n.b.add(),Object(c.setConfig)({showReactDomPatchNotification:!1});var Sa=Object(i.a)();l.a.render(r.a.createElement(m.BrowserRouter,{history:Sa},r.a.createElement(c.AppContainer,null,r.a.createElement(d.a,{store:va},r.a.createElement(pa,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},115:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(15),i=a(1109),s=a(1110),r=null,o=null,l={reactPlugin:r,appInsights:o,initialize:function(e,t){if(!t)throw new Error("Could not initialize Telemetry Service");if(!e)throw new Error("Instrumentation key not provided in ./src/telemetry-provider.jsx");r=new s.a,(o=new i.a({config:{instrumentationKey:e,maxBatchInterval:0,disableFetchTracking:!1,extensions:[r],extensionConfig:Object(n.a)({},r.identifier,{history:t})}})).loadAppInsights()}},c=function(){return o}},127:function(e,t,a){"use strict";var n=a(15),i=a(9),s=a(10),r=a(66),o=a(12),l=a(11),c=a(52),d=a(31),m=a(266),u=a(267),p=a(268),g=a(1099),h=a(180),f=a(13),b=a(0),v=a.n(b),S=a(41),E=a(14),y=a(20),C=a(23),A=a(30),N=a(60),I=a(19),O=a(6),w=a(529),k=a(1100),L=a(1101),T=a(3),D=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleLogin=function(e){s.removeMsg(),s.setState({spinner:!0,msg:"",msgType:"success"}),Object(T.b)(T.a.Action.ACTION_LOGIN,T.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{email:e.email}),N.a.userLogin(e.email,e.password).then((function(e){s.setState({spinner:!1}),void 0!==e.data?(s.props.LoginAuth(e),null!==sessionStorage.getItem("taxZipCode")&&sessionStorage.removeItem("taxZipCode"),setTimeout((function(){if("SUCCESS"===e.data.status&&s.props.isAuthenticated){var t=e.sessionToken;localStorage.setItem("token","Bearer "+t),N.a.getCode(t)}else"LOCKED_OUT"===e.data.status&&s.setState({msg:O.a.userAccountLocked,msgType:"error"})}),1500)):"404"===e.status?s.setState({msg:"We are facing some technical issue. Please try again after sometime.",msgType:"error"}):s.setState({msg:e.toString(),msgType:"error"})})).catch((function(e){s.setState({spinner:!1}),s.setState({msg:e.toString(),msgType:"error"},(function(){return s.removeMsg()})),console.log("Found an error",e)}))},s.handleClickShowPassword=function(){s.setState({showPassword:!s.state.showPassword})},s.handleMouseDownPassword=function(e){e.preventDefault()},s.handleClose=function(){s.setState({ZipfailMessage:""}),document.getElementById("body").classList.remove("has-toast")},s.nameFieldValidation=function(e,t){s.setState(Object(n.a)({},e.target.id,"")),(e.target.value||""===e.target.value)&&t([e.target.id],e.target.value)},s.handleLogin=function(e){s.removeMsg(),s.setState({spinner:!0,msg:"",msgType:"success"}),Object(T.b)(T.a.Action.ACTION_LOGIN,T.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{email:e.email}),N.a.userLogin(e.email,e.password).then((function(e){s.setState({spinner:!1}),void 0!==e.data?(s.props.LoginAuth(e),setTimeout((function(){if("SUCCESS"===e.data.status&&s.props.isAuthenticated){var t=e.sessionToken;localStorage.setItem("token","Bearer "+t),N.a.getCode(t)}else"LOCKED_OUT"===e.data.status&&s.setState({msg:O.a.userAccountLocked,msgType:"error"})}),1500)):"404"===e.status?s.setState({msg:"We are facing some technical issue. Please try again after sometime.",msgType:"error"}):s.setState({msg:e.toString(),msgType:"error"})})).catch((function(e){s.setState({spinner:!1}),s.setState({msg:e.toString(),msgType:"error"},(function(){return s.removeMsg()})),console.log("Found an error",e)}))},s.handleClickShowPassword=function(){s.setState({showPassword:!s.state.showPassword})},s.handleMouseDownPassword=function(e){e.preventDefault()},s.state={spinner:!1,isLoginComponent:!s.props.fromForgot,msg:null,msgType:"success",password:"",email:"",submitDisabled:!1,errorMessage:"",showPassword:!1},s.nameFieldValidation.bind(Object(r.a)(s)),s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){Object(T.b)(T.a.Action.ACTION_LOGIN_POPUP,T.a.Event.EVENT_PAGE_VIEW,window.location.origin,window.location.pathname,{from:null!==sessionStorage.getItem("prevUrl")?sessionStorage.getItem("prevUrl"):"home"}),setTimeout((function(){window.scrollTo(0,0)}),10)}},{key:"removeMsg",value:function(){var e=this,t=parseInt(sessionStorage.getItem("msgTime")?sessionStorage.getItem("msgTime"):1e4);setTimeout((function(){e.setState({msg:null,msgType:"success"})}),t)}},{key:"removeMsg",value:function(){var e=this,t=parseInt(sessionStorage.getItem("msgTime")?sessionStorage.getItem("msgTime"):1e4);setTimeout((function(){e.setState({msg:null,msgType:"success"})}),t)}},{key:"render",value:function(){var e=this;return v.a.createElement("div",null,this.props.spinner?v.a.createElement(A.a,null):"",this.state.spinner?v.a.createElement(A.a,null):"",this.state.msg?v.a.createElement(w.a,{className:"snackbar-inline "+this.state.msgType,severity:this.state.msgType},this.state.msg):"",v.a.createElement("div",{className:"has-guest"},v.a.createElement("div",{className:"title"},"Sign in to Checkout"),v.a.createElement("div",{className:"signin-text"},"Sign in to checkout or",v.a.createElement(c.a,{color:"primary",className:"btn-link",id:"SignIn","aria-label":"sign in",onClick:function(){e.props.closeLoginDialog(),"/create-account"!==window.location.pathname&&e.props.history.push("/create-account")}},"Create an Account"))),this.state.isLoginComponent?v.a.createElement(f.c,{initialValues:{email:"",password:""},enableReinitialize:!0,validationSchema:E.object().shape({email:E.string().email("Please enter a valid email.").required("Email is required."),password:E.string().required("Password is required.").min(8,"Password must be at least 8 characters.")}),onSubmit:function(t){return e.handleLogin(t)}},(function(t){var a=t.values,n=t.touched,i=t.errors,s=t.handleChange,r=t.handleBlur,o=t.handleSubmit,l=t.setFieldValue;return v.a.createElement("form",{id:"startSubscriptionForm",name:"form1",onSubmit:o,className:"login-form custom-form"},v.a.createElement("div",{className:"info0","aria-label":"sign in"},"Sign in"),v.a.createElement("fieldset",{className:"form-card"},v.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},v.a.createElement(d.a,{item:!0,xs:12,sm:12},v.a.createElement(m.a,{fullWidth:!0,className:"form-group",variant:"outlined"},v.a.createElement(u.a,{className:"form-label",htmlFor:"email"},"Email"),v.a.createElement(p.a,{id:"email",value:a.email,onChange:s,onBlur:r,error:n.email&&Boolean(i.email),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"}}),v.a.createElement(f.a,{role:"alert",component:"div",name:"email",className:"text-danger"}))),v.a.createElement(d.a,{item:!0,xs:12,sm:12},v.a.createElement(m.a,{fullWidth:!0,className:"form-group",variant:"outlined"},v.a.createElement(u.a,{className:"form-label",htmlFor:"password"},"Password"),v.a.createElement(p.a,{id:"password",value:a.password,type:e.state.showPassword?"text":"password",onChange:function(t){return e.nameFieldValidation(t,l)},onBlur:r,error:n.password&&Boolean(i.password),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},endAdornment:v.a.createElement(g.a,{position:"end"},v.a.createElement(h.a,{"aria-label":"toggle password visibility",onClick:e.handleClickShowPassword,onMouseDown:e.handleMouseDownPassword,edge:"end"},e.state.showPassword?v.a.createElement(k.a,null):v.a.createElement(L.a,null)))}),e.state.password?v.a.createElement("div",{className:"text-danger"},e.state.password):v.a.createElement(f.a,{role:"alert",component:"div",name:"password",className:"text-danger"}))))),v.a.createElement("div",{className:"button-group text-center"},v.a.createElement(c.a,{type:"submit",disabled:e.state.submitDisabled,variant:"contained",color:"primary",className:"btn-mui signin-btn",id:"SignIn","aria-label":"Sign In"},"Sign In")),v.a.createElement("div",{className:"signin-text"},"Forgot password?",v.a.createElement(c.a,{className:"btn-link",onClick:function(){return e.setState({isLoginComponent:!1})},"aria-label":"click here to reset password"},"Click here")))})):v.a.createElement("div",null,v.a.createElement(d.a,null,v.a.createElement(f.c,{enableReinitialize:!0,initialValues:{email:""},validationSchema:E.object().shape({email:E.string().email("Email must be a valid email.").required("Email is required.")}),onSubmit:function(t,a){var n=a.resetForm;Object(T.b)(T.a.Action.ACTION_FORGOT_PASSWORD,T.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{email:t.email});var i={username:t.email};I.a.postMethod(O.a.forgotpassword,i,!0).then((function(t){t.data.success?(n({email:""}),e.setState({msg:t.data.message,msgType:"success"},(function(){return e.removeMsg()}))):e.setState({msg:O.a.errorMsg,msgType:"error"},(function(){return e.removeMsg()}))}))}},(function(t){t.setFieldValue;var a=t.handleChange,n=t.handleBlur,i=t.errors,s=t.values,r=t.touched;return v.a.createElement(f.b,{className:"loginForm login-form custom-form"},v.a.createElement("div",{className:"info0"},"Forgot Password"),v.a.createElement("fieldset",{className:"form-card"},v.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},v.a.createElement(d.a,{item:!0,xs:12,sm:12},v.a.createElement(m.a,{fullWidth:!0,className:"form-group",variant:"outlined"},v.a.createElement(u.a,{className:"form-label",htmlFor:"email"},"Email Address"),v.a.createElement(p.a,{id:"email",value:s.email,onChange:a,onBlur:n,error:r.email&&Boolean(i.email),inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"}}),v.a.createElement(f.a,{role:"alert",component:"div",name:"email",className:"text-danger"}))))),v.a.createElement("div",{className:"button-group text-center"},v.a.createElement(c.a,{type:"submit",variant:"contained",color:"primary",className:"btn-mui signin-btn",id:"ForgotPassword","aria-label":"Forgot Password"},"Forgot Password")),v.a.createElement("div",{className:"signin-text"},"Back to Sign in?",v.a.createElement(c.a,{className:"btn-link",onClick:function(){e.setState({isLoginComponent:!0}),e.props.changeForgotToLogin()},"aria-label":"click here to go back to Sign in"},"Click here")))})))),v.a.createElement("div",{className:"custom-form guest-fieldset has-guest"},v.a.createElement("div",{className:"separator"},"or"),v.a.createElement("div",{className:"title"},"Checkout as Guest"),v.a.createElement(c.a,{variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"GuestCheckout","aria-label":"Guest Checkout",onClick:function(){null!==JSON.parse(sessionStorage.getItem("cartItems"))?(e.props.closeLoginDialog(),sessionStorage.setItem("checkoutMode","Guest"),e.props.history.push("/checkout")):e.setState({msg:"Please add items in cart to checkout",msgType:"error"})}},"Guest Checkout")),v.a.createElement("div",{className:"has-account"},v.a.createElement("div",{className:"separator"},"or"),v.a.createElement("div",{className:"desc"},"Don't have an account?",v.a.createElement(c.a,{color:"primary",className:"btn-link",id:"SignIn","aria-label":"Create account",onClick:function(){e.props.closeLoginDialog(),"/create-account"!==window.location.pathname&&e.props.history.push("/create-account")}},"Create an account"))))}}]),a}(v.a.Component);t.a=Object(C.b)((function(e){return{zipResponse:e.reducer.zipResponse,isAuthenticated:e.reducer.isAuthenticated}}),{LoginAuth:y.b})(Object(S.o)(D))},128:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(9),i=a(10),s=a(12),r=a(11),o=a(0),l=a.n(o),c=a(353),d=a(52),m=(a(961),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dialogWarning,a=e.dialogOpen,n=e.dialogClose,i=e.dialogHeading,s=e.dialogCloseConfirm,r=e.ariaLabelCancel,o=e.ariaLabelYes;return l.a.createElement(c.a,{open:a,onClose:function(){return n()},"aria-labelledby":"simple-modal-title",className:"modal-wrapper  modal-wrapper-container",scroll:"body"},l.a.createElement("div",{className:"modal-wrapper modal-wrapper-container modal-paper"},l.a.createElement("h2",{id:"simple-modal-title",className:"heading"},t&&l.a.createElement("i",{className:"fa fa-exclamation-circle"}),i),l.a.createElement(d.a,{"aria-label":o||"yes",className:"accept",onClick:function(){return s()}},"Yes"),l.a.createElement(d.a,{"aria-label":r||"cancel",className:"reject",onClick:function(){return n()}},"Cancel")))}}]),a}(o.Component))},166:function(e,t,a){"use strict";var n=a(17),i=a(9),s=a(10),r=a(12),o=a(11),l=a(0),c=a.n(l),d=a(63),m=a(31),u=a(354),p=a(351),g=a(352),h=a(23),f=a(20),b=a(30),v=a(169),S=a(87),E=a(249),y=a.n(E),C=a(65),A=a(3),N=(a(832),a(77)),I=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getQuantitySection=function(){var e=n.props,t=e.warningMsgFunc,a=e.productData,i=e.selectedItems,s=e.closeAndUpdate;return a.map((function(e,n){return c.a.createElement(v.a,{primaryProduct:a[0],productInfo:e,key:n,closeAndUpdate:s,warningMsgFunc:t,selectedItems:i,sizeName:e.size,price:e.price})}))},n.state={id:n.props,isLoaded:!1,products:"",productItems:{},productItemsCopy:{},selectedItems:{},msg:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.productData,i=t.items,s=i,r=Object(n.a)({},i);if(this.setState({productItems:s,productItemsCopy:r}),a&&a[0]){Object(A.b)(A.a.Action.ACTION_PRODUCT_DETAILS,A.a.Event.EVENT_PAGE_VIEW,window.location.origin,window.location.pathname,{product:a[0]});var o={prodId:a[0].id,locationNumber:sessionStorage.getItem("_lo_No")||null};this.props.actiongetProductDetail(o).then((function(t){console.log("resp",t),t.length>0&&(t[0].availableQty=a[0].availableQty,t[0].quantity=a[0].quantity,parseInt(a[0].availableQty)<=0?t[0].isOutofstock=0:t[0].isOutofstock=1,e.setState({products:t[0]}))}))}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.someProp;this.setState(Object(n.a)(Object(n.a)({},this.state),{},{someProp:t}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.msg;return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(S.a,{msg:n}),a?c.a.createElement(y.a,{src:a.image.Product_Image,crossOrigin:"Anonymous",format:"hex"},(function(t){var n=t.data,i=(t.loading,n?Object(C.a)(n):"#000000");return c.a.createElement("div",{className:"product-detail-wrapper",style:{backgroundImage:"linear-gradient(to bottom, ".concat(i," ,").concat(n,")")}},c.a.createElement(d.a,{variant:"h1",className:"heading-hidden","aria-hidden":"true"},"Product Detail"),c.a.createElement(m.a,{container:!0,className:"product-info-container"},c.a.createElement(m.a,{item:!0,sm:"6"},c.a.createElement("div",{className:"product-detail-image-outer"},c.a.createElement("div",{className:"product-detail-image"},c.a.createElement("img",{src:a.image.Product_Image,alt:"Product"}),c.a.createElement("div",{className:"shadow"}))),c.a.createElement(u.a,{className:"accordion-wrapper"},c.a.createElement(p.a,{expandIcon:c.a.createElement("svg",{width:"21",height:"10",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"#fff","stroke-width":"4",fill:"none","fill-rule":"evenodd","stroke-linecap":"square","stroke-linejoin":"round"},c.a.createElement("path",{d:"M20.562.292l-9.625 6.416M.438.292l9.625 6.416"}))),"aria-controls":"panel2a-content",id:"panel2a-header",className:"accordion-header"},c.a.createElement(d.a,{variant:"h2"},"description")),c.a.createElement(g.a,{className:"accordion-body"},c.a.createElement("div",{className:"product-desc"},a.description)))),c.a.createElement(m.a,{item:!0,sm:"6",className:"product-info-div"},c.a.createElement("div",{className:"product-brand"},a.brand),c.a.createElement("div",{className:"product-name"},a.shortDescription),c.a.createElement("div",{className:"product-detail-actions"},a.availableQty<=0&&c.a.createElement("div",{className:"out-of-stock"},N.a.OUT_OF_STOCK),a.availableQty>0&&e.getQuantitySection()),c.a.createElement(u.a,{className:"accordion-wrapper"},c.a.createElement(p.a,{expandIcon:c.a.createElement("svg",{width:"21",height:"10",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"#fff","stroke-width":"4",fill:"none","fill-rule":"evenodd","stroke-linecap":"square","stroke-linejoin":"round"},c.a.createElement("path",{d:"M20.562.292l-9.625 6.416M.438.292l9.625 6.416"}))),"aria-controls":"panel3a-content",id:"panel3a-header",className:"accordion-header"},c.a.createElement(d.a,{variant:"h2"},"nutrition")),c.a.createElement(g.a,{className:"accordion-body"},c.a.createElement("img",{src:a.image.Nutrition_Image,alt:"Nutrition Facts"}))),c.a.createElement(u.a,{className:"accordion-wrapper"},c.a.createElement(p.a,{expandIcon:c.a.createElement("svg",{width:"21",height:"10",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"#fff","stroke-width":"4",fill:"none","fill-rule":"evenodd","stroke-linecap":"square","stroke-linejoin":"round"},c.a.createElement("path",{d:"M20.562.292l-9.625 6.416M.438.292l9.625 6.416"}))),"aria-controls":"panel1a-content",id:"panel1a-header",className:"accordion-header"},c.a.createElement(d.a,{variant:"h2"},"ingredients")),c.a.createElement(g.a,{className:"accordion-body"},c.a.createElement("img",{src:a.image.Ingredients_Image,alt:"Ingredients"}))))))})):c.a.createElement(m.a,{container:!0,justify:"center"},c.a.createElement(m.a,{item:!0},void 0===a?c.a.createElement("h1",{className:"noproducts-text"},"Technical Issue"):c.a.createElement(b.a,null))))}}]),a}(l.Component);t.a=Object(h.b)((function(e){return{products:e.reducer.products,productInventory:e.reducer.productInventory}}),{actiongetProductDetail:f.m,actionCheckProductAvailability:f.c})(I)},169:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(46),i=a(17),s=a(9),r=a(10),o=a(12),l=a(11),c=a(0),d=a.n(c),m=a(52),u=a(6),p=a(492),g=a.n(p),h=a(490),f=a.n(h),b=a(491),v=a.n(b),S=a(67),E=a.n(S),y=a(3),C=(a(820),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={quantity:0,warningMsg:"",disableIncrement:!1},e.updateExistingQuantity=function(){var t=e.props.productInfo,a=sessionStorage.getItem("cartItems")||[],n="string"===typeof a?JSON.parse(a):[],i=n.findIndex((function(e){return e.productId===t.productId}));-1===i&&e.setState({quantity:0}),-1!==i&&e.setState({quantity:n[i].quantity})},e.updateObject=function(t,a,s){var r=e.state.quantity,o=a.findIndex((function(e){return e.productId===t})),l=Object(i.a)(Object(i.a)({},a[o]),{},{quantity:r}),c=[].concat(Object(n.a)(a.slice(0,o)),[l],Object(n.a)(a.slice(o+1))).filter((function(e){return 0!==e.quantity}));e.props.selectedItems&&e.props.selectedItems(c),s&&e.props.closeAndUpdate(c),sessionStorage.setItem("cartItems",JSON.stringify(c));var d=new E.a("cartitem");document.dispatchEvent(d)},e.updateQuantity=function(t,a){var n=e.props,s=n.productInfo,r=n.warningMsgFunc,o=n.callFromDetail,l=n.primaryProduct,c=sessionStorage.getItem("cartItems")||[],d="string"===typeof c?JSON.parse(c):[];-1===d.findIndex((function(e){return e.productId===s.productId}))&&d.push(Object(i.a)(Object(i.a)({},l),s)),t&&t>s.availableQty&&e.setState({warningMsg:u.a.qtyAvailableMsg},(function(){r(e.state.warningMsg,s.availableQty)})),t&&t<=s.availableQty?e.setState({quantity:parseInt(t)},(function(){!o&&e.updateObject(s.productId,d),a&&e.updateObject(s.productId,d,a)})):!o&&e.updateObject(s.productId,d)},e.decrement=function(){var t=e.state.quantity,a=e.props,n=a.productInfo,i=a.primaryProduct;t>0&&t<=n.availableQty&&(Object(y.b)(y.a.Action.ACTION_PRODUCT_DECREASE_CART,y.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{product:i}),e.setState({disableIncrement:!1,quantity:parseInt(t)-1},(function(){e.updateQuantity()})))},e.increment=function(){var t=e.state,a=t.quantity,n=t.warningMsg,i=e.props,s=i.productInfo,r=i.warningMsgFunc,o=i.primaryProduct;a>=0&&a<s.availableQty&&(Object(y.b)(y.a.Action.ACTION_PRODUCT_INCREASE_CART,y.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{product:o}),e.setState({quantity:parseInt(a)+1},(function(){e.updateQuantity()}))),s.availableQty<=a&&e.setState({warningMsg:u.a.qtyAvailableMsg,disableIncrement:!0},(function(){Object(y.b)(y.a.Action.ACTION_PRODUCT_MAX_WARN,y.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{product:o}),r(n,s.availableQty)}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.updateExistingQuantity()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.updateExistingQuantity()}},{key:"render",value:function(){var e=this,t=this.state,a=t.quantity,n=t.disableIncrement,i=this.props,s=i.productInfo,r=(i.callFromDetail,i.sizeName),o=i.price;return d.a.createElement("div",{className:"quantity-count-contain"},r&&d.a.createElement("div",{className:"size-wrapper"},d.a.createElement("div",{"aria-label":r,className:"size"},r),d.a.createElement("div",{className:"price"},o)),d.a.createElement("div",{className:"quantity-count-wrapper"},a>1&&d.a.createElement(m.a,{"aria-label":"on clicking on this button Product Quantity will be decremented by 1",onClick:this.decrement,disabled:0===a},d.a.createElement(f.a,{className:"qty-icon"})),1===a&&d.a.createElement(v.a,{className:"trash-icon"}),a>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement("label",{htmlFor:"productListInput"+s.productId,className:"label-hidden"},"Product Quantity"),d.a.createElement("input",{type:"text",id:"productListInput"+s.productId,value:/^[0-9\b]+$/.test(a)?a:0,onChange:function(t){return e.updateQuantity(t.target.value)},ref:"quantityBox"})),d.a.createElement(m.a,{"aria-label":"on clicking on this button Product Quantity will be incremented by 1",onClick:this.increment,disabled:n},d.a.createElement(g.a,{className:"qty-icon"}))))}}]),a}(c.Component))},170:function(e,t,a){"use strict";var n=a(38),i=a.n(n),s=a(68),r=a(9),o=a(10),l=a(12),c=a(11),d=a(523),m=a(525),u=a(266),p=a(267),g=a(268),h=a(52),f=a(13),b=a(0),v=a.n(b),S=a(23),E=a(41),y=a(14),C=a(20),A=a(3),N=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){if((e=e.target.value).length<=5)if(""===e)n.setState({errorMessage:""}),t("zipcode","");else{if(/^[0-9\b]+$/.test(e))return n.setState({errorMessage:""}),t("zipcode",e),!1;n.setState({errorMessage:"Zip Code must be a number type."}),setTimeout((function(){n.setState({errorMessage:null})}),2e3)}},n.state={errorMessage:""},n}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({errorMessage:null})}},{key:"redirect",value:function(e,t){t.success&&t.data&&sessionStorage.setItem("_lo_No",t.data.locationId),sessionStorage.setItem("Zipcode",e),this.props.onClose();var a=this.props.clickedBtn,n=localStorage.getItem("accessToken"),i=sessionStorage.getItem("Zipcode");"getStarted"===a&&"cartIcon"!==a?n&&null===i?this.props.history.push("/home"):this.props.history.push("/productlist"):this.props.history.push("/cart")}},{key:"dailogClose",value:function(){this.props.onClose(),this.setState({errorMessage:""})}},{key:"makeLogin",value:function(e){this.props.onClose();var t=new CustomEvent("showLoginDialog");document.dispatchEvent(t)}},{key:"componentDidMount",value:function(){Object(A.b)(A.a.Action.ACTION_ZIP_CODE_POPUP,A.a.Event.EVENT_PAGE_VIEW,window.location.origin,window.location.pathname)}},{key:"render",value:function(){var e=this;return v.a.createElement(d.a,{open:this.props.dailogOpen,onClose:function(){return e.dailogClose()},maxWidth:!1,scroll:"body",classes:{paper:"modal-container modal-zip modal-paper",root:"modal-stack-top"},"aria-labelledby":"zipCode-dialogBox"},v.a.createElement(m.a,null,v.a.createElement("div",{className:"zipcode-div"},v.a.createElement(f.c,{validateOnBlur:!1,enableReinitialize:!0,initialValues:{zipcode:""},onSubmit:function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.actionZipcodeVerification(a).then((function(){var t=e.props.zipResponse;t&&(!0===t.data.success&&200===t.status?e.redirect(a.zipcode,t.data):t.data.message?e.setState({errorMessage:t.data.message}):(e.props.history.push("/invalidzip"),e.props.onClose()))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:y.object().shape({zipcode:y.string().required("Zip Code Required").min(5,"Zip Code must be 5 digits").max(5,"Zip Code must be 5 digits")})},(function(t){var a=t.values,n=(t.touched,t.errors,t.handleBlur),i=t.setFieldValue,s=t.handleSubmit,r=t.setFieldError;return v.a.createElement("form",{onSubmit:s,className:"custom-form",id:"zipForm"},v.a.createElement("div",{className:"zip-info"},v.a.createElement("h2",{"aria-label":"Where will you be shipping these snacks?",className:"info0",id:"zipCode-dialogBox"},"Where will you be shipping these snacks?"),v.a.createElement("div",{className:"info1"},"Your \u2018ship-to\u2019 zip code lets us show you which snacks are available in your area!")),v.a.createElement(u.a,{fullWidth:!0,className:"form-group zip-input",variant:"outlined"},v.a.createElement(p.a,{className:"form-label",htmlFor:"zipcode"},"enter zip",v.a.createElement("span",{className:"text-danger"},"*")),v.a.createElement(g.a,{value:a.zipcode,name:"zipcode",id:"zipcode",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.handleChange(t,i,r)},onBlur:n,autoFocus:!0}),e.state.errorMessage?v.a.createElement("div",{className:"text-danger font-14 mt-10",role:"alert"},e.state.errorMessage):v.a.createElement(f.a,{role:"alert",component:"div",name:"zipcode",className:"text-danger font-14 mt-10"})),v.a.createElement("div",{className:"submit-div"},v.a.createElement(h.a,{type:"submit",variant:"contained",id:"VerifyZip",onClick:function(){Object(A.b)(A.a.Action.ACTION_ADD_ZIPCODE,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.setState({errorMessage:""})},className:"btn-mui btn-red verify-button"},"let\u2019s get shopping")),null===localStorage.getItem("token")&&v.a.createElement("div",{className:"signin-text"},"Have an Account?",v.a.createElement(h.a,{type:"button",variant:"contained",id:"signin",className:"btn-link",onClick:function(t){return e.makeLogin(t)}},"Sign In")))})),null===localStorage.getItem("token")&&v.a.createElement("div",{className:"has-account"},v.a.createElement("div",{className:"separator"},"or"),v.a.createElement("div",{className:"desc"},"Don't have an account?",v.a.createElement(h.a,{color:"primary",className:"btn-link",id:"SignIn","aria-label":"Create account",onClick:function(){e.dailogClose(),"/create-account"!==window.location.pathname&&e.props.history.push("/create-account")}},"Create an account")))),v.a.createElement(h.a,{className:"icn-close",id:"zipcodeClose","aria-label":"zipcode Dialog Close",onClick:function(){e.dailogClose()}},v.a.createElement("i",{className:"fa fa-times"}))))}}]),a}(b.Component);t.a=Object(E.o)(Object(S.b)((function(e){return{zipResponse:e.reducer.zipResponse,validationMessage:e.reducer.validationMessage}}),{actionZipcodeVerification:C.k})(N))},19:function(e,t,a){"use strict";var n=a(9),i=a(10),s=a(109),r=a.n(s),o=a(6),l=localStorage.getItem("accessToken")?JSON.parse(localStorage.getItem("accessToken")).accessToken:"",c=function(){function e(){Object(n.a)(this,e)}return Object(i.a)(e,[{key:"checAPIData",value:function(){if(sessionStorage.getItem("_ss_i")&&sessionStorage.getItem("_rr_n_dts")&&sessionStorage.getItem("_en_cs"))return!0;window.location.hash="#404"}},{key:"externalAPI",value:function(e,t){var a=this;if(this.checAPIData()){var n={Accept:"application/json","Content-Type":"application/json"};return t&&(n.sessionId=sessionStorage.getItem("_ss_i"),n.rnduts=sessionStorage.getItem("_rr_n_dts"),n.encstr=sessionStorage.getItem("_en_cs")),r()({method:"get",url:e,headers:n}).then((function(e){return e})).catch((function(e){if("Forbidden"!==e.response.statusText)return e.response?e.response:{status:"404"};a.locationReload()}))}}},{key:"getMethod",value:function(e,t){var a=this;if(this.checAPIData()){var n={Accept:"application/json","Content-Type":"application/json"};return t&&(n.sessionId=sessionStorage.getItem("_ss_i"),n.rnduts=sessionStorage.getItem("_rr_n_dts"),n.encstr=sessionStorage.getItem("_en_cs"),n["X-Auth-Token"]=l),r()({method:"get",url:e,headers:n}).then((function(e){return e})).catch((function(e){if(e.response&&"Forbidden"===e.response.statusText)a.locationReload();else{if(!e.response)return{status:"404"};if("Invalid token."!==e.response.data)return e.response;a.inValidToken()}}))}}},{key:"inValidToken",value:function(){sessionStorage.removeItem("accessToken"),sessionStorage.removeItem("usertype"),window.location.href=o.a.SiteUrl+"login",window.location.reload()}},{key:"postAPIKeyMethod",value:function(e,t,a){var n=this;return r()({method:"post",url:e,headers:{Accept:"application/json","Content-Type":"application/json"},data:t}).then((function(e){return e})).catch((function(e){return e.response?"Invalid token."!==e.response.data?e.response:void n.inValidToken():{status:"404"}}))}},{key:"postMethod",value:function(e,t,a){var n=this;if(this.checAPIData()){var i={Accept:"application/json","Content-Type":"application/json"};return a&&(i.sessionId=sessionStorage.getItem("_ss_i"),i.rnduts=sessionStorage.getItem("_rr_n_dts"),i.encstr=sessionStorage.getItem("_en_cs"),i["X-Auth-Token"]=l),r()({method:"post",url:e,headers:i,data:t}).then((function(e){return e})).catch((function(e){if("Forbidden"===e.response.statusText)n.locationReload();else{if(!e.response)return{status:"404"};if("Invalid token."!==e.response.data)return e.response;n.inValidToken()}}))}}},{key:"locationReload",value:function(){sessionStorage.removeItem("_ss_i"),sessionStorage.removeItem("_rr_n_dts"),sessionStorage.removeItem("_en_cs"),window.location.reload()}},{key:"putMethod",value:function(e,t,a){var n=this;if(this.checAPIData()){var i={Accept:"application/json","Content-Type":"application/json","x-api-key":o.a.PimAPIKey};return a&&(i.sessionId=sessionStorage.getItem("_ss_i"),i.rnduts=sessionStorage.getItem("_rr_n_dts"),i.encstr=sessionStorage.getItem("_en_cs"),i["X-Auth-Token"]=l),r()({method:"PUT",url:e,headers:i,data:t}).then((function(e){return e})).catch((function(e){if("Forbidden"===e.response.statusText)n.locationReload();else{if(!e.response)return{status:"404"};if("Invalid token."!==e.response.data)return e.response;n.inValidToken()}}))}}},{key:"deleteMethod",value:function(e,t,a){var n=this;if(this.checAPIData()){var i={Accept:"application/json","Content-Type":"application/json"};return t&&(i.sessionId=sessionStorage.getItem("_ss_i"),i.rnduts=sessionStorage.getItem("_rr_n_dts"),i.encstr=sessionStorage.getItem("_en_cs"),i["X-Auth-Token"]=l),r()({method:"DELETE",url:e,data:a||null,headers:i}).then((function(e){return e})).catch((function(e){if("Forbidden"===e.response.statusText)n.locationReload();else{if(!e.response)return{status:"404"};if("Invalid token."!==e.response.data)return e.response;n.inValidToken()}}))}}},{key:"postFormDataMethod",value:function(e,t,a){var n=this;if(this.checAPIData()){var i={Accept:"application/json","Content-Type":"multipart/form-data"};if(a){sessionStorage.getItem("token");i.sessionId=sessionStorage.getItem("_ss_i"),i.rnduts=sessionStorage.getItem("_rr_n_dts"),i.encstr=sessionStorage.getItem("_en_cs")}return r()({method:"post",url:e,headers:i,data:t}).then((function(e){return e})).catch((function(e){if("Forbidden"===e.response.statusText)n.locationReload();else{if(!e.response)return{status:"404"};if("Invalid token."!==e.response.data)return e.response;n.inValidToken()}}))}}}]),e}();t.a=new c},20:function(e,t,a){"use strict";a.d(t,"l",(function(){return l})),a.d(t,"m",(function(){return c})),a.d(t,"k",(function(){return d})),a.d(t,"j",(function(){return m})),a.d(t,"f",(function(){return u})),a.d(t,"i",(function(){return p})),a.d(t,"c",(function(){return g})),a.d(t,"e",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"h",(function(){return b})),a.d(t,"g",(function(){return v})),a.d(t,"b",(function(){return S})),a.d(t,"a",(function(){return E})),a.d(t,"n",(function(){return y}));var n=a(17),i=a(22),s=a(19),r=a(6),o=a(108);function l(e){if(e&&e.limit>0){var t=r.a.ProductsUrl;return function(a){return s.a.postMethod(t,e,!0).then((function(e){var t=e.data?e.data:"";return 200===e.status?a({type:i.n,Products:t,totalProduct:t.totalProducts}):a({type:i.n,Products:[],totalProduct:0}),t}))}}}function c(e){var t=r.a.ProductDetailUrl;return function(a){return s.a.postMethod(t,e,!0).then((function(e){var t=e.data.data;return t=[].concat(t),200===e.status?a({type:i.m,Products:t}):a({type:i.m,Products:[]}),t}))}}function d(e){var t={zipcode:e.zipcode},a=r.a.ZipValidation;return function(e){return s.a.postMethod(a,t,!0).then((function(t){200===t.status?e({type:i.p,zipResponse:t}):e({type:i.p,zipResponse:""})}))}}function m(){var e=r.a.LabelsList;return function(t){return s.a.postMethod(e,"",!0).then((function(e){200===e.status?t({type:i.g,labelList:e.data.data}):t({type:i.g,labelList:""})}))}}function u(e,t,a){var o={guestCheckout:t,customer:{customerfirstname:e.firstname,customerlastname:e.lastname,customeremail:e.email,customercompany:"",customerstreet:"",customercountry:"",customerstate:"",customercity:"",customerzip:e.shippingZipCode,customerPhone1:e.contact}};if(null!==localStorage.getItem("accountId")){var l=Object(n.a)(Object(n.a)({},o.customer),{},{id:a?localStorage.getItem("accountId"):localStorage.getItem("contactId"),accountId:localStorage.getItem("accountId")});if(o=Object(n.a)(Object(n.a)({},o),{},{customer:l}),a){var c=Object(n.a)(Object(n.a)({},o),{},{shipping:{shippingFirstname:e.shippingFirstname.trim(),shippingLastname:e.shippingLastname.trim(),shippingAddressline1:e.shippingAddressLine1,shippingAddressline2:e.shippingAddressLine2,shippingCountry:e.shippingCountry,shippingState:e.shippingState,shippingCity:e.shippingCity,shippingZip:e.shippingZipCode}}),d=Object(n.a)(Object(n.a)({},c),{},{billing:{billingFirstname:e.billingFirstname.trim(),billingLastname:e.billingLastname.trim(),billingAddressline1:e.billingAddressLine1,billingAddressline2:e.billingAddressLine2,billingCountry:e.billingCountry,billingState:e.billingState,billingCity:e.billingCity,billingZip:e.billingZipCode}});o=Object(n.a)({},d)}}return function(e){var t=r.a.CreateAddress;if(null!==localStorage.getItem("accountId")){if(a)return s.a.putMethod(t,o,!0).then((function(t){200===t.status?e({type:i.c,createCustomer:t.data}):e({type:i.c,createCustomer:""})}));var n=r.a.updateAccount;return s.a.postMethod(n,o,!0).then((function(t){200===t.status?e({type:i.c,createCustomer:t.data}):e({type:i.c,createCustomer:""})}))}var l=r.a.CreateCustomer;return s.a.postMethod(l,o,!0).then((function(t){200===t.status?e({type:i.c,createCustomer:t.data}):e({type:i.c,createCustomer:""})}))}}function p(){var e=r.a.MinAmount;return function(t){return s.a.getMethod(e,!0,!1).then((function(e){if(200===e.status){var a=e.data.data;0===o.a.oidc.logoutUrl.length&&(o.a.oidc=Object(n.a)(Object(n.a)({},o.a.oidc),{},{logoutUrl:a.oktaLogoutUrl,revokeTokenUrl:a.oktaRevokeAccessUrl})),t({type:i.j,minAmount:e.data.data})}else t({type:i.j,minAmount:{}})}))}}function g(e){var t=r.a.ProductInventory;return function(a){return s.a.postMethod(t,e,!0).then((function(e){200===e.status?a({type:i.o,productInventory:e.data.data}):a({type:i.o,productInventory:{}})}))}}function h(e){var t=r.a.contentList;return function(a){return s.a.postMethod(t,e,!0).then((function(e){200===e.status?a({type:i.b,privacyPolicy:e.data}):a({type:i.b,privacyPolicy:{}})}))}}function f(e){var t=r.a.contactus;return function(a){return s.a.postMethod(t,e,!0).then((function(e){200===e.status?a({type:i.a,contactResponse:e}):a({type:i.a,contactResponse:{}})}))}}function b(){var e=r.a.GetCustomer;return function(t){if(localStorage.getItem("accessToken"))return s.a.getMethod(e,!0,!0).then((function(e){var a=e.data;return a&&a.message&&"Expired token"===a.message?(localStorage.removeItem("token"),localStorage.removeItem("accessToken"),localStorage.removeItem("idToken"),localStorage.removeItem("user"),t({type:i.i})):200===e.status&&a.success?t({type:i.e,customerDetails:e.data&&e.data.data?e.data.data:e.data}):t({type:i.e,customerDetails:null}),""}));localStorage.removeItem("token"),localStorage.removeItem("idToken"),localStorage.removeItem("user"),t({type:i.i})}}function v(e){var t=r.a.CreateProfile;return function(a){return s.a.postMethod(t,e,!0).then((function(e){var t=e.data;return 200===e.status&&t.success,a({type:i.d,createcustomerDetails:e.data}),""}))}}function S(e){return function(t){null!==e&&"SUCCESS"===e.status&&t({type:i.h,loginResponse:e})}}function E(){return function(e){e({type:i.i})}}function y(e){var t=r.a.OrderHistory,a=localStorage.getItem("accessToken"),n={loggedinUserJwt:JSON.parse(a).accessToken||"",filterBy:e};return function(e){return s.a.postMethod(t,n,!0).then((function(t){200===t.status?e({type:i.k,orderHistory:t.data.data}):e({type:i.k,orderHistory:{message:"Some Error Occured"}})}))}}},22:function(e,t,a){"use strict";a.d(t,"m",(function(){return n})),a.d(t,"l",(function(){return i})),a.d(t,"n",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"p",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"j",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"o",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"h",(function(){return g})),a.d(t,"i",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"k",(function(){return b})),a.d(t,"d",(function(){return v}));var n="PRODUCTDETAILS",i="PRODUCTDESCRIPTION",s="PRODUCTS",r="FILTERVALUES",o="ZIPCODE",l="LABEL_LIST",c="CREATECUSTOMER",d="MIN_AMOUNT",m="CONTENT_PRIVACY_POLICY",u="PRODUCT_AVAILABILITY",p="CONTACTUS",g="LOGIN",h="LOGOUT",f="CUSTOMERDETAILS",b="ORDERHISTORY",v="CREATECUSTOMERDETAILS"},257:function(e,t,a){"use strict";var n=a(9),i=a(10),s=a(12),r=a(11),o=a(0),l=a.n(o),c=a(63),d=a(52),m=a(25),u=a(67),p=a.n(u),g=a(3),h=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).goToHome=function(){i.props.history.push("/home")},i.state={orderId:"",orderNumber:"",OrderData:[]},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if(sessionStorage.getItem("_sc_re")){var e=new p.a("cartitem");document.dispatchEvent(e),this.setState({OrderData:sessionStorage.getItem("_sc_re")?JSON.parse(sessionStorage.getItem("_sc_re")):[]})}}},{key:"render",value:function(){var e=this;sessionStorage.removeItem("taxZipCode");var t=this.state.OrderData;return l.a.createElement("div",{className:"wizard-step thankyou-wizard"},l.a.createElement(c.a,{variant:"h1",className:"heading-hidden","aria-hidden":"true"},"Thank You"),l.a.createElement("div",{className:"step-header thank-you"},l.a.createElement("div",{className:"step-header-type"})),!0===JSON.parse(sessionStorage.getItem("newUserCheckout"))?l.a.createElement("div",{className:"activation-info"},l.a.createElement("div",{className:"activation-info-inner"},l.a.createElement(c.a,{variant:"h2"},"Thank you for registering! An email with a link and directions for how to setup your password and become a registered member has been sent."))):"",l.a.createElement("div",{className:"thankyou-container"},l.a.createElement("div",{className:"thankyou"},l.a.createElement("div",{className:"thankyou-header"},l.a.createElement(c.a,{variant:"h2"},"Thank you for your order! (#",t.orderId,")")),l.a.createElement("div",{className:"thankyou-content"},l.a.createElement("div",{className:"thankyou-image"}),l.a.createElement("div",{className:"thankyou-line1 text-center"},"Order Number: #",t.orderId,", ",l.a.createElement("span",null,"You will receive your order in 2-3 business days.")),l.a.createElement("div",{className:"thankyou-line1"},"A confirmation email and receipt has been sent to the email provided. Thank you for shopping with Frito Lay!"),l.a.createElement("div",{className:"thankyou-line2"},"If you have any questions or need to get a hold of customer support, please contact ",l.a.createElement(m.Link,{to:"/contactus","aria-label":"contact us"},"here"),", or email customersupport@fritolay.com"),l.a.createElement("div",{className:"thankyou-note"},"Note: We are currently experiencing shipping delays due to COVID-19. All orders are processed in the order that they are received, and we are doing our best to ship all orders on time. Thank you for your patience.")))),l.a.createElement("div",{className:"thankyou-action"},l.a.createElement(d.a,{className:"btn-mui btn-yellow",id:"goToHome","aria-label":"go To Home",onClick:function(){Object(g.b)(g.a.Action.ACTION_THANK_YOU,g.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.goToHome()}},"Done")))}}]),a}(o.Component);t.a=h},259:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(9),i=a(10),s=a(12),r=a(11),o=a(0),l=a.n(o),c=a(504),d=a(526),m=a(31),u=a(180),p=a(52),g=a(1105),h=a(527),f=a(506),b=a.n(f),v=a(505),S=a.n(v),E=a(507),y=a.n(E),C=a(169),A=(a(965),a(173)),N=a.n(A),I=a(249),O=a.n(I),w=a(65),k=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={colors:[],selectedProductId:"",isFavourite:!1,showSizeList:!1},e.onImageClick=function(){var t=e.props;(0,t.detailedInfo)(t.productInfo,t.index)},e.selectedProduct=function(t){e.setState({selectedProductId:t.productId})},e.getQuantitySection=function(){var t=e.props,a=t.warningMsgFunc,n=t.productInfo,i=t.selectedItems;return n.map((function(e,t){return l.a.createElement(C.a,{primaryProduct:n[0],productInfo:e,key:t,warningMsgFunc:a,selectedItems:i,sizeName:e.size,price:e.price})}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.productKey,n=t.productInfo,i=this.state,s=i.showSizeList,r=i.selectedProductId,o=n[0],f=o.productId,v=o.brand,E=o.productDescription,C=o.shortDescription,A=o.image,I=o.availableQty,k=E?E.replace(/(<([^>]+)>)/gi,"").replace("&nbsp;"," "):C.replace(/(<([^>]+)>)/gi,"").replace("&nbsp;"," "),L=r&&r===f;return l.a.createElement(O.a,{key:a,src:A,crossOrigin:"*",format:"hex"},(function(t){var a=t.data,i=(t.loading,a?Object(w.a)(a):"#000000");return l.a.createElement(d.a,{className:"product-box-bundle-card bundle-card ".concat(L?"active":""),key:f,style:{backgroundImage:L?"linear-gradient(to bottom, ".concat(i," ,").concat(a,")"):"transparent"}},l.a.createElement(m.a,{container:!0,spacing:0,justify:"space-between",className:"product-options"},l.a.createElement(m.a,{item:!0},l.a.createElement(u.a,{className:"star",id:"toggleFavourite","aria-label":"add to favourite",onClick:function(){return e.setState({isFavourite:!e.state.isFavourite})}},e.state.isFavourite?l.a.createElement(b.a,null):l.a.createElement(S.a,null))),l.a.createElement(m.a,{item:!0},l.a.createElement(u.a,{className:"more-vert",id:"moreOption","aria-label":"product options"},l.a.createElement(y.a,null)))),l.a.createElement(p.a,{id:"productDetailDialog-".concat(f),name:"productDetailDialog-".concat(f),"aria-label":"click to open product detail dialog",className:"media-card-wrapper",onClick:e.onImageClick},l.a.createElement(g.a,{component:"img",alt:k,image:"string"===typeof A?A:"../images/product-placeholder.png"})),l.a.createElement("div",{className:"shadow"}),!L&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"product-brand"},v),l.a.createElement(h.a,{placement:"top",title:k},l.a.createElement("div",{className:"product-heading"},l.a.createElement(c.a,{lines:2,ellipsis:"..."},k))),l.a.createElement("div",{className:"product-brand"},"".concat(n.length," sizes available"))),L&&I>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"product-brand"},"select sizes (".concat(n.length," available)")),l.a.createElement("div",{className:"quantity-box ".concat(s?"show":"")},e.getQuantitySection()),n.length>2&&!s&&l.a.createElement(N.a,{"aria-label":"more sizes",fontSize:"large",className:"sizes-arrow-down",onClick:function(){return e.setState({showSizeList:!0})}})),L&&I<=0&&l.a.createElement("div",{className:"out-of-stock"},"Out of stock"),!L&&l.a.createElement("div",{className:"product-action"},l.a.createElement(p.a,{onClick:function(){return e.selectedProduct(n[0])},className:"selected-product"},"select")))}))}}]),a}(o.Component)},260:function(e,t,a){"use strict";var n=a(46),i=a(15),s=a(17),r=a(9),o=a(10),l=a(12),c=a(11),d=a(31),m=a(52),u=a(526),p=a(1169),g=a(63),h=a(1170),f=a(1104),b=a(523),v=a(525),S=a(0),E=a.n(S),y=a(258),C=a(23),A=a(20),N=a(6),I=a(1114),O=a(1099),w=a(501),k=a.n(w),L=a(502),T=a.n(L),D=a(173),x=a.n(D),P=a(503),_=a.n(P),M=a(19),F=(a(964),function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={isFilterLoading:!0,filterList:[],toggleFilterList:!1,isSelected:[]},e.checkExistingFilters=function(){var t=sessionStorage.getItem("selectedCategory")?JSON.parse(sessionStorage.getItem("selectedCategory")):[],a=[];t.length>0&&t.map((function(e){var t=e.subCategoryIdList;t&&(a=Object(n.a)(new Set([].concat(Object(n.a)(a),Object(n.a)(t)))))})),e.setState({isSelected:a})},e.getFilterList=function(){var t={locationNumber:sessionStorage.getItem("_lo_No")||null};M.a.postMethod(N.a.FilterProducts,t,!0).then((function(t){return e.setState({isFilterLoading:!1,filterList:t.data.data})})).catch((function(e){console.error("Search Filter Api",e)}))},e.selectFilter=function(t,a){var i=e.props.selectedFilter,s=e.state.isSelected,r=s.indexOf(t);-1===r?e.setState({isSelected:Object(n.a)(new Set([].concat(Object(n.a)(e.state.isSelected),[t])))}):r>-1&&(s.splice(r,1),e.setState({isSelected:s})),i(t,a)},e.removeFilter=function(t){var a=e.props.removedFilter,n=e.state.isSelected,i=n.indexOf(t);i>-1&&(n.splice(i,1),e.setState({isSelected:n})),console.log("remove",n,t),a(t)},e.renderFilters=function(t,a,n){var i=e.state.isSelected;return E.a.createElement("div",{className:"filters ".concat(a),key:n},E.a.createElement("h4",{className:"filter-heading"},a),E.a.createElement("ul",{className:"filter-list"},t.map((function(t,n){return E.a.createElement("li",{className:"".concat(i.includes(t)?"selected":""),key:"".concat(t,"-").concat(n)},E.a.createElement(m.a,{onClick:function(){return i.includes(t)?e.removeFilter(t):e.selectFilter(t,a)},"aria-label":"".concat(t)},t))}))))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getFilterList(),this.checkExistingFilters()}},{key:"render",value:function(){var e=this,t=this.props.filterMainHeading,a=this.state,n=a.filterList,i=a.toggleFilterList,s=a.isSelected,r=Object.keys(n),o=Object.values(n);return E.a.createElement("div",{className:"search-filter"},E.a.createElement(f.a,{className:"container-root"},t&&E.a.createElement(d.a,{item:!0,xs:12},E.a.createElement(g.a,{variant:"h1",className:"page-heading","aria-label":t},t)),E.a.createElement(d.a,{item:!0,container:!0,spacing:3,className:"product-filter-group"},E.a.createElement(d.a,{item:!0,xs:12,lg:4,sm:4},E.a.createElement(I.a,{className:"search-bar",autoFocus:!0,fullWidth:!0,onChange:function(){return console.log("onChange")},placeholder:"search",type:"search",InputProps:{startAdornment:E.a.createElement(O.a,{position:"start"},E.a.createElement(k.a,null))}})),E.a.createElement(d.a,{item:!0,xs:12,lg:1,sm:2,className:"filter"},E.a.createElement(m.a,{id:"filters",className:"filter-dropdown","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return e.setState({toggleFilterList:!e.state.toggleFilterList})},"aria-label":"click here to open filter dropdown"},"filters ",!i&&E.a.createElement(x.a,null),i&&E.a.createElement(T.a,null))),E.a.createElement(d.a,{item:!0,xs:12,lg:7,sm:6,className:"selected-filters"},s.map((function(t){return E.a.createElement(m.a,{key:t,"aria-label":"".concat(t)},t,E.a.createElement(_.a,{tabIndex:0,onClick:function(){return e.removeFilter(t)},style:{fontSize:16}}))})),s&&s.length>1&&E.a.createElement(m.a,{className:"filter-clear-all","aria-label":"Clear all selected filters",onClick:function(){return e.setState({isSelected:[],toggleFilterList:!1})}},"Clear All"))),i&&E.a.createElement(d.a,{container:!0,spacing:3},r.map((function(t,a){return e.renderFilters(o[a],t,"".concat(t,"-").concat(a))})))))}}]),a}(S.Component)),j=a(166),B=a(30),V=a(67),R=a.n(V),Z=a(1095),q=a(259),z=a(87),U=a(128),H=a(3),W=a(77),J=(a(966),function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var o;return Object(r.a)(this,a),(o=t.call(this,e)).getFilteredData=function(){var e=sessionStorage.getItem("selectedCategory")?JSON.parse(sessionStorage.getItem("selectedCategory")):[],t={limit:o.state.limit,locationNumber:sessionStorage.getItem("_lo_No")};e.map((function(e){var a=e.categoryId,n=e.subCategoryIdList;t=Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},a,n))})),e&&e.length>0?o.setState({filterData:t},(function(){return o.getProductList(o.state.filterData,!0)})):o.getProductList(o.state.filterData,!0)},o.renderSelectedProductsCard=function(){var e=o.state.minOrder,t=[],a=o.state.selectedItems,i=null!==JSON.parse(sessionStorage.getItem("cartItems"))&&JSON.parse(sessionStorage.getItem("cartItems")).length>0?Object(n.a)(JSON.parse(sessionStorage.getItem("cartItems"))):[],s=0;for(var r in 0!==Object.keys(a).length&&Object.keys(a).map((function(e){return s+=a[e].price*a[e].quantity,!0})),a)t.unshift(E.a.createElement(d.a,{container:!0,spacing:1,key:"selected-prod-"+r},E.a.createElement(d.a,{item:!0,xs:12,sm:!0,container:!0},E.a.createElement("span",{className:"mix-count-product-text"},a[0].productDescription?a[0].productDescription:a[0].shortDescription.replace(/(<([^>]+)>)/gi,"").replace("&nbsp;"," "))),E.a.createElement(d.a,{item:!0},E.a.createElement("span",{className:"mix-count-product-text quantity"},a[r].quantity))));return E.a.createElement(E.a.Fragment,null,s>0?E.a.createElement(m.a,{variant:"contained",color:"primary",fullWidth:!0,className:"btn-mui btn-yellow cart-total-header",id:"CartTotalHeader","aria-label":"Cart Total Header",disabled:!(s>=e),onClick:function(){o.addItemsToCart()}},E.a.createElement("span",{className:"currency"},o.state.currency),E.a.createElement("span",null,s.toFixed(2))):"",E.a.createElement(u.a,{id:"mixCount",className:s>=e?"mix-count active":"mix-count"},E.a.createElement("div",{className:"mix-count-wrapper"},E.a.createElement(p.a,{className:"mix-count-content"},E.a.createElement("div",{className:"mix-count-title",onClick:function(){o.openSelectedItems()}},E.a.createElement(g.a,{variant:"h3",className:"text-center"},"Your Order")),E.a.createElement("div",{className:"mix-count-content-inner ".concat(o.state.selectedItemsOpen?"open":"")},t),E.a.createElement("div",{className:"mix-count-total"},E.a.createElement("div",{className:"mix-count-total-text text-center"},"Total:"),E.a.createElement("div",{className:"mix-count-total-price text-center"},E.a.createElement("span",{className:"currency"},o.state.currency),E.a.createElement("span",null,s.toFixed(2)))),E.a.createElement("div",{className:"mix-count-minimum"},E.a.createElement("p",{className:"text-center",onClick:function(){o.openSelectedItems()}},o.state.minOrder?o.state.currency+o.state.minOrder:"0"," ","Minimum Order Requirement")))),E.a.createElement(h.a,{className:"mix-count-action"},E.a.createElement("a",{className:"btn-mui btn-yellow",id:"viewCart",tabIndex:0,"aria-label":"view Cart",disabled:!(s>=e),onClick:function(){o.addItemsToCart()}},"View Cart",s>0?E.a.createElement("i",{className:"total-inline"},o.state.currency,s.toFixed(2)):E.a.createElement("i",{className:"total-inline"},"$0.00")),E.a.createElement("a",{disabled:!(i&&i.length>0),className:"btn-mui btn-red",onClick:function(){return o.clearCartConfirmation()},tabIndex:0,id:"clearCart","aria-label":"Clear Cart"},"Clear Cart"))))},o.productDetail=function(e,t){o.setState({showProductDetail:!0,productInfo:e,productDetailIndex:t})},o.warningMsgFunc=function(e,t){o.setState({msg:e.replace(/##QTY##/g,(function(){return parseInt(t)}),document.getElementById("body").classList.add("has-toast"))},(function(){return setTimeout((function(){o.setState({msg:null}),document.getElementById("body").classList.remove("has-toast")}),3e3)}))},o.selectedCartItems=function(e){o.setState({selectedItems:e})},o.closeAndUpdate=function(e){o.setState({showProductDetail:!1}),o.selectedCartItems(e)},o.selectedFilter=function(e,t){var a=[];a=o.state.filterData[t]?[].concat(Object(n.a)(o.state.filterData[t]),[e]):[e],o.setState({filterData:Object(s.a)(Object(s.a)({},o.state.filterData),{},Object(i.a)({},t,a))},(function(){return o.manageProducts(o.state.filterData,!0)}))},o.removedFilter=function(e){var t=[],a=Object.keys(o.state.filterData).find((function(t){if("object"===typeof o.state.filterData[t])return o.state.filterData[t].includes(e)})),n=o.state.filterData[a],r=n.findIndex((function(t){return t===e}));n&&(t=n.filter((function(e){return n[r]!==e}))),o.setState({filterData:Object(s.a)(Object(s.a)({},o.state.filterData),{},Object(i.a)({},a,t))},(function(){return o.manageProducts(o.state.filterData,!0)}))},o.state={counter:0,totalQty:0,products:void 0,showSearchBar:!1,offset:0,page:0,DialougeBoxOpen:!1,selectedItems:[],selectedItemsOpen:!1,showProductDetail:!1,minOrder:"",currency:"",limit:N.a.productsLimit,isfilter:!1,Spinner:!1,msg:null,productScroll:!1,isProduct:!0,productInventory:[],totalProducts:null,productDetailIndex:"",filterData:{},productInfo:[]},o}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.actionGetMinAmount(),this.getFilteredData()}},{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.setState({showSearchBar:!1}),setTimeout((function(){var e=document.getElementById("productGridContainer");if(e&&document.getElementById("mixCount")){window.onscroll=function(){!function(){if(window.pageYOffset>280){var a=window.pageYOffset-280;e.clientHeight-a>470&&(t.style.cssText="top: ".concat(a,"px"))}else t.style.cssText=""}()};var t=document.getElementById("mixCount")}}),1e3)}},{key:"handleOnDocumentBottom",value:function(){var e=this;if(this.state.isscroll){var t=this.state.offset+1;this.setState({offset:t,isscroll:!1,productScroll:!0},(function(){e.getProductList(e.state.filterData,!1)}))}}},{key:"getProductList",value:function(e,t){var a=this,n=e||{};n.offset=this.state.offset*this.state.limit,n.limit=this.state.limit,n.locationNumber=sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null;var i=this.state.products?this.state.products:[];!this.state.isProduct||0!=this.state.totalProducts&&i.length==this.state.totalProducts?this.setState({productScroll:!1}):(this.state.productScroll||this.setState({Spinner:!0}),setTimeout((function(){a.manageProducts(n,t)}),1e3))}},{key:"manageProducts",value:function(e,t){var a=this,i=null!==JSON.parse(sessionStorage.getItem("cartItems"))&&JSON.parse(sessionStorage.getItem("cartItems")).length>0?Object(n.a)(JSON.parse(sessionStorage.getItem("cartItems"))):[],s=this.state.products&&this.state.products.length>0?this.state.products:[];this.props.actiongetProduct(e).then((function(e){var n=e.Groups||[];n.length>0?(n.map((function(e){var t=i.find((function(t){return t.id===e.id}));return e.quantity=t?t.quantity:0,s.push(e),!0})),a.setState({isscroll:!0,Spinner:!1,productScroll:!1,products:s,totalProducts:e.totalProducts||0,currency:n.length>0?n[0].currency||"$":"",showSearchBar:!0,selectedItems:t?i:a.state.selectedItems})):a.setState({isscroll:!0,isProduct:!1,Spinner:!1,productScroll:!1,products:[],totalProducts:0,currency:"",showSearchBar:!0,selectedItems:t?i:a.state.selectedItems})})).catch((function(e){a.setState({Spinner:!1,productScroll:!1,DialougeBoxOpen:!0})}))}},{key:"actionGetMinAmount",value:function(){var e=this,t=this.props.minPrice;void 0===sessionStorage.getItem("minimumOrderAmount")||null===sessionStorage.getItem("minimumOrderAmount")?this.props.actionGetMinAmount("","","","").then((function(){e.setState({minOrder:t?t.minimumOrderAmount:""}),t&&Object.keys(t).length>0&&(sessionStorage.setItem("minimumOrderAmount",t.minimumOrderAmount||null),sessionStorage.setItem("shippingCharges",t.shippingCharges||null))})):this.setState({minOrder:sessionStorage.getItem("minimumOrderAmount")||""})}},{key:"updateCartData",value:function(){var e=this.state.selectedItems;sessionStorage.setItem("cartItems",JSON.stringify(e));var t=new R.a("cartitem");document.dispatchEvent(t)}},{key:"updateCounter",value:function(){var e=0,t=this.state.selectedItems;for(var a in t)e=t[a]?e+t[a].quantity:e;this.setState({counter:e})}},{key:"addItemsToCart",value:function(){null!==sessionStorage.getItem("cartItems")&&Object(H.b)(H.a.Action.ACTION_ADD_TO_CART,H.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{cart:JSON.parse(sessionStorage.getItem("cartItems"))}),this.props.moveToNextStep(0)}},{key:"removeToCart",value:function(){var e;Object(H.b)(H.a.Action.ACTION_CLEAR_CART,H.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname);var t=this.state.products&&this.state.products.length>0?this.state.products:[];t.length>0&&t.forEach((function(e){e.quantity=0})),sessionStorage.removeItem("cartItems"),sessionStorage.removeItem("total"),sessionStorage.removeItem("selectedOrder"),sessionStorage.removeItem("subtotal");var a=new R.a("cartitem");document.dispatchEvent(a),this.setState((e={},Object(i.a)(e,"cartconfirmation",null),Object(i.a)(e,"products",t),Object(i.a)(e,"selectedItems",[]),e))}},{key:"openSelectedItems",value:function(){this.setState({selectedItemsOpen:!this.state.selectedItemsOpen})}},{key:"clearCartConfirmation",value:function(){var e=this;this.setState(Object(i.a)({},"cartconfirmation",E.a.createElement(U.a,{dialogClose:function(){return e.setState(Object(i.a)({},"cartconfirmation",null))},dialogOpen:!0,dialogHeading:"Are you sure you would like to remove all items from the cart?",dialogWarning:!0,dialogCloseConfirm:function(){return e.removeToCart()},ariaLabelYes:"Yes I want to empty my cart",ariaLabelCancel:"No I don't want to empty my cart"})))}},{key:"render",value:function(){var e=this,t=this.state.products;return E.a.createElement("div",{className:"page-product-listing"},E.a.createElement(F,{filterMainHeading:W.a.PRODUCT_LIST_TITLE,selectedFilter:this.selectedFilter,removedFilter:this.removedFilter}),E.a.createElement(f.a,{className:"container-root"},E.a.createElement(y.a,{offset:"950",debounce:"200",onBottom:function(){return e.handleOnDocumentBottom()}}),this.state.Spinner?E.a.createElement(B.a,null):"",this.state.cartconfirmation,this.state.msg&&E.a.createElement(z.a,{fullWidth:!0,msg:this.state.msg}),E.a.createElement(d.a,{container:!0,spacing:3,id:"productGridContainer",className:"product-grid-container lists"},t&&t.length>0?t.map((function(t,a){return E.a.createElement(E.a.Fragment,{key:"product-".concat(t.productId,"-").concat(a)},t?E.a.createElement(d.a,{item:!0,key:t.id,xs:6,lg:3,sm:3},E.a.createElement(q.a,{productKey:"".concat(t.productId,"-").concat(a),productInfo:t,index:a,selectedItems:e.selectedCartItems,detailedInfo:e.productDetail,warningMsgFunc:e.warningMsgFunc})):E.a.createElement(d.a,{container:!0,justify:"center",className:"noproducts-grid"},E.a.createElement(d.a,{item:!0},E.a.createElement("h1",{className:"noproducts-text"},"No Products"))))})):E.a.createElement(d.a,{container:!0,justify:"center",className:"noproducts-grid"},E.a.createElement(d.a,{item:!0},void 0===this.state.products||this.state.Spinner?E.a.createElement(B.a,null):E.a.createElement("h1",{className:"noproducts-text"},"No Products"))),this.renderSelectedProductsCard()),this.state.productScroll&&E.a.createElement(d.a,{container:!0,spacing:0},E.a.createElement(d.a,{item:!0,xs:12,sm:!0,container:!0,justify:"center",className:"loader-inline"},E.a.createElement(Z.a,{disableShrink:!0}))),E.a.createElement(b.a,{open:this.state.DialougeBoxOpen,onClose:function(){e.setState({DialougeBoxOpen:!1})},"aria-labelledby":"responsive-dialog-title",maxWidth:!1,classes:{paper:"modal-container",root:"modal-stack-top"}},E.a.createElement(v.a,null,E.a.createElement("div",{style:{textAlign:"center"}},E.a.createElement("h2",null,"Something went Wrong"))),E.a.createElement(m.a,{id:"errorCatchList","aria-label":"error Catch List",onClick:function(){e.setState({DialougeBoxOpen:!1})}},"Close")),E.a.createElement(b.a,{open:this.state.showProductDetail,onClose:function(){e.setState({showProductDetail:!1})},maxWidth:!1,scroll:"body",classes:{paper:"modal-big modal-product-detail modal-paper",root:"modal-stack-top"}},E.a.createElement(v.a,null,E.a.createElement(m.a,{className:"icn-close",id:"productDetailClose","aria-label":"productDetail Close",onClick:function(){e.setState({showProductDetail:!1})}},E.a.createElement("i",{className:"fa fa-times"})),E.a.createElement(j.a,{productData:this.state.productInfo,items:this.state.selectedItems,warningMsgFunc:this.warningMsgFunc,selectedItems:this.selectedCartItems,closeAndUpdate:this.closeAndUpdate})))))}}]),a}(S.Component));t.a=Object(C.b)((function(e){return{products:e.reducer.Products||[],totalProduct:e.reducer.totalProduct,filterProducts:e.reducer.filterProducts,minPrice:e.reducer.minAmount,productInventory:e.reducer.productInventory}}),{actiongetProduct:A.l,actionCheckProductAvailability:A.c,actionGetMinAmount:A.i})(J)},3:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a(17),i=a(115),s=null,r={Action:{ACTION_CANCEL_CREATE_ACCOUNT:"cancel create account",ACTION_CREATE_ACCOUNT:"create account",ACTION_ADD_ZIPCODE:"add zip code",ACTION_UPDATE_ZIPCODE:"update zip code",ACTION_ADD_TO_CART:"add to cart",ACTION_PRIVACY_POLICY:"privacy policy",ACTION_TERMS:"terms & conditions",ACTION_GET_STARTED:"get started",ACTION_HEADER_ADD_TO_CART:"header add to cart",ACTION_HEADER_LOGIN:"login from header",ACTION_HEADER_LOGO:"header logo",ACTION_HEADER_CREATE_ACCOUNT:"header create account",ACTION_HEADER_HOME:"header home",ACTION_HEADER_PRODUCTS:"header products",ACTION_HEADER_LOGOUT:"header logout",ACTION_HEADER_PROFILE:"header profile",ACTION_FILTER_BRAND:"filter brand",ACTION_FILTER_SIZE:"filter size",ACTION_CLEAR_FILTER:"clear filter",ACTION_PRODUCT_DETAILS:"product details",ACTION_CLEAR_CART:"clear cart",ACTION_CART_ON_CHECKOUT:"cart on checkout",ACTION_KEEP_SHOPPING:"keep shopping",ACTION_LOGIN:"login",ACTION_FORGOT_PASSWORD:"forgot password",ACTION_ADD_SHIPPING_ADDRESS:"add shipping address",ACTION_ADD_BILLING_ADDRESS:"add billing address",ACTION_REMOVE_ADDRESS:"remove address",ACTION_UPDATE_CUSTOMER:"update customer",ACTION_UPDATE_SHIPPING_ADDRESS:"update shipping address",ACTION_UPDATE_BILLING_ADDRESS:"update billing address",ACTION_CHECKOUT:"checkout",ACTION_PAYMENT_SUCCESS:"payment success",ACTION_PAYMENT_FAILURE:"payment fail",ACTION_THANK_YOU:"thank you done",ACTION_TAB_PROFILE:"profile tab",ACTION_TAB_ORDER_HISTORY:"order history tab",ACTION_TAB_CHANGE_PASSWORD:"change password tab",ACTION_CHANGE_PASSWORD:"change passoword",ACTION_ORDER_HISTORY_FILTER:"order history filter",ACTION_LOGIN_POPUP:"login popup",ACTION_ZIP_CODE_POPUP:"zip code popup",ACTION_SHOW_EVERYTHING:"show everything",ACTION_SHOW_PREVIOUS_ORDERS:"show previous orders",ACTION_REPLACE_ORDER:"replace order in cart",ACTION_EDIT_CART:"edit cart",ACTION_CHECKOUT_LOGIN:"login from checkout",ACTION_PRODUCT_MAX_WARN:"max product qty warning",ACTION_PRODUCT_INCREASE_CART:"increase product qty",ACTION_PRODUCT_DECREASE_CART:"decrease product qty",ACTION_PRODUCT_DELETE_CART:"remove product from cart"},Event:{EVENT_BUTTON_PRESS:"Button Click",EVENT_CHECK_CHANGE:"Checkbox Change",EVENT_PAGE_VIEW:"View Screen",EVENT_PAYMENT_CALLBACK:"Payment Callback"}},o=function(e,t,a,r,o){null===s&&(s=Object(i.b)()),null!==s&&s.trackEvent({name:e},Object(n.a)(Object(n.a)({},o),{},{origin:a,screen:r.length>0?r.substring(1,r.length):r,action:t}))}},30:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(1095);t.a=function(){return i.a.createElement("div",{className:"loader-outer"},i.a.createElement("div",{className:"loader-inner"},i.a.createElement(s.a,null)))}},343:function(e,t,a){"use strict";(function(e){var n=a(9),i=a(10),s=a(12),r=a(11),o=a(15),l=a(63),c=a(31),d=a(1104),m=a(1115),u=a(1107),p=a(1112),g=a(8),h=a(52),f=a(1106),b=a(528),v=a(0),S=a.n(v),E=a(23),y=a(20),C=a(170),A=a(495),N=a(518),I=a(260),O=a(6),w=a(30),k=a(19),L=a(3),T=a(65),D=a(77),x=function(t){Object(s.a)(o,t);var a=Object(r.a)(o);function o(t){var i;return Object(n.a)(this,o),(i=a.call(this,t)).taxCalculation=function(e){return Number(8.5*e/100)},i.hideLoginModal=function(){i.setState({showLoginModal:!1})},i.minAmountValidation=function(e,t){var a=sessionStorage.getItem("total")?sessionStorage.getItem("total"):0,n=i.props.minPrice?i.props.minPrice.shippingCharges:sessionStorage.getItem("shippingCharges");i.setState({shippingCharges:n});var s=i.props.minPrice?i.props.minPrice.minimumOrderAmount:sessionStorage.getItem("minimumOrderAmount");parseFloat(a)>=parseFloat(s)||0==i.state.activeStep?(e&&i.setState({selectedCategory:e,isEdit:!1}),1===i.state.activeStep||t?O.a.isTaxFree?"2"==t||"1"==t?(i.checkZipCodeValidation(t),i.setState({errorMsg:null,spinner:!1,zipcodeValidData:null})):i.state.activeStep<=2&&(i.props.customerDetails?(i.setState({errorMsg:null,spinner:!1,activeStep:i.state.activeStep+1,zipcodeValidData:null,showLoginModal:!1}),i.props.history.push("/checkout")):(sessionStorage.setItem("prevUrl","/cart-preview"),Object(L.b)(L.a.Action.ACTION_CHECKOUT_LOGIN,L.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),i.setState({errorMsg:null,spinner:!1,zipcodeValidData:null,showLoginModal:!0}))):i.checkZipCodeValidation(t):(i.setState({errorMsg:null,spinner:!1}),i.state.activeStep<=2&&i.state.activeStep<=2&&(i.setState({activeStep:i.state.activeStep+1}),i.props.history.push("/cart")))):i.setState({activeStep:1,spinner:!1,errorMsg:"$"+parseFloat(i.state.minPrice).toFixed(2)+" Minimum Order Requirement."},(function(){document.getElementById("body").classList.add("has-toast"),i.props.history.push("/cart")}))},i.redirectToTarget=function(){i.props.history.push("/checkout")},i.moveToPrevStep=function(){2===i.state.activeStep?i.setState({activeStep:0}):i.setState({activeStep:i.state.activeStep-1})},i.isThanku=function(){i.setState({isThanku:"hide"})},i.editMix=function(e,t){i.setState({selectedCategory:e.category,cartItemForEdit:e,isEdit:!0,editIndex:t,activeStep:1},(function(){i.setState({activeStep:1})}))},i.state={activeTab:"productList",isPopup:0,zipcodeValidData:null,inventoryData:[],loader:!0,activeStep:0,message:"add to cart is empty",errorMsg:sessionStorage.getItem("errorMsg")?sessionStorage.getItem("errorMsg"):"",cartLength:0,total:0,isEdit:!1,editIndex:void 0,label:[],stepImage:[],dailogOpen:!1,isThanku:"",isbtnDisabled:!1,count:"",shippingCharges:"",totalPrice:0,minPrice:0,spinner:!1,showLoginModal:!1,userDetails:i.props.customerDetails},i.props.history.listen((function(e,t){var a=window.location.href.substr(window.location.href.lastIndexOf("/")+1);"cart"==a?i.setState({activeStep:1,isThanku:""},(function(){return i.checkQtyAvailable("error",!1,"1")})):"productlist"==a?i.setState({activeStep:0,isThanku:""}):"checkout"==a&&i.setState({activeStep:2,isThanku:""},(function(){return i.moveToNextStep("selectedCategory",!0,"2")}))})),i.App=e.app,i}return Object(i.a)(o,[{key:"componentWillMount",value:function(){this.checkRouting()}},{key:"checkRouting",value:function(){var e=this;null==sessionStorage.getItem("Zipcode")&&(this.props.history.push("/home"),this.setState({dailogOpen:!0}));var t=window.location.href.substr(window.location.href.lastIndexOf("/")+1);"cancel"==this.props.match.params.cancel?this.props.history.push("/cart"):"productlist"==t?(this.getlabelList(),this.setState({activeStep:0})):"cart"==t?this.setState({activeStep:1},(function(){return e.checkQtyAvailable("error",!1,"1")})):"checkout"==t?this.setState({activeStep:2},(function(){return e.moveToNextStep("selectedCategory",!0,"2")})):this.props.match.params==this.props.match.params.order||this.props.match.params.failure?this.setState({activeStep:3}):(this.getlabelList(),this.setState({activeStep:0}))}},{key:"GetStartedSignUp",value:function(e){var t=this;switch(e){case 0:return S.a.createElement(I.a,{history:this.props.history,selectedCategory:this.state.selectedCategory,moveToNextStep:function(){return t.checkQtyAvailable(0)},cartItemForEdit:this.state.cartItemForEdit,isEdit:this.state.isEdit,editIndex:this.state.editIndex,goToRegistration:function(){t.setState({activeTab:"Pick Your Count"})}});case 1:return S.a.createElement("div",{className:"summary-main"},S.a.createElement(l.a,{variant:"h1",className:"page-heading","aria-hidden":"true"},D.a.REVIEW_YOUR_CART),S.a.createElement(A.a,{showLoginModal:this.state.showLoginModal,hideLoginModal:this.hideLoginModal,history:this.props.history,setLength:function(e){t.setState({cartLength:e})},isOrderInventory:function(e){return t.checkCartValidation(e)},handleclose:function(){t.setState({errorMsg:null}),document.getElementById("body").classList.remove("has-toast")},cartDetails:function(e,a,n){t.setState({errorMsg:n,totalPrice:e,minPrice:a})},errorMsg:this.state.errorMsg,inventoryData:this.state.inventoryData,editMix:this.editMix,taxCalculation:this.taxCalculation,spinner:this.state.spinner}));case 2:return S.a.createElement(N.a,{history:this.props.history,zipcodeValidData:this.state.zipcodeValidData,shippingCharges:this.state.shippingCharges,openDialoge:function(e){return t.setState({isPopup:1})},moveToPrevStep:function(){return t.moveToPrevStep()},isThanku:function(){return t.isThanku()},goToProductList:function(){t.setState({activeTab:"View Summary"})},taxCalculation:this.taxCalculation,spinner:this.state.spinner});default:throw new Error("Unknown step")}}},{key:"checkCartValidation",value:function(e){var t=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[],a=this.state.inventoryData,n=0;t&&t.length>0&&t.forEach((function(e){a[e.productId]&&(parseInt(a[e.productId].availableQty)<=0||parseInt(e.quantity)>parseInt(a[e.productId].availableQty))&&n++})),n<=0&&this.setState({isbtnDisabled:e})}},{key:"getlabelList",value:function(){var e=this,t=[],a=["Registration"],n=[];this.props.actionLabelList().then((function(){void 0!==e.props.labelList["Get Started"]&&e.props.labelList["Get Started"].forEach((function(i){i.Header.forEach((function(i){i.labelData.forEach((function(i){return t.push(i.label),n.push(i.labelImage),e.setState({label:t.concat(a),stepImage:n})}))}))}))})).catch((function(){return S.a.createElement("p",null,"some Technical Issue")}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({showLoginModal:!1});var t=this;document.addEventListener("cartitem",(function(e){var a=JSON.parse(sessionStorage.getItem("cartItems")),n=0;a&&a.map((function(e){return n+=e.quantity})),t.setState({count:n}),t.forceUpdate()})),sessionStorage.getItem("errorMsg")&&setTimeout((function(){e.setState({errorMsg:null},(function(){return sessionStorage.removeItem("errorMsg")}))}),6e3)}},{key:"checkQtyAvailable",value:function(e,t,a){var n=this,i=JSON.parse(sessionStorage.getItem("cartItems")),s=[];if(i&&i.length>0){this.setState({spinner:!0}),i.map((function(e){return s.push(e.productId),!0}));var r={productId:s,locationId:sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null};this.props.actionCheckProductAvailability(r).then((function(){var s=0,r=n.state.inventoryData;n.props.productInventory&&n.props.productInventory.length>0?(n.props.productInventory.forEach((function(e,t){e.msg=null,r[e.productId]=e})),i.forEach((function(e){if(r[e.productId])if(parseInt(r[e.productId].availableQty)<=0)r[e.productId].msg="Out of stock",s++;else if(parseInt(e.quantity)>parseInt(r[e.productId].availableQty)){s++;var t=O.a.qtyAvailableMsg;r[e.productId].msg=t.replace(/##QTY##/g,(function(){return parseInt(r[e.productId].availableQty)}))}})),s>0?n.setState({isbtnDisabled:!0,inventoryData:r}):n.setState({isbtnDisabled:!1,inventoryData:r}),"error"!==e?n.moveToNextStep(e,t,a):n.setState({spinner:!1})):n.setState({spinner:!1})})).catch((function(e){n.setState({spinner:!1})}))}}},{key:"moveToNextStep",value:function(e,t,a){var n=this;sessionStorage.getItem("minimumOrderAmount")?this.minAmountValidation(e,a):this.props.actionGetMinAmount("","","","").then((function(){n.minAmountValidation(e,a)})).catch((function(e){n.setState({spinner:!1})}))}},{key:"checkZipCodeValidation",value:function(e){var t=this,a=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[],n=sessionStorage.getItem("formValues")?JSON.parse(sessionStorage.getItem("formValues")):null,i=n&&n.shippingAddressLine1?n.shippingAddressLine1:null,s=n&&n.shippingAddressLine2?n.shippingAddressLine2:null;if(localStorage.getItem("accessToken")){var r=n&&n.shippingCountry?n.shippingCountry:null,o=n&&n.shippingState?n.shippingState:null,l=n&&n.shippingCity?n.shippingCity:null,c=n&&n.shippingZipCode?n.shippingZipCode:null,d={};d.postalArea=sessionStorage.getItem("Zipcode")?sessionStorage.getItem("Zipcode"):null,d.stateOrProvinceName=n&&n.shippingState?n.shippingState:null;var m=[];a&&a.length>0&&a.forEach((function(e){var t={};t.lineItemNumber=a.length,t.product={productClass:e.productClass?e.productClass:null,productID:e.productId?e.productId:null},t.quantity=e.quantity?parseInt(e.quantity):0,t.unitPrice=e.price?parseFloat(e.price):0,m.push(t)}));var u={};u.Region=(l||"")+(o?", "+o:"")+(c?", "+c:""),u.CountryCode=r||"",u.AddressLine=[(i||"")+" "+(s||"")];var p={};i&&r&&o&&l&&c&&(p.isAddress=!0),p.destination=d,p.Address=u,p.documentDate=new Date,p.lineItems=m,p.transactionType="SALE",p.sourceLocationId=sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null;var g=O.a.orderTax;if(null!==i)k.a.postMethod(g,p,!0).then((function(a){!0===a.data.success&&!0===a.data.zipSuccess?(a.data.zipcode=sessionStorage.getItem("Zipcode"),sessionStorage.setItem("taxFree",a.data.taxFree),!0===a.data.taxSuccess&&(a.data.totalTaxAmount=a.data.data.tax?a.data.data.tax.totalTaxAmount:"",Object(T.b)(a)),"2"==e||"1"==e?t.setState({errorMsg:null,spinner:!1,zipcodeValidData:a}):t.state.activeStep<=2&&(t.setState({errorMsg:null,spinner:!1,activeStep:t.state.activeStep+1,zipcodeValidData:a}),t.props.history.push("/checkout"))):"2"==e||"1"==e?(a.data.zipcode=sessionStorage.getItem("Zipcode"),a.data.totalTaxAmount=0,t.setState({errorMsg:null,spinner:!1,zipcodeValidData:a})):t.state.activeStep<=2&&(a.data.zipcode=sessionStorage.getItem("Zipcode"),a.data.totalTaxAmount=0,t.setState({errorMsg:null,spinner:!1,activeStep:t.state.activeStep+1,zipcodeValidData:a}),t.props.history.push("/checkout"))})).catch((function(e){t.setState({errorMsg:null,spinner:!1})}));else if(this.props.customerDetails&&null!==this.props.customerDetails){var h=this.props.customerDetails.accountAddresses.filter((function(e){return!0===e.primaryAddr}));this.setState({errorMsg:null,spinner:!1,activeStep:2,zipcodeValidData:h[0]}),window.location="/checkout"}}else if("/cart"===this.props.history.location.pathname)sessionStorage.setItem("prevUrl","/cart-preview"),this.setState({errorMsg:null,spinner:!1,zipcodeValidData:sessionStorage.getItem("Zipcode"),showLoginModal:!0});else{sessionStorage.getItem("Zipcode");this.setState({errorMsg:null,spinner:!1,zipcodeValidData:sessionStorage.getItem("Zipcode"),showLoginModal:!1})}}},{key:"hideDialog",value:function(){this.setState({dailogOpen:!1})}},{key:"QontoStepIcon",value:function(e){var t=e.completed;return S.a.createElement("div",null,t?S.a.createElement("div",{className:"check-circle checked"},S.a.createElement(b.a,null)):S.a.createElement("div",{className:"check-circle unchecked"},S.a.createElement(b.a,null)))}},{key:"render",value:function(){var e=this,t=this.state.label,a=this.props.classes,n=this.state.activeStep;return S.a.createElement(S.a.Fragment,null,S.a.createElement(f.a,null),this.state.spinner?S.a.createElement(w.a,null):"",S.a.createElement("div",{className:"stepup-container"},S.a.createElement("div",{className:"content-main"},S.a.createElement("div",null,S.a.createElement(c.a,{container:!0,spacing:0},S.a.createElement(c.a,{item:!0,className:"stepper-col"},S.a.createElement("div",{className:"stepper-col-header "+this.state.isThanku},S.a.createElement(d.a,{className:"container-root"},S.a.createElement(m.a,{alternativeLabel:!0,activeStep:this.state.activeStep,className:a.stepper+" stepper-head "},t.map((function(t,a){return S.a.createElement(u.a,{key:t},S.a.createElement(p.a,{className:"step-head",StepIconComponent:e.QontoStepIcon}))}))))),S.a.createElement(S.a.Fragment,null,this.GetStartedSignUp(this.state.activeStep),S.a.createElement("div",{className:"text-right wizard-buttons"},0!==n&&2!==n&&S.a.createElement("a",{onClick:function(){Object(L.b)(L.a.Action.ACTION_KEEP_SHOPPING,L.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.setState({activeStep:0},(function(){return e.props.history.push("/productlist")}))},className:"btn-mui btn-red",id:"ContinueShopping","aria-label":"Keep Shopping",tabIndex:0},"Keep Shopping"),0===n||2===n?"":S.a.createElement(h.a,{disabled:!(this.state.totalPrice>0&&this.state.totalPrice>=this.state.minPrice&&!this.state.isbtnDisabled),variant:"contained",color:"primary",onClick:function(t){return e.moveToNextStep(t,!0)},className:" btn-mui btn-yellow ",id:"ContinueCheckout","aria-label":"Checkout"},"Checkout"))))))),S.a.createElement(C.a,{onClose:function(){return e.hideDialog()},dailogOpen:this.state.dailogOpen})))}}]),o}(v.Component);t.a=Object(E.b)((function(e){return{labelList:e.reducer.labelList||[],minPrice:e.reducer.minAmount,productInventory:e.reducer.productInventory,customerDetails:e.reducer.customerDetails}}),{actionLabelList:y.j,actionGetMinAmount:y.i,actionCheckProductAvailability:y.c,actionGetCustomer:y.h})(Object(g.a)((function(e){return{paper:Object(o.a)({marginTop:"0 !important",marginBottom:"0 !important",padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{minHeight:"150px",backgroundColor:"transparent",alignItems:"center","@media (max-width: 991px)":{padding:e.spacing(0,1),minHeight:"90px"}},stepperLabel:{fontSize:"16px",lineHeight:"16px",width:"100px",textAlign:"left",color:"#333",fontWeight:"500","@media (max-width: 991px)":{textAlign:"center",display:"none"}},stepperIcon:{width:"74px",marginRight:"16px",verticalAlign:"middle","@media (max-width: 991px)":{marginRight:"0px",width:"40px"}}}}))(x))}).call(this,a(56))},43:function(e){e.exports=JSON.parse('[{"label":"Alabama","value":"AL"},{"label":"Alaska","value":"AK"},{"label":"American Samoa","value":"AS"},{"label":"Arizona","value":"AZ"},{"label":"Arkansas","value":"AR"},{"label":"California","value":"CA"},{"label":"Colorado","value":"CO"},{"label":"Connecticut","value":"CT"},{"label":"Delaware","value":"DE"},{"label":"District Of Columbia","value":"DC"},{"label":"Federated States Of Micronesia","value":"FM"},{"label":"Florida","value":"FL"},{"label":"Georgia","value":"GA"},{"label":"Guam","value":"GU"},{"label":"Hawaii","value":"HI"},{"label":"Idaho","value":"ID"},{"label":"Illinois","value":"IL"},{"label":"Indiana","value":"IN"},{"label":"Iowa","value":"IA"},{"label":"Kansas","value":"KS"},{"label":"Kentucky","value":"KY"},{"label":"Louisiana","value":"LA"},{"label":"Maine","value":"ME"},{"label":"Marshall Islands","value":"MH"},{"label":"Maryland","value":"MD"},{"label":"Massachusetts","value":"MA"},{"label":"Michigan","value":"MI"},{"label":"Minnesota","value":"MN"},{"label":"Mississippi","value":"MS"},{"label":"Missouri","value":"MO"},{"label":"Montana","value":"MT"},{"label":"Nebraska","value":"NE"},{"label":"Nevada","value":"NV"},{"label":"New Hampshire","value":"NH"},{"label":"New Jersey","value":"NJ"},{"label":"New Mexico","value":"NM"},{"label":"New York","value":"NY"},{"label":"North Carolina","value":"NC"},{"label":"North Dakota","value":"ND"},{"label":"Northern Mariana Islands","value":"MP"},{"label":"Ohio","value":"OH"},{"label":"Oklahoma","value":"OK"},{"label":"Oregon","value":"OR"},{"label":"Palau","value":"PW"},{"label":"Pennsylvania","value":"PA"},{"label":"Puerto Rico","value":"PR"},{"label":"Rhode Island","value":"RI"},{"label":"South Carolina","value":"SC"},{"label":"South Dakota","value":"SD"},{"label":"Tennessee","value":"TN"},{"label":"Texas","value":"TX"},{"label":"Utah","value":"UT"},{"label":"Vermont","value":"VT"},{"label":"Virgin Islands","value":"VI"},{"label":"Virginia","value":"VA"},{"label":"Washington","value":"WA"},{"label":"West Virginia","value":"WV"},{"label":"Wisconsin","value":"WI"},{"label":"Wyoming","value":"WY"}]')},495:function(e,t,a){"use strict";var n=a(9),i=a(10),s=a(12),r=a(11),o=a(526),l=a(31),c=a(527),d=a(180),m=a(63),u=a(52),p=a(523),g=a(525),h=a(496),f=a(0),b=a.n(f),v=a(23),S=a(20),E=a(87),y=a(67),C=a.n(y),A=a(127),N=a(128),I=a(3),O=a(169),w=a(77),k=(a(962),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).clearCart=function(){Object(I.b)(I.a.Action.ACTION_CLEAR_CART,I.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),sessionStorage.removeItem("total"),sessionStorage.removeItem("cartItems"),sessionStorage.removeItem("selectedOrder"),i.setState({cartData:[],cartItems:[],totalPrice:"0.00",showDeletPrompt:!1},(function(){i.getData();var e=new C.a("cartitem");document.dispatchEvent(e)}))},i.getData=function(e){var t=i.state.cartItems,a=0,n=null;t.length>0?(t.map((function(e){var t=e.price*e.quantity;return a+=t,!0})),a>=i.state.minPrice?e||i.props.handleclose():(n="$"+parseFloat(i.state.minPrice).toFixed(2)+" Minimum Order Requirement.",document.getElementById("body").classList.add("has-toast"))):i.props.handleclose(),i.props.cartDetails(a,i.state.minPrice,n),sessionStorage.setItem("total",parseFloat(a).toFixed(2)),sessionStorage.setItem("tax",0),i.setState({totalPrice:parseFloat(a).toFixed(2)})},i.warningMsgFunc=function(e,t){i.setState({msg:e.replace(/##QTY##/g,(function(){return parseInt(t)}),document.getElementById("body").classList.add("has-toast"))},(function(){return setTimeout((function(){i.setState({msg:null}),document.getElementById("body").classList.remove("has-toast")}),3e3)}))},i.selectedCartItems=function(e){i.setState({selectedItems:e})},i.state={cartItems:JSON.parse(sessionStorage.getItem("cartItems"))||[],open:!1,message:"The cart is empty",showDeletPrompt:!1,itemIndex:void 0,cartData:[],totalPrice:0,minPrice:"",inventoryInvalidData:[],deleteClicked:!1,snackOpen:!0,msg:"",selectedItems:[]},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.actionGetMinAmount("","","","").then((function(){e.props.minPrice&&Object.keys(e.props.minPrice).length>0&&e.setState({minPrice:e.props.minPrice.minimumOrderAmount},(function(){return e.getData(!0)}))})),setTimeout((function(){window.scrollTo(0,0)}),10)}},{key:"componentWillReceiveProps",value:function(){this.props.inventoryData&&this.setState({inventoryInvalidData:this.props.inventoryData?this.props.inventoryData:[]})}},{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"removeCartItem",value:function(){var e=this,t=this.state.itemIndex;if(void 0!==t&&null!==t){var a=JSON.parse(sessionStorage.getItem("cartItems"));Object(I.b)(I.a.Action.ACTION_PRODUCT_DELETE_CART,I.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{product:a[t]}),a.splice(t,1),sessionStorage.setItem("cartItems",JSON.stringify(a)),this.setState({cartItems:a,showDeletPrompt:!1,cartData:a},(function(){sessionStorage.setItem("cartItems",JSON.stringify(a)),e.getData(),e.props.isOrderInventory(!1)})),this.props.setLength(a.length),a.length<=0&&(sessionStorage.removeItem("total"),sessionStorage.removeItem("selectedOrder"),sessionStorage.removeItem("cartItems"),this.setState({cartData:[],cartItems:[],totalPrice:"0.00"}),this.getData())}var n=new C.a("cartitem");document.dispatchEvent(n)}},{key:"renderItem",value:function(e,t){var a=this,n=e.price,i=e.quantity,s=e.productId,r=e.image,m=e.size,u=e.productDescription,p=e.shortDescription,g=n*i,f=this.state.inventoryInvalidData[s]||[],v="".concat(u," - ").concat(m)||"".concat(p," - ").concat(m);return b.a.createElement(o.a,{key:t,className:"bundle-card-summary"},b.a.createElement(l.a,{container:!0,spacing:2,alignItems:"center"},b.a.createElement(l.a,{item:!0,className:"summary-row-img"},b.a.createElement("div",{className:"summary-img"},"string"===typeof r?b.a.createElement("img",{alt:v,src:r}):b.a.createElement("img",{alt:v,src:r.Product_Image}))),b.a.createElement(l.a,{item:!0,className:"summary-row-info"},b.a.createElement(l.a,{container:!0,spacing:0,alignItems:"center"},b.a.createElement(l.a,{item:!0,xs:6,sm:6,md:6},b.a.createElement("div",{className:"title-product"},v)),b.a.createElement(l.a,{item:!0,xs:3,sm:3,md:3},b.a.createElement(l.a,{container:!0,spacing:0,className:"counter-grid mx-auto"},b.a.createElement(O.a,{primaryProduct:e,productInfo:e,warningMsgFunc:this.warningMsgFunc,selectedItems:this.selectedCartItems}))),b.a.createElement(l.a,{item:!0,xs:3,sm:3,md:3,align:"start"},b.a.createElement(l.a,{container:!0,spacing:2},b.a.createElement(l.a,{item:!0,xs:12,sm:!0,container:!0,alignItems:"center",justify:"center",className:"price-wrapper"},b.a.createElement("div",{className:"price"},"$",g>0?g.toFixed(2):0)))))),b.a.createElement(l.a,{item:!0,className:"card-summary-action summary-row-action"},b.a.createElement(c.a,{placement:"top",title:"delete"},b.a.createElement(d.a,{id:"summaryDelete"+t,"aria-label":"Product Delete dialog box will be open",className:h.classes.margin+" btn-trash",onClick:function(){a.setState({showDeletPrompt:!0,itemIndex:t,deleteClicked:!0})}},b.a.createElement("i",{className:"fa fa-trash-alt"}))))),f.msg&&b.a.createElement("div",{className:"font-14 text-danger cart-summary-error"},f.msg))}},{key:"render",value:function(){var e=this,t=this.state.cartItems,a=this.state.deleteClicked?" Are you sure you would like to remove this item from the cart?":"Are you sure you would like to remove all items from the cart?";return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"card-summary-wrapper"},b.a.createElement(E.a,{fullWidth:!0,msg:this.props.errorMsg}),b.a.createElement("div",{className:"card-summary-header"},b.a.createElement(m.a,{variant:"h2"},w.a.YOUR_ORDER),t.length>0?b.a.createElement("a",{variant:"contained",color:"primary",className:"btn-mui btn-blue btn-outlined clear-cart",id:"emptyCart","aria-label":w.a.CLEAR_CART,tabIndex:0,onClick:function(){return e.setState({showDeletPrompt:!0,deleteClicked:!1})}},w.a.CLEAR_CART):""),b.a.createElement("div",{className:"cart-summary-container"},0===!t.length?b.a.createElement(l.a,{container:!0,spacing:2,alignItems:"center",className:"cart-summary-head"},b.a.createElement(l.a,{item:!0},b.a.createElement("div",{className:"summary-img"})),b.a.createElement(l.a,{item:!0,xs:12,sm:!0,container:!0,alignItems:"center"},b.a.createElement(l.a,{item:!0,xs:5,sm:5,md:5},b.a.createElement(m.a,{variant:"h4",className:"cart-summary-title"},"Product Name")),b.a.createElement(l.a,{item:!0,xs:3,sm:3,md:3,className:"text-center"},b.a.createElement(m.a,{variant:"h4",className:"cart-summary-title"},"Quantity")),b.a.createElement(l.a,{item:!0,xs:3,sm:3,md:3,align:"start",className:"card-summary-action"},b.a.createElement(l.a,{container:!0,spacing:2},b.a.createElement(l.a,{item:!0,xs:12,sm:!0,container:!0,alignItems:"center",justify:"center"},b.a.createElement(m.a,{variant:"h4",className:"cart-summary-title cost-title"},"Cost")))),b.a.createElement(l.a,{item:!0,xs:1,sm:1,md:1}))):"",b.a.createElement("div",{className:"cart-summary-loop"},0===t.length?b.a.createElement("div",{className:"cart-no-item"},this.state.message):t.map((function(t,a){return t?e.renderItem(t,a):""})),0===t.length?"":b.a.createElement("div",{className:"cart-summary-total"},b.a.createElement("span",{className:"title"},"Total:"),b.a.createElement("span",{className:"amount"},b.a.createElement("i",null,"$"),this.state.totalPrice))),b.a.createElement(N.a,{dialogClose:function(){return e.setState({showDeletPrompt:!1,deleteClicked:!1})},dialogOpen:this.state.showDeletPrompt,dialogHeading:a,dialogWarning:!0,dialogCloseConfirm:function(){e.state.deleteClicked?e.removeCartItem():e.clearCart()},ariaLabelYes:this.state.deleteClicked?"Yes I want to remove the product":"Yes I want to empty my cart",ariaLabelCancel:this.state.deleteClicked?"No I don't want to remove the product":"No I don't want to empty my cart"}),b.a.createElement(p.a,{open:this.props.showLoginModal,onClose:function(){e.props.hideLoginModal()},maxWidth:!1,scroll:"body",classes:{paper:"modal-container modal-paper modal-login is-cart",root:"modal-stack-top"},"aria-labelledby":"signIn-dialogBox"},b.a.createElement(g.a,null,b.a.createElement(A.a,{changeForgotToLogin:function(){},fromForgot:!1,closeLoginDialog:function(){return e.props.hideLoginModal()}}),b.a.createElement(u.a,{className:"icn-close",id:"LoginClose","aria-label":"Login Dialog Close",onClick:function(){e.props.hideLoginModal()}},b.a.createElement("i",{className:"fa fa-times"})))))),b.a.createElement("div",{className:"summary-text-info"},"All sales are final."),b.a.createElement("div",{className:"thankyou-note summary-text-info"},"Note: We are currently experiencing shipping delays due to COVID-19. All orders are processed in the order that they are received, and we are doing our best to ship all orders on time. Thank you for your patience."))}}]),a}(f.Component));t.a=Object(v.b)((function(e){return{minPrice:e.reducer.minAmount}}),{actionGetMinAmount:S.i})(k)},518:function(e,t,a){"use strict";var n=a(9),i=a(10),s=a(12),r=a(11),o=a(174),l=a(63),c=a(1104),d=a(31),m=a(1113),u=a(529),p=a(0),g=a.n(p),h=a(23),f=a(41),b=a(20),v=a(52),S=a(523),E=a(525),y=a(30),C=a(6),A=a(3),N=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).getData=function(){var e=i.state.cartItems;e.length>0&&e.map((function(e){var t=e.price*e.quantity;return t,!0}))},i.state={cartItems:i.props.isthakyou?sessionStorage.getItem("_sc_re")?JSON.parse(sessionStorage.getItem("_sc_re")).items:[]:JSON.parse(sessionStorage.getItem("cartItems"))?JSON.parse(sessionStorage.getItem("cartItems")):[],total:0,tax:0,shippingCharge:0,shippingCurrency:"$",DialougeBoxOpen:!1,taxFlag:""},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.actionGetMinAmount("","","","").then((function(){e.props.minPrice&&Object.keys(e.props.minPrice).length>0&&e.setState({taxFlag:e.props.minPrice.taxFlag})})),this.props.isthakyou){var t=JSON.parse(sessionStorage.getItem("_sc_re"));this.setState({shippingCharge:t.shipping?parseFloat(t.shipping):0,shippingCurrency:t.currencySymbol},(function(){return e.totalCalculation(null)}))}else this.getData(),this.props.shippingCharges?this.setState({shippingCharge:parseFloat(this.props.shippingCharges)},(function(){return[e.totalCalculation(null)]})):this.totalCalculation(null)}},{key:"totalCalculation",value:function(e){var t=this,a=0;this.state.cartItems.map((function(e,n){return t.props.isthakyou?a+=e.price*e.qty:a+=e.price*e.quantity,!0}));var n=e||0,i=a+this.state.shippingCharge;this.setState({tax:n,total:i}),this.props.isthakyou||sessionStorage.setItem("shippingCharge",this.state.shippingCharge)}},{key:"componentWillReceiveProps",value:function(e){if(e.someValue!==this.props.summuryTaxData){var t=this.props.summuryTaxData&&this.props.summuryTaxData.data?this.props.summuryTaxData.data.totalTaxAmount:null;this.totalCalculation(t)}}},{key:"renderOrderItem",value:function(e,t){var a=0;a=this.props.isthakyou?e.price*e.qty:e.price*e.quantity;var n=e.productDescription||e.shortDescription;return g.a.createElement(d.a,{container:!0,spacing:3,alignItems:"center",className:"subtotal-row",key:"cartItem"+t},g.a.createElement(d.a,{item:!0,sm:3,xs:1,className:"summary-img-order"},g.a.createElement("div",{className:"summary-img"},g.a.createElement("img",{alt:"Product ".concat(n),src:e.image}))),g.a.createElement(d.a,{item:!0,sm:5,xs:7},g.a.createElement("div",{className:"item-desc"},this.props.isthakyou?e.name:n)),g.a.createElement(d.a,{item:!0,sm:2,xs:2},g.a.createElement("div",{className:"item-qty text-right"},this.props.isthakyou?e.qty:e.quantity)),g.a.createElement(d.a,{item:!0,sm:2,xs:3},g.a.createElement("div",{className:"count-total text-right"},"$",a.toFixed(2))))}},{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"summary-right",id:"summary-sec"},g.a.createElement("div",{className:"summary-header"},this.props.isSummuryLoader?g.a.createElement(y.a,null):"",g.a.createElement(l.a,{variant:"h2"},"Your Order Summary"),g.a.createElement(v.a,{variant:"contained",color:"primary",className:"btn-mui btn-blue btn-outlined",id:"editCart","aria-label":"edit cart",onClick:function(){Object(A.b)(A.a.Action.ACTION_EDIT_CART,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.props.history.push("/productlist")}},"Edit Cart")),g.a.createElement("div",{className:"summary-bottom"},this.state.cartItems.map((function(t,a){return e.renderOrderItem(t,a)})),g.a.createElement("div",{className:"summary-bottom-row"},g.a.createElement(d.a,{container:!0,spacing:0,alignItems:"center"},g.a.createElement(d.a,{item:!0,sm:10,xs:10,className:"summary-shipping"},"Shipping"),g.a.createElement(d.a,{item:!0,sm:2,xs:2},g.a.createElement("div",null,parseFloat(this.state.shippingCharge)>0?g.a.createElement("div",{className:"summary-shipping-value"},this.state.shippingCurrency,this.state.shippingCharge):g.a.createElement("div",{className:"summary-shipping-value"},"Free"))))),g.a.createElement("div",{className:"summary-bottom-row"},g.a.createElement(d.a,{container:!0,spacing:0,alignItems:"center"},g.a.createElement(d.a,{item:!0,sm:10,xs:10,className:"summary-tax"},"Tax ",g.a.createElement("span",null,"(",sessionStorage.getItem("taxZipCode")?sessionStorage.getItem("taxZipCode"):sessionStorage.getItem("Zipcode"),")")),g.a.createElement(d.a,{item:!0,sm:2,xs:2},g.a.createElement("div",{className:"summary-shipping-value"},"true"===this.state.taxFlag?"$"+parseFloat(sessionStorage.getItem("tax")).toFixed(2):"Free")))),g.a.createElement("div",{className:"products-total"},g.a.createElement("div",{className:"products-total-inner"},g.a.createElement(d.a,{container:!0,spacing:0,justify:"space-between",alignItems:"center"},g.a.createElement(d.a,{item:!0,className:"total"},"Total"),g.a.createElement(d.a,{item:!0,className:"total-amount"},g.a.createElement("i",null,"$"),(parseFloat(sessionStorage.getItem("total"))+parseFloat(this.state.tax)).toFixed(2)))))),g.a.createElement(S.a,{open:this.state.DialougeBoxOpen,onClose:function(){e.setState({DialougeBoxOpen:!1})},"aria-labelledby":"responsive-dialog-title",maxWidth:!1,classes:{paper:"modal-container",root:"modal-stack-top"}},g.a.createElement(E.a,null,g.a.createElement("div",{style:{textAlign:"center"}},g.a.createElement("h2",null,"Something went Wrong"))),g.a.createElement(v.a,{id:"errorCatch","aria-label":"error Catch",onClick:function(){e.setState({DialougeBoxOpen:!1})}},"Close")))}}]),a}(p.Component),I=Object(h.b)((function(e){return{minPrice:e.reducer.minAmount}}),{actionGetMinAmount:b.i})(Object(f.o)(N)),O=a(19),w=a(67),k=a.n(w),L=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),document.title="Payment | "+C.a.titleTag,(i=t.call(this,e)).state={payload:"",intervalID:0,accountId:2,url:C.a.PaymentStatus,APIUtil:O.a,spinner:!0},i}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;setTimeout((function(){e.setState({spinner:!1})}),3e3)}},{key:"componentDidMount",value:function(){var e=this;window.document.addEventListener("paymentResponse",(function(t){var a=setInterval((function(){e.getPaymentResponse(e)}),2e3);e.setState({intervalID:a})}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalID),this.setState({intervalID:0})}},{key:"getPaymentResponse",value:function(e){if(e.state.intervalID<=0)return!1;if(sessionStorage.getItem("orderNumber")){var t={orderNumber:sessionStorage.getItem("orderNumber")};return e.state.APIUtil.postMethod(e.state.url,t,!0).then((function(t){var a=t.data.data;if(a.cybersourceResponse)if(a.cyberSourcePaymentComplete){clearInterval(e.state.intervalID),sessionStorage.setItem("_sc_re",JSON.stringify(a)),sessionStorage.removeItem("total"),sessionStorage.removeItem("orderNumber"),sessionStorage.removeItem("selectedOrder"),sessionStorage.removeItem("cartItems"),sessionStorage.removeItem("subtotal"),sessionStorage.removeItem("tax"),sessionStorage.removeItem("isthankyou"),sessionStorage.removeItem("regData"),sessionStorage.removeItem("formValues"),sessionStorage.removeItem("formChangeValues"),sessionStorage.removeItem("formAddValues"),sessionStorage.removeItem("chk_tabIndex"),sessionStorage.removeItem("billingValues"),sessionStorage.removeItem("errorMSG"),sessionStorage.removeItem("shippingCharge"),sessionStorage.removeItem("billingSameAsShipping"),sessionStorage.removeItem("billingInvalid"),sessionStorage.removeItem("shippingInvalid"),sessionStorage.removeItem("checkoutMode"),localStorage.removeItem("accountId"),localStorage.removeItem("shippingId"),localStorage.removeItem("billingId"),localStorage.removeItem("contactId"),sessionStorage.removeItem("selectedShippingAddress");var n=new k.a("cartitem");document.dispatchEvent(n),window.top.location.href=C.a.SiteUrl+"/thankyou"}else clearInterval(e.state.intervalID),sessionStorage.removeItem("orderNumber"),sessionStorage.removeItem("isthankyou"),sessionStorage.setItem("errorPaymentMsg",a.cybersourceResponseMsg),window.top.location.reload()})).catch((function(e){sessionStorage.setItem("errorMsg",C.a.errorMsg),window.top.location.reload()}))}}},{key:"render",value:function(){return g.a.createElement("div",null,this.state.spinner?g.a.createElement(y.a,null):"",g.a.createElement("iframe",{width:"",height:"",src:C.a.SiteUrl+"/cybersource",frameBorder:"0",className:"iframeembedded",sandbox:"allow-top-navigation allow-scripts allow-forms allow-same-origin",allowFullScreen:!0,title:"payment"}))}}]),a}(g.a.Component),T=a(17),D=a(15),x=a(66),P=a(1166),_=a(1180),M=a(266),F=a(267),j=a(268),B=a(1181),V=a(1167),R=a(1183),Z=a(1168),q=a(13),z=a(14),U=a(43),H=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).onContactChange=function(e,t){e.target.value.toString().length<=10&&t("contact",e.target.value)},i.handleClose=function(){i.setState({ZipfailMessage:""}),document.getElementById("body").classList.remove("has-toast")},i.nameFieldValidation=function(e,t){i.setState(Object(D.a)({},e.target.id,""));if(/^[a-zA-Z '.]*$/.test(e.target.value))(e.target.value||""===e.target.value)&&t([e.target.id],e.target.value);else{if("firstname"===e.target.id){var a=e.target.id;i.setState(Object(D.a)({},e.target.id,"First Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},a,null),(function(){}))}),3e3)}))}else{var n=e.target.id;i.setState(Object(D.a)({},e.target.id,"Last Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},n,null),(function(){}))}),3e3)}))}""===e.target.value&&(t([e.target.id],e.target.value),i.setState(Object(D.a)({},e.target.id,"")))}},i.state={isDataFilled:!1,firstname:"",lastname:"",intialAddress:i.props.intialAddress?i.props.intialAddress:{firstname:JSON.parse(sessionStorage.getItem("formContactValues"))?JSON.parse(sessionStorage.getItem("formContactValues")).firstname:"",lastname:JSON.parse(sessionStorage.getItem("formContactValues"))?JSON.parse(sessionStorage.getItem("formContactValues")).lastname:"",contact:JSON.parse(sessionStorage.getItem("formContactValues"))?JSON.parse(sessionStorage.getItem("formContactValues")).contact:"",email:JSON.parse(sessionStorage.getItem("formContactValues"))?JSON.parse(sessionStorage.getItem("formContactValues")).email:""}},i.nameFieldValidation.bind(Object(x.a)(i)),i}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"render",value:function(){var e=this,t=z.object().shape({firstname:z.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters."),lastname:z.string().trim().required("Last Name is required.").min(2,"Name must be at least 2 characters.")});return g.a.createElement("div",null,g.a.createElement(q.c,{key:this.state.addrKey,initialValues:this.state.intialAddress,enableReinitialize:!0,validationSchema:t,onSubmit:function(t){sessionStorage.setItem("formContactValues",JSON.stringify(t)),localStorage.setItem("accountId",e.props.accountId),null!=e.props.contactId&&localStorage.setItem("contactId",e.props.contactId),e.props.saveCustomer(t)}},(function(t){var a=t.values,n=t.touched,i=t.errors,s=(t.handleChange,t.handleBlur),r=t.handleSubmit,o=t.setFieldValue,l=(t.setFieldTouched,t.isValid);return g.a.createElement("form",{id:"startSubscriptionForm",name:"form1",onSubmit:r,onChange:sessionStorage.setItem("formValues",JSON.stringify(a))},g.a.createElement("div",{className:e.props.fromRegister?"full-view":"checkout-content-body-inner full-view"},e.state.ZipfailMessage?g.a.createElement(m.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},g.a.createElement(u.a,{variant:"filled",onClose:e.handleClose,severity:"error"},e.state.ZipfailMessage)):"",void 0===e.props.editShipping&&g.a.createElement("fieldset",{className:"form-card"},g.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"firstname"},"First Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"firstname",name:"firstname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:a.firstname,onChange:function(t){e.nameFieldValidation(t,o)},onBlur:s,error:(!0===e.state.isDataFilled||n.firstname)&&Boolean(i.firstname)}),(!0===e.state.isDataFilled||n.firstname)&&i.firstname?g.a.createElement("div",{className:"text-danger"},i.firstname):g.a.createElement(q.a,{component:"div",name:"firstname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"lastname"},"Last Name ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"lastname",name:"lastname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:a.lastname,onChange:function(t){return e.nameFieldValidation(t,o)},onBlur:s,error:(!0===e.state.isDataFilled||n.lastname)&&Boolean(i.lastname)}),(!0===e.state.isDataFilled||n.lastname)&&i.lastname?g.a.createElement("div",{className:"text-danger"},i.lastname):g.a.createElement(q.a,{component:"div",name:"lastname",className:"text-danger"}))))),g.a.createElement("div",{className:"button-group text-right"},g.a.createElement(v.a,{variant:"contained",color:"primary",className:" btn-mui btn-red",id:"cancelEditCustomer","aria-label":"cancel Edit Customer",onClick:function(){e.props.cancelEditCustomer()}},"Cancel"),g.a.createElement(v.a,{type:"submit",disabled:!l||a.firstname.trim().length<2||a.lastname.trim().length<2,variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"saveEditCustomer","aria-label":"save Edit Customer"},"Save"))))})))}}]),a}(g.a.Component),W=Object(f.o)(H),J=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onEditContact=function(){var t,a=e.props.userInfo.id;return e.props.userInfo.accountContacts.length>0&&(t=e.props.userInfo.accountContacts[0].id),g.a.createElement(W,{fromRegister:e.props.fromRegister,intialAddress:e.props.intialAddress,cancelEditCustomer:function(){return e.props.updateEditContact()},saveCustomer:function(t){e.props.createCustomer(t),setTimeout((function(){if(e.props.userInfo&&e.props.userInfo.accountContacts&&e.props.userInfo.accountContacts.length>0){e.props.updateEditContact();var t=e.props.userInfo.accountContacts[0],a=Object(T.a)(Object(T.a)({},e.props.intialAddress),{},{firstname:t.firstName,lastname:t.lastName,contact:t.phone});e.props.updateIntialAddress(a)}}),4e3)},accountId:a,contactId:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return g.a.createElement("div",{className:"checkout-content-body"},g.a.createElement("div",{className:"checkout-content-body-inner"},g.a.createElement("div",{className:"form-card"},g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper userinfo-wrapper-head"},g.a.createElement(d.a,{item:!0,xs:!0,container:!0},g.a.createElement("h3",null,"Contact Information")),!this.props.editContact&&g.a.createElement(d.a,{item:!0},g.a.createElement(v.a,{variant:"contained",color:"primary",className:"btn-link",id:"editShipping","aria-label":"edit Contact Information",onClick:function(){return e.props.updateEditFields()}},"Edit"))),g.a.createElement(d.a,{container:!0,spacing:0,className:"form-card-container"},this.props.editContact?this.onEditContact():g.a.createElement(g.a.Fragment,null,g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper"},g.a.createElement("div",{className:"key"},"Name:"),g.a.createElement("div",{className:"val"},this.props.intialAddress.firstname+" "+this.props.intialAddress.lastname)),g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper"},g.a.createElement("div",{className:"key"},"Email:"),g.a.createElement("div",{className:"val"},this.props.intialAddress.email)))))))}}]),a}(p.Component),G=a(61),Y=a(65),K=[{value:"US",label:"United States"}],$=/^[0-9\b]+$/,Q=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).billingInformation=function(e,t){var a=JSON.parse(sessionStorage.getItem("billingValues"))?JSON.parse(sessionStorage.getItem("billingValues")):"";!0===i.state.billingSameAsShipping?(t("billingFirstname",a.billingFirstname),t("billingLastname",a.billingLastname),t("billingAddressLine1",a.billingAddressLine1),t("billingAddressLine2",a.billingAddressLine2),t("billingCountry",a.billingCountry),t("billingState",a.billingState),t("billingCity",a.billingCity),t("billingZipCode",a.billingZipCode),i.setState({billingSameAsShipping:!1},(function(){sessionStorage.setItem("billingSameAsShipping",i.state.billingSameAsShipping)})),"yes"==sessionStorage.getItem("billingInvalid")?i.setState({submitDisabled:!0,ZipfailMessage:C.a.addressInvalid}):1==i.state.billingSameAsShipping||sessionStorage.getItem("billingInvalid")||i.setState({submitDisabled:!0})):(sessionStorage.setItem("billingValues",JSON.stringify(e)),t("billingFirstname",e.shippingFirstname),t("billingLastname",e.shippingLastname),t("billingAddressLine1",e.shippingAddressLine1),t("billingAddressLine2",e.shippingAddressLine2),t("billingCountry",e.shippingCountry),t("billingState",e.shippingState),t("billingCity",e.shippingCity),t("billingZipCode",e.shippingZipCode),i.setState({billingSameAsShipping:!0},(function(){sessionStorage.setItem("billingSameAsShipping",i.state.billingSameAsShipping)})),i.setState({ZipfailMessage:null,submitDisabled:!1}))},i.zip=function(e,t){($.test(e.target.value)||""===e.target.value)&&(e.target.value.toString().length<=5&&t("shippingZipCode",e.target.value),i.state.billingSameAsShipping&&t("billingZipCode",e.target.value))},i.handleZipFieldBlur=function(e,t,a){t(e),i.checkTaxDetails(a,"","shipping")},i.handleClose=function(){i.setState({ZipfailMessage:""}),document.getElementById("body").classList.remove("has-toast")},i.nameFieldValidation=function(e,t){i.setState(Object(D.a)({},e.target.id,""));if(/^[a-zA-Z '.]*$/.test(e.target.value))(e.target.value||""===e.target.value)&&(i.state.billingSameAsShipping&&("shippingFirstname"===e.target.id&&t("billingFirstname",e.target.value),"shippingLastname"===e.target.id&&t("billingLastname",e.target.value)),t([e.target.id],e.target.value));else{if("firstname"===e.target.id||"shippingFirstname"===e.target.id||"billingFirstname"===e.target.id){var a=e.target.id;i.setState(Object(D.a)({},e.target.id,"First Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},a,null),(function(){}))}),3e3)}))}else{var n=e.target.id;i.setState(Object(D.a)({},e.target.id,"Last Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},n,null),(function(){}))}),3e3)}))}""===e.target.value&&(t([e.target.id],e.target.value),i.setState(Object(D.a)({},e.target.id,"")))}},i.addressFieldValidation=function(e,t,a,n){i.setState(Object(D.a)({},e.target.id,""));if(/^[a-zA-Z0-9 '.#,/'-]*$/.test(e.target.value))(e.target.value||""===e.target.value)&&(i.state.billingSameAsShipping&&("shippingAddressLine1"===e.target.id&&a("billingAddressLine1",e.target.value),"shippingAddressLine2"===e.target.id&&a("billingAddressLine2",e.target.value),"shippingCity"===e.target.id&&a("billingCity",e.target.value)),"shippingAddressLine1"===e.target.id&&(t.shippingAddressLine1=e.target.value),"shippingCity"===e.target.id&&(t.shippingCity=e.value,i.checkTaxDetails(e,n,t,!0)),a([e.target.id],e.target.value));else{if("shippingAddressLine1"===e.target.id||"billingAddressLine1"===e.target.id){var s=e.target.id;i.setState(Object(D.a)({},e.target.id,"Address Line 1 must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},s,null))}),3e3)}))}else if("shippingAddressLine2"===e.target.id||"billingAddressLine2"===e.target.id){var r=e.target.id;i.setState(Object(D.a)({},e.target.id,"Address Line 2 must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},r,null))}),3e3)}))}else if("shippingCity"===e.target.id||"billingCity"===e.target.id){var o=e.target.id;i.setState(Object(D.a)({},e.target.id,"City must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},o,null))}),3e3)}))}""===e.target.value&&(a([e.target.id],e.target.value),i.setState(Object(D.a)({},e.target.id,"")))}},i.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},null!==sessionStorage.getItem("checkoutMode")&&"Guest"===sessionStorage.getItem("checkoutMode")&&null!==localStorage.getItem("token")&&(sessionStorage.removeItem("billingSameAsShipping"),sessionStorage.removeItem("formValues"),sessionStorage.removeItem("billingValues"),sessionStorage.removeItem("formAddValues"),sessionStorage.removeItem("formChangeValues"),sessionStorage.removeItem("errorPaymentMsg"),sessionStorage.removeItem("billingInvalid"),sessionStorage.removeItem("shippingInvalid"),sessionStorage.removeItem("billingSameAsShipping"),sessionStorage.setItem("checkoutMode","Register")),i.userInfo=i.props.userInfo&&i.props.userInfo.accountContacts&&i.props.userInfo.accountContacts.length>0?i.props.userInfo.accountContacts[0]:null,i.state={editContact:!1,isDataFilled:!1,isEmailChanged:!0,isDisabledBillingfield:!1,shippingFirstname:"",billingFirstname:"",shippingLastname:"",billingLastname:"",firstname:"",lastname:"",shippingAddressLine1:null,shippingAddressLine2:"",billingAddressLine1:"",billingAddressLine2:"",shippingCity:"",billingCity:"",billingSameAsShipping:!!JSON.parse(sessionStorage.getItem("billingSameAsShipping"))&&JSON.parse(sessionStorage.getItem("billingSameAsShipping")),intialAddress:i.props.intialAddress?i.props.intialAddress:{guestCheckout:i.props.guestCheckout,firstname:null!==i.userInfo?i.userInfo.firstName:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).firstname:"",lastname:null!==i.userInfo?i.userInfo.lastName:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).lastname:"",email:null!==i.userInfo?i.userInfo.email:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).email:"",contact:null!==i.userInfo?i.userInfo.phone:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).contact:"",billingSameAsShipping:!!JSON.parse(sessionStorage.getItem("billingSameAsShipping"))&&JSON.parse(sessionStorage.getItem("billingSameAsShipping")),billingAddressLine1:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).billingAddressLine1:"",billingAddressLine2:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).billingAddressLine2:"",shippingState:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).shippingState:"",billingState:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).billingState:"",shippingCity:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).shippingCity:"",billingCity:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).billingCity:"",shippingFirstname:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).shippingFirstname:"",shippingLastname:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).shippingLastname:"",shippingAddressLine1:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).shippingAddressLine1:"",shippingAddressLine2:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).shippingAddressLine2:"",shippingZipCode:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).shippingZipCode:sessionStorage.getItem("Zipcode"),shippingCountry:JSON.parse(sessionStorage.getItem("formValues"))&&JSON.parse(sessionStorage.getItem("formValues")).shippingCountry.length>0?JSON.parse(sessionStorage.getItem("formValues")).shippingCountry:K[0].value,billingFirstname:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).billingFirstname:"",billingLastname:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).billingLastname:"",billingZipCode:JSON.parse(sessionStorage.getItem("formValues"))?JSON.parse(sessionStorage.getItem("formValues")).billingZipCode:"",billingCountry:JSON.parse(sessionStorage.getItem("formValues"))&&JSON.parse(sessionStorage.getItem("formValues")).billingCountry.length>0?JSON.parse(sessionStorage.getItem("formValues")).billingCountry:K[0].value},isAddress:null,submitDisabled:!0,ZipfailMessage:sessionStorage.getItem("errorPaymentMsg"),addressVerifyData:[],selectedAddress:0,addressModal:!1,addrKey:0},i.nameFieldValidation.bind(Object(x.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){window.scrollTo(0,0)}),10);var t=this.props.zipcodeValidData;t&&t.data&&!0===t.data.success&&!0===t.data.zipSuccess?C.a.isTaxFree?t.data.addressSuccess||t.data.candidateFound||t.data.addressErrorMessage&&this.setState({isDisabledBillingfield:!0,submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})):!0===t.data.taxSuccess?setTimeout((function(){e.props.getTaxtLoader(!1,t)}),100):this.state.ZipfailMessage?t.data.addressSuccess||t.data.candidateFound||t.data.addressErrorMessage&&this.setState({isDisabledBillingfield:!0,submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})):(setTimeout((function(){e.props.getTaxtLoader(!1,t)}),100),this.setState({isDisabledBillingfield:!0,submitDisabled:!0,ZipfailMessage:t.data.taxErrorMessage})):t&&t.data&&!this.state.ZipfailMessage&&(setTimeout((function(){e.props.getTaxtLoader(!1,null)}),100),this.setState({isDisabledBillingfield:!0,submitDisabled:!0,ZipfailMessage:t.data?t.data.zipErrorMessage:""}));var a=sessionStorage.getItem("formValues")?JSON.parse(sessionStorage.getItem("formValues")):null;a&&a.shippingCity&&a.shippingState&&a.shippingAddressLine1?"true"==sessionStorage.getItem("billingSameAsShipping")||sessionStorage.getItem("billingInvalid")?"yes"==sessionStorage.getItem("shippingInvalid")?this.setState({isDisabledBillingfield:!0,submitDisabled:!0}):"true"!=sessionStorage.getItem("billingSameAsShipping")&&"yes"==sessionStorage.getItem("billingInvalid")&&this.setState({ZipfailMessage:C.a.addressInvalid,submitDisabled:!0},(function(){return document.getElementById("body").classList.add("has-toast")})):this.setState({submitDisabled:!0}):this.setState({isDisabledBillingfield:!0}),null===this.userInfo&&this.state.intialAddress&&this.state.intialAddress.email.length>0&&!this.props.guestCheckout&&(localStorage.removeItem("shippingId"),localStorage.removeItem("billingId"),this.props.emailValidate(this.state.intialAddress,this.state.intialAddress.firstname.length>=2&&this.state.intialAddress.lastname.length>=2&&this.state.intialAddress.email.length>0&&this.validateEmail(this.state.intialAddress.email))),this.state.intialAddress&&this.state.intialAddress.shippingAddressLine1.length>0&&this.state.intialAddress.shippingCountry.length>0&&this.state.intialAddress.shippingState.length>0&&this.state.intialAddress.shippingCity.length>0&&5===this.state.intialAddress.shippingZipCode.length&&this.checkTaxDetails(this.state.intialAddress,!0,"shipping"),this.state.intialAddress&&!this.state.intialAddress.billingSameAsShipping&&(this.state.intialAddress.billingAddressLine1.length>0&&this.state.intialAddress.billingCountry.length>0&&this.state.intialAddress.billingState.length>0&&this.state.intialAddress.billingCity.length>0&&5===this.state.intialAddress.billingZipCode.length?this.checkTaxDetails(this.state.intialAddress,!0,"billing"):(sessionStorage.setItem("billingInvalid","yes"),this.setState({submitDisabled:!0})))}},{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"editRegistration",value:function(e){"shipping"===e?this.setState({editModeShipping:!this.state.editModeShipping}):this.setState({editModeBilling:!this.state.editModeBilling})}},{key:"getTaxRequest",value:function(e,t,a){var n=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[],i=e.shippingZipCode?e.shippingZipCode:null,s=e.shippingState?e.shippingState:null,r=e.shippingCity?e.shippingCity:null,o=e.shippingCountry?e.shippingCountry:null,l=e.shippingAddressLine1?e.shippingAddressLine1:null,c=e.shippingAddressLine2?e.shippingAddressLine2:null;"billing"==a&&(i=e.billingZipCode?e.billingZipCode:null,s=e.billingState?e.billingState:null,r=e.billingCity?e.billingCity:null,o=e.billingCountry?e.billingCountry:null,l=e.billingAddressLine1?e.billingAddressLine1:null,c=e.billingAddressLine2?e.billingAddressLine2:null);var d={};d.postalArea=i,d.stateOrProvinceName=s,this.props.getTaxtLoader(!0,null);var m=[];n&&n.length>0&&n.forEach((function(e){var t={};t.lineItemNumber=n.length,t.product={productClass:e.productClass?e.productClass:null,productID:e.productId?e.productId:null},t.quantity=e.quantity?parseInt(e.quantity):0,t.unitPrice=e.price?parseFloat(e.price):0,m.push(t)}));var u={};u.Region=(r||"")+(s?", "+s:"")+(i?", "+i:""),u.CountryCode=o||"",u.AddressLine=[(l||"")+" "+(c?e.shippingAddressLine2:"")];var p={};return p.sourceLocationId=sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null,p.destination=d,p.Address=u,p.documentDate=new Date,p.lineItems=m,p.transactionType="SALE",p}},{key:"checkEmailDetails",value:function(e,t,a){this.state.intialAddress.guestCheckout||(localStorage.removeItem("shippingId"),localStorage.removeItem("billingId"),e.preventDefault(),this.props.emailValidate(t,a))}},{key:"checkContactDetails",value:function(e,t){var a=this;localStorage.removeItem("shippingId"),localStorage.removeItem("billingId"),e.preventDefault(),this.setState({isDataFilled:!0},(function(){(a.props.emailValid||a.state.intialAddress.guestCheckout)&&a.props.createCustomer(t,!1)}))}},{key:"checkTaxDetails",value:function(e,t,a){var n=this;if(e.shippingZipCode&&"5"==e.shippingZipCode.length){var i=this.getTaxRequest(e,t,a);i.isAddress=!0,"billing"==a&&(i.isBillingAddress=!0);var s=C.a.orderTax;C.a.errorMsg;this.setState({submitDisabled:!0,isDataFilled:!0}),O.a.postMethod(s,i,!0).then((function(t){if(!0===t.data.success&&!0===t.data.zipSuccess){if(n.setState({ZipfailMessage:t.data.zipErrorMessage}),document.getElementById("body").classList.remove("has-toast"),sessionStorage.setItem("taxZipCode",e.shippingZipCode),t.data.addressSuccess||t.data.candidateFound){if("billing"==a?(sessionStorage.setItem("billingInvalid","no"),"no"==sessionStorage.getItem("shippingInvalid")&&n.setState({submitDisabled:!1})):"shipping"==a&&(sessionStorage.setItem("shippingInvalid","no"),n.state.billingSameAsShipping||"no"==sessionStorage.getItem("billingInvalid")?n.setState({submitDisabled:!1,isDisabledBillingfield:!1}):n.setState({submitDisabled:!0,isDisabledBillingfield:!1})),t.data.candidateFound){sessionStorage.setItem("taxZipCode",e.shippingZipCode),t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t);var i=t.data.data&&t.data.data.address&&t.data.data.address.data&&t.data.data.address.data.XAVResponse?t.data.data.address.data.XAVResponse.Candidate:[],s=i;return Array.isArray(i)||(s=[i]),n.setState({addressVerifyData:s},(function(){return n.setState({isAddress:a||null,addressModal:!0})})),!1}}else if(t.data.addressErrorMessage)return t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t),n.setState({submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})),"billing"==a?sessionStorage.setItem("billingInvalid","yes"):"shipping"==a&&(n.billingFieldDisable(e),sessionStorage.setItem("shippingInvalid","yes")),!1;t.data.taxFree?(n.setState({ZipfailMessage:t.data.taxErrorMessage}),t.data.taxErrorMessage&&n.setState({submitDisabled:!0}),t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t),setTimeout((function(){n.setState({ZipfailMessage:null})}),3e3)):!0===t.data.taxSuccess&&(Object(Y.b)(t),sessionStorage.setItem("shippingCharge",n.state.shippingCharge),sessionStorage.setItem("taxZipCode",e.shippingZipCode),t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=t.data.data.tax?t.data.data.tax.totalTaxAmount:"",setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100))}else t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100),n.setState({isDisabledBillingfield:!0,submitDisabled:!0,ZipfailMessage:t.data.zipErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")}))})).catch((function(t){t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,n.setState({ZipfailMessage:"Something went to wrong on response!!",submitDisabled:!0},(function(){document.getElementById("body").classList.add("has-toast")})),n.props.getTaxtLoader(!1,t)}))}else this.setState({submitDisabled:!0})}},{key:"shouldSubmitDisabled",value:function(){return this.state.submitDisabled||this.state.intialAddress.firstname.length<2||this.state.intialAddress.lastname.length<2||0===this.state.intialAddress.email.length||!this.validateEmail(this.state.intialAddress.email)||!this.props.emailValid}},{key:"billingFieldDisable",value:function(e){this.setState({isDisabledBillingfield:!0})}},{key:"getAdressLine",value:function(e,t){var a=this,n="",i="",s="",r="",o=e.AddressLine?e.AddressLine:"";Array.isArray(e.AddressLine)&&(o=(e.AddressLine[0]?e.AddressLine[0]:"")+(e.AddressLine[1]?", "+e.AddressLine[1]:"")),e.CountryCode&&(s=e.CountryCode),e.PoliticalDivision1&&(i=e.PoliticalDivision1),e.PoliticalDivision2&&(n=e.PoliticalDivision2),e.PostcodePrimaryLow&&(r=e.PostcodePrimaryLow);var l=(o||"")+(n?" "+n:"")+(i?" "+i:"")+(s?", "+s:"")+(r?" "+r:"");return g.a.createElement(P.a,{onChange:function(e){return a.setState({selectedAddress:t})},value:t,key:"".concat("address1"+t),control:g.a.createElement(_.a,null),label:l})}},{key:"manageSuggestedAddress",value:function(){var e=this,t=this.state.addressVerifyData[this.state.selectedAddress]?this.state.addressVerifyData[this.state.selectedAddress].AddressKeyFormat:"",a=sessionStorage.getItem("formValues")?JSON.parse(sessionStorage.getItem("formValues")):{};"billing"!=this.state.isAddress&&(Array.isArray(t.AddressLine)?(a.shippingAddressLine1=t.AddressLine[0],a.shippingAddressLine2=t.AddressLine.length>1?t.AddressLine[1]:""):(a.shippingAddressLine1=t.AddressLine,a.shippingAddressLine2=""),a.shippingCountry=t.CountryCode?t.CountryCode:"",a.shippingState=t.PoliticalDivision1?t.PoliticalDivision1:"",a.shippingCity=t.PoliticalDivision2?t.PoliticalDivision2:"",a.shippingZipCode=t.PostcodePrimaryLow?t.PostcodePrimaryLow:"",sessionStorage.setItem("taxZipCode",a.shippingZipCode)),(this.state.billingSameAsShipping||"billing"==this.state.isAddress)&&(Array.isArray(t.AddressLine)?(a.billingAddressLine1=t.AddressLine[0],a.billingAddressLine2=t.AddressLine.length>1?t.AddressLine[1]:""):(a.billingAddressLine1=t.AddressLine,a.billingAddressLine2=""),a.billingCountry=t.CountryCode?t.CountryCode:"",a.billingState=t.PoliticalDivision1?t.PoliticalDivision1:"",a.billingCity=t.PoliticalDivision2?t.PoliticalDivision2:"",a.billingZipCode=t.PostcodePrimaryLow?t.PostcodePrimaryLow:""),this.setState({intialAddress:a,selectedAddress:0,addrKey:this.state.addrKey+1,addressModal:!1},(function(){return e.checkTaxDetails(e.state.intialAddress,!0,e.state.isAddress)}))}},{key:"render",value:function(){var e=this,t=/\bP(ost|ostal)?([ \.]*(O|0)(ffice)?)?([ \.]*Box)\b/i,a=z.object().shape({shippingAddressLine1:z.string().required("Address Line 1 is Required.").test("shippingAddressLine1",C.a.poBoxErrorMsg.replace(/##ADDTYPE##/g,(function(){return"shipping"})),(function(e){return!t.test(e)})),shippingAddressLine2:z.string().nullable().notRequired().test("shippingAddressLine2",C.a.poBoxErrorMsg.replace(/##ADDTYPE##/g,(function(){return"shipping"})),(function(e){return!t.test(e)})),billingAddressLine1:z.string().required("Address Line 1 is Required."),billingAddressLine2:z.string().nullable().notRequired(),firstname:z.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters."),shippingFirstname:z.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters."),billingFirstname:z.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters."),lastname:z.string().trim().required("Last Name is required.").min(2,"Name must be at least 2 characters."),shippingLastname:z.string().trim().min(2,"Name must be at least 2 characters.").required("Last Name is required."),billingLastname:z.string().trim().min(2,"Name must be at least 2 characters.").required("Last Name is required."),email:z.string().trim().required("Email is required.").email("Please enter a valid email.").test("email","Please enter a valid email.",(function(e){if(null===e||""===e)return!0;return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)})),shippingZipCode:z.string().trim().matches(/^[0-9]{5}$/,"Zip code must be exactly 5 digits.").required("Zip is required"),billingZipCode:z.string().trim().required("Zip is required").matches(/^[0-9]{5}$/,"Zip code must be exactly 5 digits."),shippingCountry:z.string().required("Country is required."),billingCountry:z.string().required("Country is required."),shippingState:z.string().required("State is required."),billingState:z.string().required("State is required."),shippingCity:z.string().required("City is required."),billingCity:z.string().required("City is required.")});return g.a.createElement("div",null,g.a.createElement(q.c,{key:this.state.addrKey,initialValues:this.state.intialAddress,enableReinitialize:!0,validationSchema:a,onSubmit:function(t){Object(T.a)({},t).billingSameAsShipping=e.state.billingSameAsShipping?1:0,sessionStorage.setItem("regData",JSON.stringify(t)),e.state.intialAddress.guestCheckout&&(localStorage.removeItem("accountId"),localStorage.removeItem("contactId"),localStorage.removeItem("shippingId"),localStorage.removeItem("billingId")),Object(A.b)(A.a.Action.ACTION_CHECKOUT,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{checkoutData:t,userLoggedIn:null!==localStorage.getItem("token")}),e.props.createCustomer(t,!0)}},(function(n){var i=n.values,s=n.touched,r=n.errors,o=(n.handleChange,n.handleBlur),c=n.handleSubmit,p=n.setFieldValue,h=n.setFieldTouched,f=n.isValid;return g.a.createElement("form",{id:"startSubscriptionForm",name:"form1",onSubmit:c,onChange:sessionStorage.setItem("formValues",JSON.stringify(i))},g.a.createElement("div",{className:"checkout-content-body-inner"},e.state.ZipfailMessage?g.a.createElement(m.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},g.a.createElement(u.a,{variant:"filled",onClose:e.handleClose,severity:"error"},e.state.ZipfailMessage)):"",void 0===e.props.userInfo?g.a.createElement("fieldset",{className:"form-card"},g.a.createElement(d.a,{container:!0,spacing:0,justify:"space-between",alignItems:"center",className:"mb-15"},g.a.createElement(d.a,{item:!0},g.a.createElement(l.a,{variant:"h3",component:"h3"},"Contact information"))),g.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"firstname"},"First Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"firstname",name:"firstname",value:i.firstname,onChange:function(t){e.nameFieldValidation(t,p)},inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onBlur:function(t){t.preventDefault(),h("firstname",!0,!0),i.email&&i.firstname&&i.lastname&&!e.state.intialAddress.guestCheckout&&e.validateEmail(i.email)&&i.firstname.length>=2&&i.lastname.length>=2&&e.checkContactDetails(t,i,!0,"contact")},error:(!0===e.state.isDataFilled||s.firstname)&&Boolean(r.firstname)}),(!0===e.state.isDataFilled||s.firstname)&&r.firstname?g.a.createElement("div",{className:"text-danger"},r.firstname):g.a.createElement(q.a,{component:"div",name:"firstname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"lastname"},"Last Name ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"lastname",name:"lastname",value:i.lastname,inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameFieldValidation(t,p)},onBlur:function(t){h("lastname",!0,!0),i.email&&i.firstname&&i.lastname&&!e.state.intialAddress.guestCheckout&&e.validateEmail(i.email)&&i.firstname.length>=2&&i.lastname.length>=2&&e.checkContactDetails(t,i,!0,"contact")},error:(!0===e.state.isDataFilled||s.lastname)&&Boolean(r.lastname)}),(!0===e.state.isDataFilled||s.lastname)&&r.lastname?g.a.createElement("div",{className:"text-danger"},r.lastname):g.a.createElement(q.a,{component:"div",name:"lastname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"email"},"Email Address",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"email",name:"email",value:i.email,inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){p("email",t.target.value),e.setState({isEmailChanged:!0})},onBlur:function(t){h("email",!0,!0),i.email&&i.firstname&&i.lastname&&!e.state.intialAddress.guestCheckout?e.validateEmail(i.email)&&i.firstname.length>=2&&i.lastname.length>=2&&e.validateEmail(i.email)&&(e.state.isEmailChanged&&!e.state.intialAddress.guestCheckout?e.setState({isEmailChanged:!1},(function(){e.checkEmailDetails(t,i,!0)})):e.checkContactDetails(t,i,!0,"contact")):i.email&&e.state.isEmailChanged&&!e.state.intialAddress.guestCheckout&&e.validateEmail(i.email)&&e.setState({isEmailChanged:!1},(function(){e.checkEmailDetails(t,i,!1)}))},error:(!0===e.state.isDataFilled||s.email)&&Boolean(r.email)}),(!0===e.state.isDataFilled||s.email)&&r.email?g.a.createElement("div",{className:"text-danger"},r.email):g.a.createElement(q.a,{component:"div",name:"email",className:"text-danger"}))))):g.a.createElement("div",{className:"checkout-view"},g.a.createElement("fieldset",{className:"form-card"},g.a.createElement(J,{fromRegister:!0,editContact:e.state.editContact,intialAddress:e.state.intialAddress,userInfo:e.props.userInfo,createCustomer:e.props.createAccount,updateIntialAddress:function(t){return e.setState({intialAddress:t})},updateEditFields:function(){return e.setState({editContact:!0})},updateEditContact:function(){return e.setState({editContact:!1})}}))),g.a.createElement("fieldset",{className:"form-card"},g.a.createElement(d.a,{container:!0,spacing:0,justify:"space-between",alignItems:"center",className:"mb-15"},g.a.createElement(d.a,{item:!0},g.a.createElement(l.a,{variant:"h3",component:"h3"},"Shipping information"),g.a.createElement("span",{className:"shipping-note"},"At this time, we are unable to ship to P.O. boxes."))),g.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingFirstname"},"First Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingFirstname",name:"shippingFirstname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameFieldValidation(t,p)},onBlur:o,error:s.shippingFirstname&&Boolean(r.shippingFirstname),value:i.shippingFirstname}),e.state.shippingFirstname?g.a.createElement("div",{className:"text-danger"},e.state.shippingFirstname):g.a.createElement(q.a,{component:"div",name:"shippingFirstname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingLastname"},"Last Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingLastname",name:"shippingLastname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameFieldValidation(t,p)},onBlur:o,error:s.shippingLastname&&Boolean(r.shippingLastname),value:i.shippingLastname}),e.state.shippingLastname?g.a.createElement("div",{className:"text-danger"},e.state.shippingLastname):g.a.createElement(q.a,{component:"div",name:"shippingLastname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingAddressLine1"},"Address Line 1",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingAddressLine1",name:"shippingAddressLine1",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:i.shippingAddressLine1,onChange:function(t){return e.addressFieldValidation(t,i,p)},onBlur:function(n){h("shippingAddressLine1",!0,!0),t.test(i.shippingAddressLine1)||t.test(i.shippingAddressLine2)||i.shippingAddressLine1&&i.shippingCountry&&i.shippingState&&i.shippingCity&&i.shippingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"shipping"))},error:s.shippingAddressLine1&&Boolean(r.shippingAddressLine1)}),e.state.shippingAddressLine1?g.a.createElement("div",{className:"text-danger"},e.state.shippingAddressLine1):g.a.createElement(q.a,{component:"div",name:"shippingAddressLine1",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingAddressLine2"},"Address Line 2"),g.a.createElement(j.a,{id:"shippingAddressLine2",name:"shippingAddressLine2",value:i.shippingAddressLine2,onChange:function(t){return e.addressFieldValidation(t,i,p)},onBlur:function(){h("shippingAddressLine2",!0,!0),t.test(i.shippingAddressLine1)||t.test(i.shippingAddressLine2)||i.shippingAddressLine1&&i.shippingCountry&&i.shippingState&&i.shippingCity&&i.shippingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"shipping"))}}),e.state.shippingAddressLine2?g.a.createElement("div",{className:"text-danger"},e.state.shippingAddressLine2):g.a.createElement(q.a,{component:"div",name:"shippingAddressLine2",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"shippingCountry"},g.a.createElement(G.a,{id:"shippingCountry",label:"Country",touched:s.shippingCountry,options:K,defaultValue:K.find((function(e){if(e.value===i.shippingCountry)return e})),value:K.find((function(e){if(e.value===i.shippingCountry)return e})),onChange:function(t,a){null!==a&&(p("shippingCountry",a.value),e.state.billingSameAsShipping&&p("billingCountry",a.value),i.shippingCountry=a.value)},onBlur:function(n,s){h("shippingCountry",!0),t.test(i.shippingAddressLine1)||t.test(i.shippingAddressLine2)||i.shippingAddressLine1&&i.shippingCountry&&i.shippingState&&i.shippingCity&&i.shippingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"shipping"))},error:r.shippingCountry})),g.a.createElement(q.a,{component:"div",name:"shippingCountry",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"shippingState"},g.a.createElement(G.a,{id:"shippingState",label:"State",touched:s.shippingState,options:U,defaultValue:U.find((function(e){if(e.value===i.shippingState)return e})),value:U.find((function(e){if(e.value===i.shippingState)return e})),onChange:function(t,a){null!==a&&(p("shippingState",a.value),e.state.billingSameAsShipping&&p("billingState",a.value),i.shippingState=a.value)},onBlur:function(n,s){h("shippingState",!0),t.test(i.shippingAddressLine1)||t.test(i.shippingAddressLine2)||i.shippingAddressLine1&&i.shippingCountry&&i.shippingState&&i.shippingCity&&i.shippingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"shipping"))},error:r.shippingState})),g.a.createElement(q.a,{component:"div",name:"shippingState",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingCity"},"City ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingCity",name:"shippingCity",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.addressFieldValidation(t,i,p,o)},onBlur:function(n){h("shippingCity",!0,!0),t.test(i.shippingAddressLine1)||t.test(i.shippingAddressLine2)||i.shippingAddressLine1&&i.shippingCountry&&i.shippingState&&i.shippingCity&&i.shippingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"shipping"))},error:s.shippingCity&&Boolean(r.shippingCity),value:i.shippingCity}),e.state.shippingCity?g.a.createElement("div",{className:"text-danger"},e.state.shippingCity):g.a.createElement(q.a,{component:"div",name:"shippingCity",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingZipCode"},"Zip ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingZipCode",name:"shippingZipCode",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},ref:function(t){e.nameInput=t},autoComplete:"new-password",onChange:function(t){return e.zip(t,p)},onBlur:function(n){h("shippingZipCode",!0,!0),t.test(i.shippingAddressLine1)||t.test(i.shippingAddressLine2)||i.shippingAddressLine1&&i.shippingCountry&&i.shippingState&&i.shippingCity&&i.shippingZipCode&&(a.validate(i),e.handleZipFieldBlur(n,o,i,!1))},error:s.shippingZipCode&&Boolean(r.shippingZipCode),value:i.shippingZipCode}),g.a.createElement(q.a,{component:"div",name:"shippingZipCode",className:"text-danger"}))))),g.a.createElement("fieldset",{className:"form-card"},g.a.createElement("legend",{className:"heading-hidden","aria-hidden":"true"},"Billing information"),g.a.createElement(d.a,{container:!0,spacing:0,justify:"space-between",alignItems:"center",className:"mb-15"},g.a.createElement(d.a,{item:!0},g.a.createElement(l.a,{variant:"h3",component:"h3"},"Billing information"))),g.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"grid-checkbox"},g.a.createElement(P.a,{className:"rememberCheck",style:{marginBottom:"0px"},htmlFor:"isBilling",control:g.a.createElement(B.a,{className:"checkBx",id:"isBilling",name:"isBilling",checked:e.state.billingSameAsShipping,disabled:e.state.isDisabledBillingfield,color:"primary",onChange:function(){return e.billingInformation(i,p)}}),label:"Billing Information same as Shipping information"})),e.state.billingSameAsShipping?" ":g.a.createElement(g.a.Fragment,null,g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",disabled:e.state.isDisabledBillingfield,variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingFirstname"},"First Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingFirstname",name:"billingFirstname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},disabled:e.state.isDisabledBillingfield,onChange:function(t){return e.nameFieldValidation(t,p)},onBlur:o,error:s.billingFirstname&&Boolean(r.billingFirstname),value:i.billingFirstname}),e.state.billingFirstname?g.a.createElement("div",{className:"text-danger"},e.state.billingFirstname):g.a.createElement(q.a,{component:"div",name:"billingFirstname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",disabled:e.state.isDisabledBillingfield,variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingLastname"},"Last Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingLastname",name:"billingLastname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},disabled:e.state.isDisabledBillingfield,onChange:function(t){return e.nameFieldValidation(t,p)},onBlur:o,error:s.billingLastname&&Boolean(r.billingLastname),value:i.billingLastname}),e.state.billingLastname?g.a.createElement("div",{className:"text-danger"},e.state.billingLastname):g.a.createElement(q.a,{component:"div",name:"billingLastname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",disabled:e.state.isDisabledBillingfield,variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingAddressLine1"},"Address Line 1",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingAddressLine1",name:"billingAddressLine1",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.addressFieldValidation(t,i,p)},disabled:e.state.isDisabledBillingfield,onBlur:function(t){h("billingAddressLine1",!0,!0),i.billingAddressLine1&&i.billingCountry&&i.billingState&&i.billingCity&&i.billingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"billing"))},error:s.billingAddressLine1&&Boolean(r.billingAddressLine1),value:i.billingAddressLine1}),e.state.billingAddressLine1?g.a.createElement("div",{className:"text-danger"},e.state.billingAddressLine1):g.a.createElement(q.a,{component:"div",name:"billingAddressLine1",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,disabled:e.state.isDisabledBillingfield,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingAddressLine2"},"Address Line 2"),g.a.createElement(j.a,{id:"billingAddressLine2",name:"billingAddressLine2",disabled:e.state.isDisabledBillingfield,onChange:function(t){return e.addressFieldValidation(t,i,p)},onBlur:function(){h("billingAddressLine2",!0,!0),i.billingAddressLine1&&i.billingCountry&&i.billingState&&i.billingCity&&i.billingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"billing"))},value:i.billingAddressLine2}),e.state.billingAddressLine2?g.a.createElement("div",{className:"text-danger"},e.state.billingAddressLine2):g.a.createElement(q.a,{component:"div",name:"billingAddressLine2",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"billingCountry"},g.a.createElement(G.a,{id:"billingCountry",label:"Country",touched:s.billingCountry,options:K,defaultValue:K.find((function(e){if(e.value===i.billingCountry)return e})),value:K.find((function(e){if(e.value===i.billingCountry)return e})),onChange:function(e,t){null!==t&&(p("billingCountry",t.value),i.billingCountry=t.value)},onBlur:function(t,n){h("billingCountry",!0),i.billingAddressLine1&&i.billingCountry&&i.billingState&&i.billingCity&&i.billingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"billing"))},error:r.billingCountry})),g.a.createElement(q.a,{component:"div",name:"billingCountry",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"billingState"},g.a.createElement(G.a,{id:"billingState",label:"State",touched:s.billingState,options:U,defaultValue:U.find((function(e){if(e.value===i.billingState)return e})),value:U.find((function(e){if(e.value===i.billingState)return e})),onChange:function(e,t){null!==t&&(p("billingState",t.value),i.billingState=t.value)},onBlur:function(t,n){h("billingState",!0),i.billingAddressLine1&&i.billingCountry&&i.billingState&&i.billingCity&&i.billingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"billing"))},error:r.billingState})),g.a.createElement(q.a,{component:"div",name:"billingState",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,disabled:e.state.isDisabledBillingfield,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingCity"},"City ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingCity",name:"billingCity",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},disabled:e.state.isDisabledBillingfield,onChange:function(t){return e.addressFieldValidation(t,i,p)},onBlur:function(t){h("billingCity",!0,!0),i.billingAddressLine1&&i.billingCountry&&i.billingState&&i.billingCity&&i.billingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"billing"))},error:s.billingCity&&Boolean(r.billingCity),value:i.billingCity}),e.state.billingCity?g.a.createElement("div",{className:"text-danger"},e.state.billingCity):g.a.createElement(q.a,{component:"div",name:"billingCity",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,disabled:e.state.isDisabledBillingfield,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingZipCode"},"Zip ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{disabled:e.state.isDisabledBillingfield,name:"billingZipCode",id:"billingZipCode",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(e){($.test(e.target.value)||""===e.target.value)&&e.target.value.length<=5&&p("billingZipCode",e.target.value)},onBlur:function(t){h("billingZipCode",!0,!0),i.billingAddressLine1&&i.billingCountry&&i.billingState&&i.billingCity&&i.billingZipCode&&(a.validate(i),e.checkTaxDetails(i,!0,"billing"))},error:s.billingZipCode&&Boolean(r.billingZipCode),value:i.billingZipCode}),g.a.createElement(q.a,{component:"div",name:"billingZipCode",className:"text-danger"})))))),g.a.createElement("div",{className:"button-group text-right"},g.a.createElement(v.a,{variant:"contained",color:"primary",className:" btn-mui btn-red",id:"keepShopping","aria-label":"keep Shopping",onClick:function(){Object(A.b)(A.a.Action.ACTION_KEEP_SHOPPING,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),e.setState({activeStep:0},(function(){return e.props.history.push("/productlist")}))}},"Keep Shopping"),g.a.createElement(v.a,{type:"submit",disabled:!e.props.hasMinTotal||!f&&!1===e.state.billingSameAsShipping||e.state.submitDisabled||i.firstname.trim().length<2||i.lastname.trim().length<2||i.shippingFirstname.trim().length<2||i.shippingLastname.trim().length<2||i.billingFirstname.trim().length<2&&!1===e.state.billingSameAsShipping||i.billingLastname.trim().length<2&&!1===e.state.billingSameAsShipping||e.state.editContact||0===i.email.trim().length||!e.props.guestCheckout&&!e.props.emailValid||!e.validateEmail(i.email),variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"ContinueRegistration","aria-label":"Continue Registration"},"Continue"))))})),g.a.createElement(S.a,{open:this.state.addressModal,onClose:function(){return e.setState({isDisabledBillingfield:!1,addressModal:!1})},"aria-labelledby":"address-modal",disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:!1,classes:{paper:"modal-address",root:"modal-stack-top"}},g.a.createElement(V.a,{id:"address-modal"},"Relevant Address"),g.a.createElement(E.a,{dividers:!0,className:"modal-address-content"},g.a.createElement(R.a,{"aria-label":"Select Relevant Address",name:"SelectRelevantAddress",value:this.state.selectedAddress},this.state.addressVerifyData&&this.state.addressVerifyData.length>0?this.state.addressVerifyData.map((function(t,a){return e.getAdressLine(t.AddressKeyFormat,a)})):g.a.createElement("h3",null,"Address is not available!!"))),g.a.createElement(Z.a,{className:"modal-address-action"},g.a.createElement(v.a,{onClick:function(){return e.setState({isDisabledBillingfield:"billing"!==e.state.isAddress,selectedAddress:0,addressModal:!1})},variant:"contained",color:"primary",className:" btn-mui btn-red","aria-label":"Cancel"},"Cancel"),this.state.addressVerifyData&&this.state.addressVerifyData.length>0?g.a.createElement(v.a,{onClick:function(){return e.manageSuggestedAddress()},color:"primary",className:"btn-mui btn-yellow",id:"applyAddress","aria-label":"Apply Address"}," ","Apply"," "):"")))}}]),a}(g.a.Component),X=Object(h.b)((function(e){return{zipResponse:e.reducer.zipResponse,customerDetails:e.reducer.customerDetails}}),{actionZipcodeVerification:b.k})(Object(f.o)(Q)),ee=a(257),te=a(127),ae=a(38),ne=a.n(ae),ie=a(68),se=[{value:"US",label:"United States"}],re=/^[0-9\b]+$/,oe=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).zip=function(e,t){(re.test(e.target.value)||""===e.target.value)&&e.target.value.toString().length<=5&&t("shippingZip",e.target.value)},i.onContactChange=function(e,t){e.target.value.toString().length<=10&&t("contact",e.target.value)},i.handleZipFieldBlur=function(e,t,a){t(e),i.checkTaxDetails(a,"","shipping")},i.handleClose=function(){i.setState({ZipfailMessage:""}),document.getElementById("body").classList.remove("has-toast")},i.nameFieldValidation=function(e,t){i.setState(Object(D.a)({},e.target.id,""));if(/^[a-zA-Z '.]*$/.test(e.target.value))(e.target.value||""===e.target.value)&&(i.state.billingSameAsShipping&&("shippingFirstname"===e.target.id&&t("billingFirstname",e.target.value),"shippingLastname"===e.target.id&&t("billingLastname",e.target.value)),t([e.target.id],e.target.value));else{if("firstname"===e.target.id||"shippingFirstname"===e.target.id||"billingFirstname"===e.target.id){var a=e.target.id;i.setState(Object(D.a)({},e.target.id,"First Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},a,null),(function(){}))}),3e3)}))}else{var n=e.target.id;i.setState(Object(D.a)({},e.target.id,"Last Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},n,null),(function(){}))}),3e3)}))}""===e.target.value&&(t([e.target.id],e.target.value),i.setState(Object(D.a)({},e.target.id,"")))}},i.addressFieldValidation=function(e,t,a,n){i.setState(Object(D.a)({},e.target.id,""));if(/^[a-zA-Z0-9 '.#,/'-]*$/.test(e.target.value))(e.target.value||""===e.target.value)&&(i.state.billingSameAsShipping&&("shippingAddressline1"===e.target.id&&a("billingAddressLine1",e.target.value),"shippingAddressline2"===e.target.id&&a("billingAddressLine2",e.target.value),"shippingCity"===e.target.id&&a("billingCity",e.target.value)),"shippingAddressline1"===e.target.id&&(t.shippingAddressline1=e.target.value),"shippingCity"===e.target.id&&(t.shippingCity=e.value,i.checkTaxDetails(e,n,t,"shipping")),a([e.target.id],e.target.value));else{if("shippingAddressline1"===e.target.id||"billingAddressLine1"===e.target.id){var s=e.target.id;i.setState(Object(D.a)({},e.target.id,"Address Line 1 must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},s,null))}),3e3)}))}else if("shippingAddressline2"===e.target.id||"billingAddressLine2"===e.target.id){var r=e.target.id;i.setState(Object(D.a)({},e.target.id,"Address Line 2 must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},r,null))}),3e3)}))}else if("shippingCity"===e.target.id||"billingCity"===e.target.id){var o=e.target.id;i.setState(Object(D.a)({},e.target.id,"City must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},o,null))}),3e3)}))}""===e.target.value&&(a([e.target.id],e.target.value),i.setState(Object(D.a)({},e.target.id,"")))}},i.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},i.state={shippingFirstname:"",shippingLastname:"",shippingAddressline1:null,shippingAddressline2:"",shippingCity:"",intialAddress:i.props.intialAddress?i.props.intialAddress:{shippingState:JSON.parse(sessionStorage.getItem("formAddValues"))?JSON.parse(sessionStorage.getItem("formAddValues")).shippingState:"",shippingCity:JSON.parse(sessionStorage.getItem("formAddValues"))?JSON.parse(sessionStorage.getItem("formAddValues")).shippingCity:"",shippingFirstname:JSON.parse(sessionStorage.getItem("formAddValues"))?JSON.parse(sessionStorage.getItem("formAddValues")).shippingFirstname:"",shippingLastname:JSON.parse(sessionStorage.getItem("formAddValues"))?JSON.parse(sessionStorage.getItem("formAddValues")).shippingLastname:"",shippingAddressline1:JSON.parse(sessionStorage.getItem("formAddValues"))?JSON.parse(sessionStorage.getItem("formAddValues")).shippingAddressline1:"",shippingAddressline2:JSON.parse(sessionStorage.getItem("formAddValues"))?JSON.parse(sessionStorage.getItem("formAddValues")).shippingAddressline2:"",shippingZip:JSON.parse(sessionStorage.getItem("formAddValues"))&&JSON.parse(sessionStorage.getItem("formAddValues")).shippingZip.length>0?JSON.parse(sessionStorage.getItem("formAddValues")).shippingZip:sessionStorage.getItem("Zipcode"),shippingCountry:JSON.parse(sessionStorage.getItem("formAddValues"))?JSON.parse(sessionStorage.getItem("formAddValues")).shippingCountry:se[0].value,isPrimary:!1,isViewShipping:!1},isAddress:null,submitDisabled:!1,ZipfailMessage:sessionStorage.getItem("errorPaymentMsg"),addressVerifyData:[],selectedAddress:0,addressModal:!1,addrKey:0},i.nameFieldValidation.bind(Object(x.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.zipcodeValidData;t&&t.data&&!0===t.data.success&&!0===t.data.zipSuccess?C.a.isTaxFree?t.data.addressSuccess||t.data.candidateFound||t.data.addressErrorMessage&&this.setState({submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})):(sessionStorage.setItem("total",t.data.data.tax.netTotalAmount),sessionStorage.setItem("tax",t.data.data.tax.totalTaxAmount),!0===t.data.taxSuccess?setTimeout((function(){e.props.getTaxtLoader(!1,t)}),100):this.state.ZipfailMessage?t.data.addressSuccess||t.data.candidateFound||t.data.addressErrorMessage&&this.setState({submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})):(setTimeout((function(){e.props.getTaxtLoader(!1,t)}),100),this.setState({submitDisabled:!0,ZipfailMessage:t.data.taxErrorMessage}))):t&&t.data&&!this.state.ZipfailMessage&&(setTimeout((function(){e.props.getTaxtLoader(!1,null)}),100),this.setState({submitDisabled:!0,ZipfailMessage:t.data?t.data.zipErrorMessage:""}));sessionStorage.getItem("formAddValues")&&JSON.parse(sessionStorage.getItem("formAddValues"));"yes"==sessionStorage.getItem("shippingInvalid")&&this.setState({submitDisabled:!0}),this.state.intialAddress&&this.state.intialAddress.shippingAddressline1.length>0&&this.state.intialAddress.shippingCountry.length>0&&this.state.intialAddress.shippingState.length>0&&this.state.intialAddress.shippingCity.length>0&&5===this.state.intialAddress.shippingZip.length&&this.checkTaxDetails(this.state.intialAddress,!0,"shipping")}},{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"editRegistration",value:function(e){"shipping"===e?this.setState({editModeShipping:!this.state.editModeShipping}):this.setState({editModeBilling:!this.state.editModeBilling})}},{key:"getTaxRequest",value:function(e,t,a){var n=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[],i=e.shippingZip?e.shippingZip:null,s=e.shippingState?e.shippingState:null,r=e.shippingCity?e.shippingCity:null,o=e.shippingCountry?e.shippingCountry:null,l=e.shippingAddressline1?e.shippingAddressline1:null,c=e.shippingAddressline2?e.shippingAddressline2:null;"billing"==a&&(i=e.billingZipCode?e.billingZipCode:null,s=e.billingState?e.billingState:null,r=e.billingCity?e.billingCity:null,o=e.billingCountry?e.billingCountry:null,l=e.billingAddressLine1?e.billingAddressLine1:null,c=e.billingAddressLine2?e.billingAddressLine2:null);var d={};d.postalArea=i,d.stateOrProvinceName=s,this.props.getTaxtLoader(!0,null);var m=[];n&&n.length>0&&n.forEach((function(e){var t={};t.lineItemNumber=n.length,t.product={productClass:e.productClass?e.productClass:null,productID:e.productId?e.productId:null},t.quantity=e.quantity?parseInt(e.quantity):0,t.unitPrice=e.price?parseFloat(e.price):0,m.push(t)}));var u={};u.Region=(r||"")+(s?", "+s:"")+(i?", "+i:""),u.CountryCode=o||"",u.AddressLine=[(l||"")+" "+(c?e.shippingAddressline2:"")];var p={};return p.sourceLocationId=sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null,p.destination=d,p.Address=u,p.documentDate=new Date,p.lineItems=m,p.transactionType="SALE",p}},{key:"checkTaxDetails",value:function(e,t,a){var n=this;if(e.shippingZip&&"5"==e.shippingZip.length){var i=this.getTaxRequest(e,t,a);i.isAddress=!0,"billing"==a&&(i.isBillingAddress=!0);var s=C.a.orderTax;C.a.errorMsg;this.setState({submitDisabled:!0}),O.a.postMethod(s,i,!0).then((function(t){if(!0===t.data.success&&!0===t.data.zipSuccess){if(n.setState({ZipfailMessage:t.data.zipErrorMessage}),document.getElementById("body").classList.remove("has-toast"),t.data.addressSuccess||t.data.candidateFound){if("shipping"==a&&(sessionStorage.setItem("shippingInvalid","no"),n.setState({submitDisabled:!1})),t.data.candidateFound){t.data.zipcode=e.shippingZip,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t);var i=t.data.data&&t.data.data.address&&t.data.data.address.data&&t.data.data.address.data.XAVResponse?t.data.data.address.data.XAVResponse.Candidate:[],s=i;return Array.isArray(i)||(s=[i]),n.setState({addressVerifyData:s},(function(){return n.setState({isAddress:a||null,addressModal:!0})})),!1}}else if(t.data.addressErrorMessage)return t.data.zipcode=e.shippingZip,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t),n.setState({submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})),"shipping"==a&&(n.billingFieldDisable(e),sessionStorage.setItem("shippingInvalid","yes")),!1;t.data.taxFree?(n.setState({ZipfailMessage:t.data.taxErrorMessage}),t.data.taxErrorMessage&&n.setState({submitDisabled:!0}),t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t),setTimeout((function(){n.setState({ZipfailMessage:null})}),3e3)):!0===t.data.taxSuccess&&(t.data.zipcode=e.shippingZip,t.data.totalTaxAmount=t.data.data.tax?t.data.data.tax.totalTaxAmount:"",setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100))}else t.data.zipcode=e.shippingZip,t.data.totalTaxAmount=0,setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100),n.setState({submitDisabled:!0,ZipfailMessage:t.data.zipErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")}))})).catch((function(t){t.data&&(t.data.zipcode=e.shippingZip,t.data.totalTaxAmount=0),n.setState({ZipfailMessage:"Please check that your city, state and zip code match for your shipping address.",submitDisabled:!0},(function(){document.getElementById("body").classList.add("has-toast")})),n.props.getTaxtLoader(!1,t)}))}else this.setState({submitDisabled:!0})}},{key:"getAdressLine",value:function(e,t){var a=this,n="",i="",s="",r="",o=e.AddressLine?e.AddressLine:"";Array.isArray(e.AddressLine)&&(o=(e.AddressLine[0]?e.AddressLine[0]:"")+(e.AddressLine[1]?", "+e.AddressLine[1]:"")),e.CountryCode&&(s=e.CountryCode),e.PoliticalDivision1&&(i=e.PoliticalDivision1),e.PoliticalDivision2&&(n=e.PoliticalDivision2),e.PostcodePrimaryLow&&(r=e.PostcodePrimaryLow);var l=(o||"")+(n?" "+n:"")+(i?" "+i:"")+(s?", "+s:"")+(r?" "+r:"");return g.a.createElement(P.a,{onChange:function(e){return a.setState({selectedAddress:t})},value:t,key:"".concat("address1"+t),control:g.a.createElement(_.a,null),label:l})}},{key:"manageSuggestedAddress",value:function(){var e=this,t=this.state.addressVerifyData[this.state.selectedAddress]?this.state.addressVerifyData[this.state.selectedAddress].AddressKeyFormat:"",a=sessionStorage.getItem("formAddValues")?JSON.parse(sessionStorage.getItem("formAddValues")):{};"billing"!=this.state.isAddress&&(Array.isArray(t.AddressLine)?(a.shippingAddressline1=t.AddressLine[0],a.shippingAddressline2=t.AddressLine.length>1?t.AddressLine[1]:""):(a.shippingAddressline1=t.AddressLine,a.shippingAddressline2=""),a.shippingCountry=t.CountryCode?t.CountryCode:"",a.shippingState=t.PoliticalDivision1?t.PoliticalDivision1:"",a.shippingCity=t.PoliticalDivision2?t.PoliticalDivision2:"",a.shippingZip=t.PostcodePrimaryLow?t.PostcodePrimaryLow:""),(this.state.billingSameAsShipping||"billing"==this.state.isAddress)&&(Array.isArray(t.AddressLine)?(a.billingAddressLine1=t.AddressLine[0],a.billingAddressLine2=t.AddressLine.length>1?t.AddressLine[1]:""):(a.billingAddressLine1=t.AddressLine,a.billingAddressLine2=""),a.billingCountry=t.CountryCode?t.CountryCode:"",a.billingState=t.PoliticalDivision1?t.PoliticalDivision1:"",a.billingCity=t.PoliticalDivision2?t.PoliticalDivision2:"",a.billingZipCode=t.PostcodePrimaryLow?t.PostcodePrimaryLow:""),this.setState({intialAddress:a,selectedAddress:0,addrKey:this.state.addrKey+1,addressModal:!1},(function(){return e.checkTaxDetails(e.state.intialAddress,!0,e.state.isAddress)}))}},{key:"render",value:function(){var e=this,t=/\bP(ost|ostal)?([ \.]*(O|0)(ffice)?)?([ \.]*Box)\b/i;return g.a.createElement("div",null,g.a.createElement(q.c,{key:this.state.addrKey,initialValues:this.state.intialAddress,enableReinitialize:!0,validationSchema:z.object().shape({shippingAddressline1:z.string().trim().required("Address Line 1 is Required.").test("shippingAddressline1",C.a.poBoxErrorMsg.replace(/##ADDTYPE##/g,(function(){return"shipping"})),(function(e){return!t.test(e)})),shippingAddressline2:z.string().nullable().notRequired().test("shippingAddressline2",C.a.poBoxErrorMsg.replace(/##ADDTYPE##/g,(function(){return"shipping"})),(function(e){return!t.test(e)})),shippingFirstname:z.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters."),shippingLastname:z.string().trim().required("Last Name is required.").min(2,"Name must be at least 2 characters."),shippingZip:z.string().trim().matches(/^[0-9]{5}$/,"Zip code must be exactly 5 digits.").required("Zip is required"),shippingCountry:z.string().trim().required("Country is required."),shippingState:z.string().trim().required("State is required."),shippingCity:z.string().trim().required("City is required.")}),onSubmit:function(t){sessionStorage.setItem("formAddValues",JSON.stringify(t)),e.props.saveAddAddress(t)}},(function(a){var n=a.values,i=a.touched,s=a.errors,r=(a.handleChange,a.handleBlur),o=a.handleSubmit,l=a.setFieldValue,c=a.setFieldTouched;return g.a.createElement("form",{id:"startSubscriptionForm",name:"form1",onSubmit:o,onChange:sessionStorage.setItem("formAddValues",JSON.stringify(n))},g.a.createElement("div",{className:"checkout-content-body-inner full-view"},e.state.ZipfailMessage?g.a.createElement(m.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},g.a.createElement(u.a,{variant:"filled",onClose:e.handleClose,severity:"error"},e.state.ZipfailMessage)):"",g.a.createElement("fieldset",{className:"form-card"},g.a.createElement(d.a,{container:!0,spacing:0,justify:"space-between",alignItems:"center",className:"mb-15"},g.a.createElement(d.a,{item:!0},g.a.createElement("span",{className:"shipping-note"},"At this time, we are unable to ship to P.O. boxes."))),g.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingFirstname"},"First Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingFirstname",name:"shippingFirstname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameFieldValidation(t,l)},onBlur:r,error:i.shippingFirstname&&Boolean(s.shippingFirstname),value:n.shippingFirstname}),e.state.shippingFirstname?g.a.createElement("div",{className:"text-danger"},e.state.shippingFirstname):g.a.createElement(q.a,{component:"div",name:"shippingFirstname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingLastname"},"Last Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingLastname",name:"shippingLastname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameFieldValidation(t,l)},onBlur:r,error:i.shippingLastname&&Boolean(s.shippingLastname),value:n.shippingLastname}),e.state.shippingLastname?g.a.createElement("div",{className:"text-danger"},e.state.shippingLastname):g.a.createElement(q.a,{component:"div",name:"shippingLastname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingAddressline1"},"Address Line 1",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingAddressline1",name:"shippingAddressline1",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:n.shippingAddressline1,onChange:function(t){return e.addressFieldValidation(t,n,l)},onBlur:function(a){c("shippingAddressline1",!0),t.test(n.shippingAddressline1)||t.test(n.shippingAddressline2)||n.shippingAddressline1&&n.shippingCountry&&n.shippingState&&n.shippingCity&&n.shippingZip&&e.checkTaxDetails(n,!0,"shipping")},error:i.shippingAddressline1&&Boolean(s.shippingAddressline1)}),e.state.shippingAddressline1?g.a.createElement("div",{className:"text-danger"},e.state.shippingAddressline1):g.a.createElement(q.a,{component:"div",name:"shippingAddressline1",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingAddressline2"},"Address Line 2"),g.a.createElement(j.a,{id:"shippingAddressline2",name:"shippingAddressline2",value:n.shippingAddressline2,onChange:function(t){return e.addressFieldValidation(t,n,l)},onBlur:function(){c("shippingAddressline2",!0),t.test(n.shippingAddressline1)||t.test(n.shippingAddressline2)||n.shippingAddressline1&&n.shippingCountry&&n.shippingState&&n.shippingCity&&n.shippingZip&&e.checkTaxDetails(n,!0,"shipping")}}),e.state.shippingAddressline2?g.a.createElement("div",{className:"text-danger"},e.state.shippingAddressline2):g.a.createElement(q.a,{component:"div",name:"shippingAddressline2",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"shippingCountry"},g.a.createElement(G.a,{id:"shippingCountry",label:"Country",touched:i.shippingCountry,options:se,defaultValue:se.find((function(e){return e.value===n.shippingCountry})),value:se.find((function(e){return e.value===n.shippingCountry})),onChange:function(t,a){null!==a&&(l("shippingCountry",a.value),e.state.billingSameAsShipping&&l("billingCountry",a.value),n.shippingCountry=a.value)},onBlur:function(a,i){c("shippingCountry",!0),t.test(n.shippingAddressline1)||t.test(n.shippingAddressline2)||n.shippingAddressline1&&n.shippingCountry&&n.shippingState&&n.shippingCity&&n.shippingZip&&e.checkTaxDetails(n,!0,"shipping")},error:s.shippingCountry})),g.a.createElement(q.a,{component:"div",name:"shippingCountry",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"shippingState"},g.a.createElement(G.a,{id:"shippingState",label:"State",touched:i.shippingState,options:U,defaultValue:U.find((function(e){return e.value===n.shippingState})),value:U.find((function(e){return e.value===n.shippingState})),onChange:function(t,a){null!==a&&(l("shippingState",a.value),e.state.billingSameAsShipping&&l("billingState",a.value),n.shippingState=a.value)},onBlur:function(a,i){c("shippingState",!0),t.test(n.shippingAddressline1)||t.test(n.shippingAddressline2)||n.shippingAddressline1&&n.shippingCountry&&n.shippingState&&n.shippingCity&&n.shippingZip&&e.checkTaxDetails(n,!0,"shipping")},error:s.shippingState})),g.a.createElement(q.a,{component:"div",name:"shippingState",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingCity"},"City ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingCity",name:"shippingCity",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.addressFieldValidation(t,n,l,r)},onBlur:function(a){c("shippingCity",!0),t.test(n.shippingAddressline1)||t.test(n.shippingAddressline2)||n.shippingAddressline1&&n.shippingCountry&&n.shippingState&&n.shippingCity&&n.shippingZip&&e.checkTaxDetails(n,!0,"shipping")},error:i.shippingCity&&Boolean(s.shippingCity),value:n.shippingCity}),e.state.shippingCity?g.a.createElement("div",{className:"text-danger"},e.state.shippingCity):g.a.createElement(q.a,{component:"div",name:"shippingCity",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"shippingZip"},"Zip ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"shippingZip",name:"shippingZip",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},ref:function(t){e.nameInput=t},autoComplete:"new-password",onChange:function(t){return e.zip(t,l)},onBlur:function(a){c("shippingZip",!0),t.test(n.shippingAddressline1)||t.test(n.shippingAddressline2)||e.handleZipFieldBlur(a,r,n,!1)},error:i.shippingZip&&Boolean(s.shippingZip),value:n.shippingZip}),g.a.createElement(q.a,{component:"div",name:"shippingZip",className:"text-danger"}))))),g.a.createElement("div",{className:"button-group text-right"},g.a.createElement(v.a,{variant:"contained",color:"primary",className:" btn-mui btn-red",id:"cancelAddNewAddress","aria-label":"cancel Add New Address",onClick:function(){e.props.cancelAddAddress()}},"Cancel"),g.a.createElement(v.a,{type:"submit",disabled:e.state.submitDisabled||n.shippingFirstname.trim().length<2||n.shippingLastname.trim().length<2,variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"saveAddNewAddress","aria-label":"Save New Address"},"Save"))))})),g.a.createElement(S.a,{open:this.state.addressModal,onClose:function(){return e.setState({addressModal:!1})},"aria-labelledby":"address-modal",disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:!1,classes:{paper:"modal-address",root:"modal-stack-top"}},g.a.createElement(V.a,{id:"address-modal"},"Relevant Address"),g.a.createElement(E.a,{dividers:!0,className:"modal-address-content"},g.a.createElement(R.a,{"aria-label":"add new address",name:"addNewAddress",value:this.state.selectedAddress},this.state.addressVerifyData&&this.state.addressVerifyData.length>0?this.state.addressVerifyData.map((function(t,a){return e.getAdressLine(t.AddressKeyFormat,a)})):g.a.createElement("h3",null,"Address is not available!!"))),g.a.createElement(Z.a,{className:"modal-address-action"},g.a.createElement(v.a,{onClick:function(){return e.setState({sDisabledBillingfield:!1,selectedAddress:0,addressModal:!1,submitDisabled:!0})},variant:"contained",color:"primary",className:" btn-mui btn-red","aria-label":"Cancel"},"Cancel"),this.state.addressVerifyData&&this.state.addressVerifyData.length>0?g.a.createElement(v.a,{onClick:function(){return e.manageSuggestedAddress()},color:"primary",className:"btn-mui btn-yellow",id:"applyAddress","aria-label":"Apply Address"}," ","Apply"," "):"")))}}]),a}(g.a.Component),le=Object(h.b)((function(e){return{zipResponse:e.reducer.zipResponse}}),{actionZipcodeVerification:b.k})(Object(f.o)(oe)),ce=[{value:"US",label:"United States"}],de=/^[0-9\b]+$/,me=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).zip=function(e,t){(de.test(e.target.value)||""===e.target.value)&&e.target.value.toString().length<=5&&t("billingZipCode",e.target.value)},i.handleZipFieldBlur=function(e,t,a){t(e),i.checkTaxDetails(a,"","shipping")},i.handleClose=function(){i.setState({ZipfailMessage:""}),document.getElementById("body").classList.remove("has-toast")},i.nameFieldValidation=function(e,t){i.setState(Object(D.a)({},e.target.id,""));if(/^[a-zA-Z '.]*$/.test(e.target.value))(e.target.value||""===e.target.value)&&(i.state.billingSameAsShipping&&("billingFirstname"===e.target.id&&t("billingFirstname",e.target.value),"billingLastname"===e.target.id&&t("billingLastname",e.target.value)),t([e.target.id],e.target.value));else{if("firstname"===e.target.id||"billingFirstname"===e.target.id||"billingFirstname"===e.target.id){var a=e.target.id;i.setState(Object(D.a)({},e.target.id,"First Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},a,null),(function(){}))}),3e3)}))}else{var n=e.target.id;i.setState(Object(D.a)({},e.target.id,"Last Name must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},n,null),(function(){}))}),3e3)}))}""===e.target.value&&(t([e.target.id],e.target.value),i.setState(Object(D.a)({},e.target.id,"")))}},i.addressFieldValidation=function(e,t,a,n){i.setState(Object(D.a)({},e.target.id,""));if(/^[a-zA-Z0-9 '.#,/'-]*$/.test(e.target.value))(e.target.value||""===e.target.value)&&(i.state.billingSameAsShipping&&("billingAddressLine1"===e.target.id&&a("billingAddressLine1",e.target.value),"billingAddressLine2"===e.target.id&&a("billingAddressLine2",e.target.value),"billingCity"===e.target.id&&a("billingCity",e.target.value)),"billingAddressLine1"===e.target.id&&(t.billingAddressLine1=e.target.value),"billingCity"===e.target.id&&(t.billingCity=e.value,i.checkTaxDetails(e,n,t,!0)),a([e.target.id],e.target.value));else{if("billingAddressLine1"===e.target.id||"billingAddressLine1"===e.target.id){var s=e.target.id;i.setState(Object(D.a)({},e.target.id,"Address Line 1 must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},s,null))}),3e3)}))}else if("billingAddressLine2"===e.target.id||"billingAddressLine2"===e.target.id){var r=e.target.id;i.setState(Object(D.a)({},e.target.id,"Address Line 2 must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},r,null))}),3e3)}))}else if("billingCity"===e.target.id||"billingCity"===e.target.id){var o=e.target.id;i.setState(Object(D.a)({},e.target.id,"City must be only alphabets."),(function(){setTimeout((function(){i.setState(Object(D.a)({},o,null))}),3e3)}))}""===e.target.value&&(a([e.target.id],e.target.value),i.setState(Object(D.a)({},e.target.id,"")))}},i.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},i.state={billingFirstname:"",billingLastname:"",billingAddressLine1:null,billingAddressLine2:"",billingCity:"",intialAddress:i.props.intialAddress?Object(T.a)(Object(T.a)({},i.props.intialAddress),{},{billingFirstname:i.getFirstName(i.props.intialAddress.billingFirstname),billingLastname:i.getLastName(i.props.intialAddress.billingLastname)}):{billingState:JSON.parse(sessionStorage.getItem("formChangeValues"))?JSON.parse(sessionStorage.getItem("formChangeValues")).billingState:"",billingCity:JSON.parse(sessionStorage.getItem("formChangeValues"))?JSON.parse(sessionStorage.getItem("formChangeValues")).billingCity:"",billingFirstname:JSON.parse(sessionStorage.getItem("formChangeValues"))?JSON.parse(sessionStorage.getItem("formChangeValues")).billingFirstname:"",billingLastname:JSON.parse(sessionStorage.getItem("formChangeValues"))?JSON.parse(sessionStorage.getItem("formChangeValues")).billingLastname:"",billingAddressLine1:JSON.parse(sessionStorage.getItem("formChangeValues"))?JSON.parse(sessionStorage.getItem("formChangeValues")).billingAddressLine1:"",billingAddressLine2:JSON.parse(sessionStorage.getItem("formChangeValues"))?JSON.parse(sessionStorage.getItem("formChangeValues")).billingAddressLine2:"",billingZipCode:sessionStorage.getItem("Zipcode"),billingCountry:JSON.parse(sessionStorage.getItem("formChangeValues"))&&JSON.parse(sessionStorage.getItem("formChangeValues")).billingCountry.length>0?JSON.parse(sessionStorage.getItem("formChangeValues")).billingCountry:ce[0].value},isAddress:null,submitDisabled:!1,ZipfailMessage:sessionStorage.getItem("errorPaymentMsg"),addressVerifyData:[],selectedAddress:0,addressModal:!1,addrKey:0},i.nameFieldValidation.bind(Object(x.a)(i)),i}return Object(i.a)(a,[{key:"getLastName",value:function(e){if(e){var t=e.trim().split(" ");return t.length>1&&t.shift(),t.join(" ")}return""}},{key:"getFirstName",value:function(e){if(e){var t=e.trim().split(" ");if(t.length>=1)return t[0]}return""}},{key:"componentDidMount",value:function(){var e=this,t=this.props.zipcodeValidData;t&&t.data&&!0===t.data.success&&!0===t.data.zipSuccess?C.a.isTaxFree?t.data.addressSuccess||t.data.candidateFound||t.data.addressErrorMessage&&this.setState({submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})):(sessionStorage.setItem("total",t.data.data.tax.netTotalAmount),sessionStorage.setItem("tax",t.data.data.tax.totalTaxAmount),!0===t.data.taxSuccess?setTimeout((function(){e.props.getTaxtLoader(!1,t)}),100):this.state.ZipfailMessage?t.data.addressSuccess||t.data.candidateFound||t.data.addressErrorMessage&&this.setState({submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})):(setTimeout((function(){e.props.getTaxtLoader(!1,t)}),100),this.setState({submitDisabled:!0,ZipfailMessage:t.data.taxErrorMessage}))):t&&t.data&&!this.state.ZipfailMessage&&(setTimeout((function(){e.props.getTaxtLoader(!1,null)}),100),this.setState({submitDisabled:!0,ZipfailMessage:t.data?t.data.zipErrorMessage:""})),"yes"==sessionStorage.getItem("shippingInvalid")&&this.setState({submitDisabled:!0})}},{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("has-toast")}},{key:"getTaxRequest",value:function(e,t,a){var n=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[],i=e.billingZipCode?e.billingZipCode:null,s=e.billingState?e.billingState:null,r=e.billingCity?e.billingCity:null,o=e.billingCountry?e.billingCountry:null,l=e.billingAddressLine1?e.billingAddressLine1:null,c=e.billingAddressLine2?e.billingAddressLine2:null;"billing"==a&&(i=e.billingZipCodeCode?e.billingZipCodeCode:null,s=e.billingState?e.billingState:null,r=e.billingCity?e.billingCity:null,o=e.billingCountry?e.billingCountry:null,l=e.billingAddressLine1?e.billingAddressLine1:null,c=e.billingAddressLine2?e.billingAddressLine2:null);var d={};d.postalArea=i,d.stateOrProvinceName=s,this.props.getTaxtLoader(!0,null);var m=[];n&&n.length>0&&n.forEach((function(e){var t={};t.lineItemNumber=n.length,t.product={productClass:e.productClass?e.productClass:null,productID:e.productId?e.productId:null},t.quantity=e.quantity?parseInt(e.quantity):0,t.unitPrice=e.price?parseFloat(e.price):0,m.push(t)}));var u={};u.Region=(r||"")+(s?", "+s:"")+(i?", "+i:""),u.CountryCode=o||"",u.AddressLine=[(l||"")+" "+(c?e.billingAddressLine2:"")];var p={};return p.sourceLocationId=sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null,p.destination=d,p.Address=u,p.documentDate=new Date,p.lineItems=m,p.transactionType="SALE",p}},{key:"checkTaxDetails",value:function(e,t,a){var n=this;if(e.billingZipCode&&"5"==e.billingZipCode.length){var i=this.getTaxRequest(e,t,a);i.isAddress=!0,"billing"==a&&(i.isBillingAddress=!0);var s=C.a.orderTax;C.a.errorMsg;this.setState({submitDisabled:!0}),O.a.postMethod(s,i,!0).then((function(t){if(!0===t.data.success&&!0===t.data.zipSuccess){if(n.setState({ZipfailMessage:t.data.zipErrorMessage}),document.getElementById("body").classList.remove("has-toast"),t.data.addressSuccess||t.data.candidateFound){if("shipping"==a&&(sessionStorage.setItem("shippingInvalid","no"),n.setState({submitDisabled:!1})),t.data.candidateFound){t.data.zipcode=e.billingZipCode,sessionStorage.setItem("taxZipCode",e.shippingZip),t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t);var i=t.data.data&&t.data.data.address&&t.data.data.address.data&&t.data.data.address.data.XAVResponse?t.data.data.address.data.XAVResponse.Candidate:[],s=i;return Array.isArray(i)||(s=[i]),n.setState({addressVerifyData:s},(function(){return n.setState({isAddress:a||null,addressModal:!0})})),!1}}else if(t.data.addressErrorMessage)return t.data.zipcode=e.billingZipCode,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t),n.setState({submitDisabled:!0,ZipfailMessage:t.data.addressErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})),"billing"==a&&sessionStorage.setItem("billingInvalid","yes"),!1;t.data.taxFree?(n.setState({ZipfailMessage:t.data.taxErrorMessage}),t.data.taxErrorMessage&&n.setState({submitDisabled:!0}),t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t),setTimeout((function(){n.setState({ZipfailMessage:null})}),3e3)):!0===t.data.taxSuccess&&(Object(Y.b)(t),t.data.zipcode=e.billingZipCode,t.data.totalTaxAmount=t.data.data.tax?t.data.data.tax.totalTaxAmount:"",setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100))}else t.data.zipcode=e.billingZipCode,t.data.totalTaxAmount=0,setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100),n.setState({submitDisabled:!0,ZipfailMessage:t.data.zipErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")}))})).catch((function(t){t.data&&(t.data.zipcode=e.billingZipCode,t.data.totalTaxAmount=0),n.setState({ZipfailMessage:"Please check that your city, state and zip code match for your shipping address.",submitDisabled:!0},(function(){document.getElementById("body").classList.add("has-toast")})),n.props.getTaxtLoader(!1,t)}))}else this.setState({submitDisabled:!0})}},{key:"getAdressLine",value:function(e,t){var a=this,n="",i="",s="",r="",o=e.AddressLine?e.AddressLine:"";Array.isArray(e.AddressLine)&&(o=(e.AddressLine[0]?e.AddressLine[0]:"")+(e.AddressLine[1]?", "+e.AddressLine[1]:"")),e.CountryCode&&(s=e.CountryCode),e.PoliticalDivision1&&(i=e.PoliticalDivision1),e.PoliticalDivision2&&(n=e.PoliticalDivision2),e.PostcodePrimaryLow&&(r=e.PostcodePrimaryLow);var l=(o||"")+(n?" "+n:"")+(i?" "+i:"")+(s?", "+s:"")+(r?" "+r:"");return g.a.createElement(P.a,{onChange:function(e){return a.setState({selectedAddress:t})},value:t,key:"".concat("address1"+t),control:g.a.createElement(_.a,null),label:l})}},{key:"manageSuggestedAddress",value:function(){var e=this,t=this.state.addressVerifyData[this.state.selectedAddress]?this.state.addressVerifyData[this.state.selectedAddress].AddressKeyFormat:"",a=sessionStorage.getItem("formChangeValues")?JSON.parse(sessionStorage.getItem("formChangeValues")):{};"billing"!=this.state.isAddress&&(Array.isArray(t.AddressLine)?(a.billingAddressLine1=t.AddressLine[0],a.billingAddressLine2=t.AddressLine.length>1?t.AddressLine[1]:""):(a.billingAddressLine1=t.AddressLine,a.billingAddressLine2=""),a.billingCountry=t.CountryCode?t.CountryCode:"",a.billingState=t.PoliticalDivision1?t.PoliticalDivision1:"",a.billingCity=t.PoliticalDivision2?t.PoliticalDivision2:"",a.billingZipCode=t.PostcodePrimaryLow?t.PostcodePrimaryLow:""),(this.state.billingSameAsShipping||"billing"==this.state.isAddress)&&(Array.isArray(t.AddressLine)?(a.billingAddressLine1=t.AddressLine[0],a.billingAddressLine2=t.AddressLine.length>1?t.AddressLine[1]:""):(a.billingAddressLine1=t.AddressLine,a.billingAddressLine2=""),a.billingCountry=t.CountryCode?t.CountryCode:"",a.billingState=t.PoliticalDivision1?t.PoliticalDivision1:"",a.billingCity=t.PoliticalDivision2?t.PoliticalDivision2:"",a.billingZipCodeCode=t.PostcodePrimaryLow?t.PostcodePrimaryLow:""),this.setState({intialAddress:a,selectedAddress:0,addrKey:this.state.addrKey+1,addressModal:!1},(function(){return e.checkTaxDetails(e.state.intialAddress,!0,e.state.isAddress)}))}},{key:"render",value:function(){var e=this;return g.a.createElement("div",null,g.a.createElement(q.c,{key:this.state.addrKey,initialValues:this.state.intialAddress,enableReinitialize:!0,validationSchema:z.object().shape({billingAddressLine1:z.string().trim().required("Address Line 1 is Required."),billingAddressLine2:z.string().nullable().notRequired(),billingFirstname:z.string().trim().required("First Name is required.").min(2,"Name must be at least 2 characters."),billingLastname:z.string().trim().min(2,"Name must be at least 2 characters.").required("Last Name is required."),billingZipCode:z.string().trim().matches(/^[0-9]{5}$/,"Zip code must be exactly 5 digits.").required("Zip is required"),billingCountry:z.string().trim().required("Country is required."),billingState:z.string().trim().required("State is required."),billingCity:z.string().trim().required("City is required.")}),onSubmit:function(t){sessionStorage.setItem("formChangeValues",JSON.stringify(t)),e.props.saveBillingAddress(t)}},(function(t){var a=t.values,n=t.touched,i=t.errors,s=(t.handleChange,t.handleBlur),r=t.handleSubmit,o=t.setFieldValue,l=t.setFieldTouched;return g.a.createElement("form",{id:"startSubscriptionForm",name:"form1",onSubmit:r,onChange:sessionStorage.setItem("formChangeValues",JSON.stringify(a))},g.a.createElement("div",{className:"checkout-content-body-inner full-view"},e.state.ZipfailMessage?g.a.createElement(m.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},g.a.createElement(u.a,{variant:"filled",onClose:e.handleClose,severity:"error"},e.state.ZipfailMessage)):"",g.a.createElement("fieldset",{className:"form-card"},g.a.createElement(d.a,{container:!0,spacing:2,className:"form-card-container"},g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingFirstname"},"First Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingFirstname",name:"billingFirstname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameFieldValidation(t,o)},onBlur:s,error:n.billingFirstname&&Boolean(i.billingFirstname),value:a.billingFirstname}),e.state.billingFirstname?g.a.createElement("div",{className:"text-danger"},e.state.billingFirstname):g.a.createElement(q.a,{component:"div",name:"billingFirstname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingLastname"},"Last Name",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingLastname",name:"billingLastname",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.nameFieldValidation(t,o)},onBlur:s,error:n.billingLastname&&Boolean(i.billingLastname),value:a.billingLastname}),e.state.billingLastname?g.a.createElement("div",{className:"text-danger"},e.state.billingLastname):g.a.createElement(q.a,{component:"div",name:"billingLastname",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingAddressLine1"},"Address Line 1",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingAddressLine1",name:"billingAddressLine1",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},value:a.billingAddressLine1,onChange:function(t){return e.addressFieldValidation(t,a,o)},onBlur:function(t){l("billingAddressLine1",!0),a.billingAddressLine1&&a.billingCountry&&a.billingState&&a.billingCity&&a.billingZipCode&&e.checkTaxDetails(a,!0,"shipping")},error:n.billingAddressLine1&&Boolean(i.billingAddressLine1)}),e.state.billingAddressLine1?g.a.createElement("div",{className:"text-danger"},e.state.billingAddressLine1):g.a.createElement(q.a,{component:"div",name:"billingAddressLine1",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingAddressLine2"},"Address Line 2"),g.a.createElement(j.a,{id:"billingAddressLine2",name:"billingAddressLine2",value:a.billingAddressLine2,onChange:function(t){return e.addressFieldValidation(t,a,o)},onBlur:function(){l("billingAddressLine2",!0),a.billingAddressLine1&&a.billingCountry&&a.billingState&&a.billingCity&&a.billingZipCode&&e.checkTaxDetails(a,!0,"shipping")}}),e.state.billingAddressLine2?g.a.createElement("div",{className:"text-danger"},e.state.billingAddressLine2):g.a.createElement(q.a,{component:"div",name:"billingAddressLine2",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"billingCountry"},g.a.createElement(G.a,{id:"billingCountry",label:"Country",touched:n.billingCountry,options:ce,defaultValue:ce.find((function(e){if(e.value===a.billingCountry)return e})),value:ce.find((function(e){if(e.value===a.billingCountry)return e})),onChange:function(t,n){null!==n&&(o("billingCountry",n.value),e.state.billingSameAsShipping&&o("billingCountry",n.value),a.billingCountry=n.value)},onBlur:function(t,n){l("billingCountry",!0),a.billingAddressLine1&&a.billingCountry&&a.billingState&&a.billingCity&&a.billingZipCode&&e.checkTaxDetails(a,!0,"billing")},error:i.billingCountry})),g.a.createElement(q.a,{component:"div",name:"billingCountry",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement("label",{htmlFor:"billingState"},g.a.createElement(G.a,{id:"billingState",label:"State",touched:n.billingState,options:U,defaultValue:U.find((function(e){if(e.value===a.billingState)return e})),value:U.find((function(e){if(e.value===a.billingState)return e})),onChange:function(t,n){null!==n&&(o("billingState",n.value),e.state.billingSameAsShipping&&o("billingState",n.value),a.billingState=n.value)},onBlur:function(t,n){l("billingState",!0),a.billingAddressLine1&&a.billingCountry&&a.billingState&&a.billingCity&&a.billingZipCode&&e.checkTaxDetails(a,!0,"billing")},error:i.billingState})),g.a.createElement(q.a,{component:"div",name:"billingState",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingCity"},"City ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingCity",name:"billingCity",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},onChange:function(t){return e.addressFieldValidation(t,a,o,s)},onBlur:function(t){l("billingCity",!0),a.billingAddressLine1&&a.billingCountry&&a.billingState&&a.billingCity&&a.billingZipCode&&e.checkTaxDetails(a,!0,"shipping")},error:n.billingCity&&Boolean(i.billingCity),value:a.billingCity}),e.state.billingCity?g.a.createElement("div",{className:"text-danger"},e.state.billingCity):g.a.createElement(q.a,{component:"div",name:"billingCity",className:"text-danger"}))),g.a.createElement(d.a,{item:!0,xs:12,sm:6},g.a.createElement(M.a,{fullWidth:!0,className:"form-group",variant:"outlined"},g.a.createElement(F.a,{className:"form-label",htmlFor:"billingZipCode"},"Zip ",g.a.createElement("span",{className:"text-danger"},"*")),g.a.createElement(j.a,{id:"billingZipCode",name:"billingZipCode",inputProps:{"aria-required":"true",role:"alert","aria-invalid":"false"},ref:function(t){e.nameInput=t},autoComplete:"new-password",onChange:function(t){return e.zip(t,o)},onBlur:function(t){l("billingZipCode",!0),e.handleZipFieldBlur(t,s,a,!1)},error:n.billingZipCode&&Boolean(i.billingZipCode),value:a.billingZipCode}),g.a.createElement(q.a,{component:"div",name:"billingZipCode",className:"text-danger"}))))),g.a.createElement("div",{className:"button-group text-right"},g.a.createElement(v.a,{variant:"contained",color:"primary",className:" btn-mui btn-red",id:"CancelBillingAddress","aria-label":"Cancel Billing Address",onClick:function(){e.props.cancelChangeAddress()}},"Cancel"),g.a.createElement(v.a,{type:"submit",disabled:e.state.submitDisabled||a.billingFirstname.trim().length<2||a.billingLastname.trim().length<2,variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"SaveBillingAddress","aria-label":"Save Billing Address"},"Save"))))})),g.a.createElement(S.a,{open:this.state.addressModal,onClose:function(){return e.setState({addressModal:!1})},"aria-labelledby":"address-modal",disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:!1,classes:{paper:"modal-address",root:"modal-stack-top"}},g.a.createElement(V.a,{id:"address-modal"},"Relevant Address"),g.a.createElement(E.a,{dividers:!0,className:"modal-address-content"},g.a.createElement(R.a,{"aria-label":"Select Relevant Address",name:"SelectRelevantAddress",value:this.state.selectedAddress},this.state.addressVerifyData&&this.state.addressVerifyData.length>0?this.state.addressVerifyData.map((function(t,a){return e.getAdressLine(t.AddressKeyFormat,a)})):g.a.createElement("h3",null,"Address is not available!!"))),g.a.createElement(Z.a,{className:"modal-address-action"},g.a.createElement(v.a,{onClick:function(){return e.setState({sDisabledBillingfield:!1,selectedAddress:0,addressModal:!1})},variant:"contained",color:"primary",className:" btn-mui btn-red","aria-label":"Cancel"},"Cancel"),this.state.addressVerifyData&&this.state.addressVerifyData.length>0?g.a.createElement(v.a,{onClick:function(){return e.manageSuggestedAddress()},color:"primary",className:"btn-mui btn-yellow",id:"applyAddress","aria-label":"Apply Address"}," ","Apply"," "):"")))}}]),a}(g.a.Component),ue=Object(h.b)((function(e){return{zipResponse:e.reducer.zipResponse}}),{actionZipcodeVerification:b.k})(Object(f.o)(me)),pe=[{value:"US",label:"United States"}],ge=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;Object(n.a)(this,a),(i=t.call(this,e)).totalShippingAddress=0,i.componentDidMount=Object(ie.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.props.userInfo&&i.props.userInfo.accountContacts&&i.props.userInfo.accountContacts.length>0)){e.next=6;break}return e.next=3,i.getPrimaryAddress();case 3:i.primaryAddress=e.sent,i.onAddressChange(i.state.selectedShippingAddress,"SHIPPING_ADDRESS",!1),i.onAddressChange(i.state.selectedBillingAddress,"BILLING_ADDRESS",!1);case 6:localStorage.getItem("accessToken")&&null===sessionStorage.getItem("taxZipCode")&&(t=i.state.accountAddress.filter((function(e){return!0===e.primaryAddr})),sessionStorage.setItem("taxZipCode",t[0].zip)),i.checkTaxDetails(i.state.intialAddress,!0,"shipping",!1);case 9:case"end":return e.stop()}}),e)}))),i.prepareData=function(e){var t=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[],a=e.zip,n=e.state,s=e.city,r=e.country,o=e.addressLine1,l=e.addressLine2,c={};c.postalArea=a,c.stateOrProvinceName=n,i.props.getTaxtLoader(!0,null);var d=[];t&&t.length>0&&t.forEach((function(e){var a={};a.lineItemNumber=t.length,a.product={productClass:e.productClass?e.productClass:null,productID:e.productId?e.productId:null},a.quantity=e.quantity?parseInt(e.quantity):0,a.unitPrice=e.price?parseFloat(e.price):0,d.push(a)}));var m={};m.Region=(s||"")+(n?", "+n:"")+(a?", "+a:""),m.CountryCode=r||"",m.AddressLine=[(o||"")+" "+(l||"")];var u={};return u.destination=c,u.Address=m,u.documentDate=new Date,u.lineItems=d,u.transactionType="SALE",u.sourceLocationId=sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null,u},i.changeShippingAddress=function(){i.setState({editShipping:!i.state.editShipping,editContact:!1,changeBillingAddress:!1});var e=i.state.selectedShippingAddress,t=i.prepareData(i.state.accountAddress[e]);i.setState({changesShippingAddress:t}),i.checkTaxDetails(i.state.intialAddress,t,"shipping",!0)},i.componentDidUpdate=function(){var e=Object(ie.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.userInfo!==i.props.userInfo&&i.setState({accountAddress:null!==i.props.userInfo&&null!==i.props.userInfo.accountAddresses?i.props.userInfo.accountAddresses:[]},Object(ie.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.props.userInfo&&i.props.userInfo.accountContacts&&i.props.userInfo.accountContacts.length>0)){e.next=6;break}return e.next=3,i.getPrimaryAddress();case 3:i.primaryAddress=e.sent,i.onAddressChange(i.state.selectedShippingAddress,"SHIPPING_ADDRESS",!1),i.onAddressChange(i.state.selectedBillingAddress,"BILLING_ADDRESS",!1);case 6:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.getPrimaryAddress=function(){var e=-1,t=-1,a=i.state.accountAddress?i.state.accountAddress.filter((function(a,n){if("SHIPPING_ADDRESS"===a.addressType)if(a.primaryAddr)e=n;else if(a.id===sessionStorage.getItem("selectedShippingAddress"))return t=a.id,i.setState({selectedShippingAddress:n,selectedBillingAddress:!i.state.changedAddress||i.state.billingSameAsShipping?n:-1}),a})).shift():void 0;(i.state.accountAddress&&void 0===a&&-1!==e&&(-1===t||i.state.selectedShippingAddress<i.state.accountAddress.length)&&(a=i.state.accountAddress[e],i.setState({selectedShippingAddress:e,selectedBillingAddress:!i.state.changedAddress||i.state.billingSameAsShipping?e:-1})),void 0===a&&i.state.accountAddress&&i.state.accountAddress.length>0&&(a=i.state.accountAddress?i.state.accountAddress.filter((function(e,t){if("SHIPPING_ADDRESS"===e.addressType)return i.setState({selectedShippingAddress:t,selectedBillingAddress:!i.state.changedAddress||i.state.billingSameAsShipping?t:-1}),e})).shift():void 0),i.state.accountAddress&&i.state.accountAddress.length>0&&!i.state.billingSameAsShipping)&&(void 0===(i.state.accountAddress?i.state.accountAddress.filter((function(e,t){if("BILLING_ADDRESS"===e.addressType)return i.setState({selectedBillingAddress:!i.state.changedAddress||i.state.billingSameAsShipping?t:-1}),e})).shift():void 0)&&i.setState({selectedBillingAddress:-1}));return a},i.getAllAddress=function(e){"SHIPPING_ADDRESS"===e&&(i.totalShippingAddress=0);var t=0;return i.state.accountAddress?g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement(R.a,{"aria-label":"Select another address to ship",name:"SelectAnotherAddressToShip",className:"radio-group-shipping",defaultValue:"SHIPPING_ADDRESS"===e?i.state.selectedShippingAddress:i.state.selectedBillingAddress,value:"SHIPPING_ADDRESS"===e?i.state.selectedShippingAddress:i.state.selectedBillingAddress},i.state.accountAddress.map((function(a,n){return a.addressType===e?(t++,"SHIPPING_ADDRESS"===e&&i.totalShippingAddress++,g.a.createElement(d.a,{key:a.id},1!==t&&"SHIPPING_ADDRESS"===e&&g.a.createElement("hr",null),g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper"},g.a.createElement(P.a,{onChange:function(t){i.onAddressChange(n,e,!0)},value:n,key:"".concat(e+n),control:g.a.createElement(_.a,null),label:g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"key full"},a.name),g.a.createElement("div",{className:"value full"},i.getAddress(a)))})))):g.a.createElement("div",{key:a.id})})))):void 0},i.onAddNewAddress=function(){return g.a.createElement(le,{cancelAddAddress:function(){return i.cancelAddAddress()},saveAddAddress:function(e){return i.createShippingAddress(e)},getTaxtLoader:function(e,t){return i.props.getTaxtLoader(e,t)}})},i.onChangeBillingAddress=function(){return g.a.createElement(ue,{intialAddress:i.state.intialAddress,cancelChangeAddress:function(){return i.cancelChangeAddress()},saveBillingAddress:function(e){return i.createBillingAddress(e)},getTaxtLoader:function(e,t){return i.props.getTaxtLoader(e,t)}})},i.createShippingAddress=function(e){var t={customer:{id:i.props.userInfo.id},shipping:e};Object(A.b)(A.a.Action.ACTION_ADD_SHIPPING_ADDRESS,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{shippingData:t}),O.a.postMethod(C.a.CreateAddress,t,!0).then((function(e){e.data&&e.data.success?(sessionStorage.removeItem("formAddValues"),i.props.getCustomer(),i.setState({addNewAddress:!1,isError:!1,errorMessage:""})):i.setState({isError:!0,errorMessage:C.a.errorMsg})})).catch((function(e){i.setState({isError:!0,errorMessage:C.a.errorMsg})}))},i.getBillingAddress=function(){return i.state.accountAddress.map((function(e){if("BILLING_ADDRESS"===e.addressType)return e})),null},i.createBillingAddress=function(e){var t=0;if(i.state.accountAddress.map((function(e){"BILLING_ADDRESS"===e.addressType&&t++})),0===t){var a={customer:{id:i.props.userInfo.id},billing:{billingAddressline1:e.billingAddressLine1,billingAddressline2:e.billingAddressLine2,billingCity:e.billingCity,billingCountry:e.billingCountry,billingFirstname:e.billingFirstname,billingLastname:e.billingLastname,billingSameAsShipping:e.billingSameAsShipping,billingState:e.billingState,billingZip:e.billingZipCode}};Object(A.b)(A.a.Action.ACTION_ADD_BILLING_ADDRESS,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{billingData:a}),O.a.postMethod(C.a.CreateAddress,a,!0).then((function(e){e.data&&e.data.success?(sessionStorage.removeItem("formChangeValues"),i.props.getCustomer(),i.setState({changeBillingAddress:!1,isError:!1,errorMessage:""})):i.setState({isError:!0,errorMessage:C.a.errorMsg})})).catch((function(e){i.setState({isError:!0,errorMessage:C.a.errorMsg})})).finally((function(){i.saveBillingAddress(e)}))}else i.saveBillingAddress(e)},i.onAddressChange=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(-1!==e){var n="";if(a)n=i.state.accountAddress[e];else{var s=sessionStorage.getItem("selectedShippingAddress");if(null===s)n=i.state.accountAddress[e];else{var r=i.state.accountAddress.filter((function(e){return e.id===s}));n=r[0]}}var o=i.state.accountAddress[e],l=Object(T.a)({},i.state.intialAddress);"SHIPPING_ADDRESS"===t&&(l={shippingFirstname:o.name,shippingLastname:o.name,shippingAddressLine1:o.addressLine1,shippingAddressLine2:o.addressLine2,shippingCity:o.city,shippingState:o.state,shippingCountry:o.country,shippingZipCode:o.zip}),(i.state.billingSameAsShipping||"BILLING_ADDRESS"===t)&&(l=Object(T.a)(Object(T.a)({},l),{},{billingFirstname:o.name,billingLastname:o.name,billingAddressLine1:o.addressLine1,billingAddressLine2:o.addressLine2,billingCity:o.city,billingState:o.state,billingCountry:o.country,billingZipCode:o.zip}));var c,d,m,u,p,g,h=!1,f="";if(null!==o)0===(null===o||void 0===o||null===(c=o.name)||void 0===c?void 0:c.length)?f="Address name is missing, please update your address from profile section":0===(null===o||void 0===o||null===(d=o.addresLine1)||void 0===d?void 0:d.length)?f="Address address is missing, please update your address from profile section":0===(null===o||void 0===o||null===(m=o.city)||void 0===m?void 0:m.length)?f="Address city is missing, please update your address from profile section":0===(null===o||void 0===o||null===(u=o.state)||void 0===u?void 0:u.length)?f="Address state is missing, please update your address from profile section":0===(null===o||void 0===o||null===(p=o.country)||void 0===p?void 0:p.length)?f="Address country is missing, please update your address from profile section":0===(null===o||void 0===o||null===(g=o.zip)||void 0===g?void 0:g.length)&&(f="Address zipcode is missing, please update your address from profile section"),f.length>0&&(h=!0);var b="SHIPPING_ADDRESS"===t?e:i.state.selectedShippingAddress;sessionStorage.setItem("selectedShippingAddress",n.id),i.setState({selectedShippingAddress:b,selectedBillingAddress:i.state.billingSameAsShipping||"BILLING_ADDRESS"===t?e:i.state.selectedBillingAddress,intialAddress:Object(T.a)(Object(T.a)({},i.state.intialAddress),l),isError:h,errorMessage:f})}},i.getAddress=function(e){var t="";return t+=e&&e.addressLine1?e.addressLine1+", ":"",t+=e&&e.addressLine2?e.addressLine2+", ":"",t+=e&&e.city?e.city+", ":"",t+=e&&e.state?e.state+", ":"",t+=e&&e.zip?e.zip:""},i.getInitialShippingAddress=function(e){var t="";return t+=e&&e.shippingAddressLine1?e.shippingAddressLine1+", ":"",t+=e&&e.shippingAddressLine2?e.shippingAddressLine2+", ":"",t+=e&&e.shippingCity?e.shippingCity+", ":"",t+=e&&e.shippingState?e.shippingState+", ":"",t+=e&&e.shippingZipCode?e.shippingZipCode:""},i.getInitialBillingAddress=function(e){var t="";return t+=e&&e.billingAddressLine1?e.billingAddressLine1+", ":"",t+=e&&e.billingAddressLine2?e.billingAddressLine2+", ":"",t+=e&&e.billingCity?e.billingCity+", ":"",t+=e&&e.billingState?e.billingState+", ":"",t+=e&&e.billingZipCode?e.billingZipCode:""},i.cancelAddAddress=function(){sessionStorage.removeItem("formAddValues"),i.setState({addNewAddress:!1})},i.saveAddAddress=function(e){i.createAddress(e)},i.cancelChangeAddress=function(){if(i.state.changedAddress){var e=i.state.intialAddress,t={billingFirstname:i.getFirstName(e.billingFirstname),billingLastname:i.getLastName(e.billingLastname),billingAddressLine1:e.billingAddressLine1,billingAddressLine2:e.billingAddressLine2,billingCity:e.billingCity,billingState:e.billingState,billingCountry:e.billingCountry,billingZipCode:e.billingZipCode};sessionStorage.setItem("formChangeValues",JSON.stringify(t))}else sessionStorage.removeItem("formChangeValues");i.setState({changeBillingAddress:!1})},i.saveBillingAddress=function(e){if(i.state.billingSameAsShipping)i.setState({changedAddress:!0,changeBillingAddress:!1});else{var t=Object(T.a)({},i.state.intialAddress);t=Object(T.a)(Object(T.a)({},t),{},{billingFirstname:e.billingFirstname+" "+e.billingLastname,billingLastname:e.billingFirstname+" "+e.billingLastname,billingAddressLine1:e.billingAddressLine1,billingAddressLine2:e.billingAddressLine2,billingCity:e.billingCity,billingState:e.billingState,billingCountry:e.billingCountry,billingZipCode:e.billingZipCode}),i.setState({intialAddress:Object(T.a)(Object(T.a)({},i.state.intialAddress),t),changedAddress:!0,changeBillingAddress:!1},(function(){sessionStorage.setItem("regData",JSON.stringify(i.state.intialAddress))}))}},i.onCheckChange=function(e){var t=Object(T.a)({},i.state.intialAddress),a=0;if(e)a=i.state.selectedShippingAddress,t=Object(T.a)(Object(T.a)({},t),{},{billingFirstname:t.shippingFirstname,billingLastname:t.shippingLastname,billingAddressLine1:t.shippingAddressLine1,billingAddressLine2:t.shippingAddressLine2,billingCity:t.shippingCity,billingState:t.shippingState,billingCountry:t.shippingCountry,billingZipCode:t.shippingZipCode,billingSameAsShipping:e});else if(i.state.changedAddress&&null!==sessionStorage.getItem("formChangeValues")){a=-1,(n=JSON.parse(sessionStorage.getItem("formChangeValues")))&&null!==n&&(t=Object(T.a)(Object(T.a)({},t),{},{billingFirstname:n.billingFirstname+" "+n.billingLastname,billingLastname:n.billingFirstname+" "+n.billingLastname,billingAddressLine1:n.billingAddressLine1,billingAddressLine2:n.billingAddressLine2,billingCity:n.billingCity,billingState:n.billingState,billingCountry:n.billingCountry,billingZipCode:n.billingZipCode,billingSameAsShipping:e}))}else{var n;a=-1,t=(n=i.state.accountAddress.filter((function(e,t){if("BILLING_ADDRESS"===e.addressType)return a=t,e})).shift())&&null!==n?Object(T.a)(Object(T.a)({},t),{},{billingFirstname:n.name,billingLastname:n.name,billingAddressLine1:n.addressLine1,billingAddressLine2:n.addressLine2,billingCity:n.city,billingState:n.state,billingCountry:n.country,billingZipCode:n.zip,billingSameAsShipping:e}):Object(T.a)(Object(T.a)({},t),{},{billingFirstname:"",billingLastname:"",billingAddressLine1:"",billingAddressLine2:"",billingCity:"",billingState:"",billingCountry:pe[0].value,billingZipCode:"",billingSameAsShipping:e})}i.setState({billingSameAsShipping:e,intialAddress:Object(T.a)(Object(T.a)({},i.state.intialAddress),t),selectedBillingAddress:a},(function(){sessionStorage.setItem("billingSameAsShipping",e)}))},i.handleClose=function(){i.setState({errorMessage:"",isError:!1}),document.getElementById("body").classList.remove("has-toast")},null!==sessionStorage.getItem("checkoutMode")&&"Guest"===sessionStorage.getItem("checkoutMode")&&(sessionStorage.removeItem("billingSameAsShipping"),sessionStorage.setItem("checkoutMode","Login"));var s=i.props.userInfo.accountContacts;return i.primaryAddress=void 0,i.addressBilling=null!==sessionStorage.getItem("formChangeValues")?JSON.parse(sessionStorage.getItem("formChangeValues")):null,i.state={changedAddress:null!==sessionStorage.getItem("formChangeValues"),accountAddress:null!==i.props.userInfo&&null!==i.props.userInfo.accountAddresses?i.props.userInfo.accountAddresses:[],editContact:!1,addNewAddress:null===i.props.userInfo||null===i.props.userInfo.accountAddresses||0===i.props.userInfo.accountAddresses.length,changeBillingAddress:!1,isError:!1,errorMessage:"",selectedShippingAddress:-1,selectedBillingAddress:-1,editShipping:!1,changesShippingAddress:"",billingSameAsShipping:!!JSON.parse(sessionStorage.getItem("billingSameAsShipping"))&&JSON.parse(sessionStorage.getItem("billingSameAsShipping")),intialAddress:{guestCheckout:i.props.guestCheckout,firstname:s&&s.length>0?s[0].firstName:"",lastname:s&&s.length>0?s[0].lastName:"",email:s&&s.length>0?s[0].email:"",contact:s&&s.length>0?s[0].phone:"",billingSameAsShipping:!!JSON.parse(sessionStorage.getItem("billingSameAsShipping"))&&JSON.parse(sessionStorage.getItem("billingSameAsShipping")),shippingFirstname:"",shippingLastname:"",shippingAddressLine1:"",shippingAddressLine2:"",shippingCity:"",shippingState:"",shippingCountry:pe[0].value,shippingZipCode:"",billingFirstname:null!==i.addressBilling?i.addressBilling.billingFirstname+" "+i.addressBilling.billingLastname:"",billingLastname:null!==i.addressBilling?i.addressBilling.billingFirstname+" "+i.addressBilling.billingLastname:"",billingAddressLine1:null!==i.addressBilling?i.addressBilling.billingAddressLine1:"",billingAddressLine2:null!==i.addressBilling?i.addressBilling.billingAddressLine2:"",billingCity:null!==i.addressBilling?i.addressBilling.billingCity:"",billingState:null!==i.addressBilling?i.addressBilling.billingState:"",billingCountry:null!==i.addressBilling?i.addressBilling.billingCountry:pe[0].value,billingZipCode:null!==i.addressBilling?i.addressBilling.billingZipCode:""}},i}return Object(i.a)(a,[{key:"checkTaxDetails",value:function(e,t,a){var n=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.shippingZipCode&&"5"==e.shippingZipCode.length){if(i)var s=t;else s=this.getTaxRequest(e,t,a);s.isAddress=!0,"billing"==a&&(s.isBillingAddress=!0);var r=C.a.orderTax;C.a.errorMsg;this.setState({submitDisabled:!0,isDataFilled:!0}),O.a.postMethod(r,s,!0).then((function(t){!0===t.data.success&&!0===t.data.zipSuccess?(n.setState({ZipfailMessage:t.data.zipErrorMessage}),document.getElementById("body").classList.remove("has-toast"),i&&sessionStorage.setItem("taxZipCode",e.shippingZipCode),t.data.taxFree?(n.setState({ZipfailMessage:t.data.taxErrorMessage}),t.data.taxErrorMessage&&n.setState({submitDisabled:!0}),t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,n.props.getTaxtLoader(!1,t),setTimeout((function(){n.setState({ZipfailMessage:null})}),3e3)):!0===t.data.taxSuccess&&(Object(Y.b)(t),t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=t.data.data.tax?t.data.data.tax.totalTaxAmount:"",setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100))):(t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,setTimeout((function(){n.props.getTaxtLoader(!1,t)}),100),n.setState({isDisabledBillingfield:!0,submitDisabled:!0,ZipfailMessage:t.data.zipErrorMessage},(function(){document.getElementById("body").classList.add("has-toast")})))})).catch((function(t){t.data.zipcode=e.shippingZipCode,t.data.totalTaxAmount=0,n.setState({ZipfailMessage:"Something went to wrong on response!!",submitDisabled:!0},(function(){document.getElementById("body").classList.add("has-toast")})),n.props.getTaxtLoader(!1,t)}))}else this.setState({submitDisabled:!0})}},{key:"getTaxRequest",value:function(e,t,a){var n=sessionStorage.getItem("cartItems")?JSON.parse(sessionStorage.getItem("cartItems")):[],i=e.shippingZipCode?e.shippingZipCode:null,s=e.shippingState?e.shippingState:null,r=e.shippingCity?e.shippingCity:null,o=e.shippingCountry?e.shippingCountry:null,l=e.shippingAddressLine1?e.shippingAddressLine1:null,c=e.shippingAddressLine2?e.shippingAddressLine2:null;"billing"==a&&(i=e.billingZipCode?e.billingZipCode:null,s=e.billingState?e.billingState:null,r=e.billingCity?e.billingCity:null,o=e.billingCountry?e.billingCountry:null,l=e.billingAddressLine1?e.billingAddressLine1:null,c=e.billingAddressLine2?e.billingAddressLine2:null);var d={};d.postalArea=i,d.stateOrProvinceName=s,this.props.getTaxtLoader(!0,null);var m=[];n&&n.length>0&&n.forEach((function(e){var t={};t.lineItemNumber=n.length,t.product={productClass:e.productClass?e.productClass:null,productID:e.productId?e.productId:null},t.quantity=e.quantity?parseInt(e.quantity):0,t.unitPrice=e.price?parseFloat(e.price):0,m.push(t)}));var u={};u.Region=(r||"")+(s?", "+s:"")+(i?", "+i:""),u.CountryCode=o||"",u.AddressLine=[(l||"")+" "+(c?e.shippingAddressLine2:"")];var p={};return p.destination=d,p.Address=u,p.documentDate=new Date,p.lineItems=m,p.transactionType="SALE",p.sourceLocationId=sessionStorage.getItem("_lo_No")?sessionStorage.getItem("_lo_No"):null,p}},{key:"componentWillUnmount",value:function(){this.state.changedAddress||sessionStorage.removeItem("formChangeValues")}},{key:"getShippingAddressDetail",value:function(e){return g.a.createElement(g.a.Fragment,null,g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper view-only"},g.a.createElement("div",{className:"key full"},e.shippingFirstname)),g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper view-only"},g.a.createElement("div",{className:"value full"},this.getInitialShippingAddress(e))))}},{key:"getBillingAddressDetail",value:function(e){return g.a.createElement(g.a.Fragment,null,g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper view-only"},g.a.createElement("div",{className:"key full"},e.billingFirstname)),g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper view-only"},g.a.createElement("div",{className:"value full"},this.getInitialBillingAddress(e))))}},{key:"getLastName",value:function(e){if(e){var t=e.trim().split(" ");return t.length>1&&t.shift(),t.join(" ")}return""}},{key:"getFirstName",value:function(e){if(e){var t=e.trim().split(" ");if(t.length>=1)return t[0]}return""}},{key:"render",value:function(){var e,t=this;return g.a.createElement("div",{className:"checkout-view"},g.a.createElement("h2",null,"Checkout information"),this.state.isError&&this.state.errorMessage.length>0?g.a.createElement(m.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},g.a.createElement(u.a,{variant:"filled",onClose:this.handleClose,severity:"error"},this.state.errorMessage)):"",g.a.createElement(J,{fromRegister:!1,editContact:this.state.editContact,intialAddress:this.state.intialAddress,userInfo:this.props.userInfo,createCustomer:this.props.createCustomer,updateIntialAddress:function(e){return t.setState({intialAddress:e})},updateEditFields:function(){return t.setState({editContact:!0,editShipping:!1,changeBillingAddress:!1})},updateEditContact:function(){return t.setState({editContact:!1})}}),g.a.createElement("div",{className:"checkout-content-body"},g.a.createElement("div",{className:"checkout-content-body-inner"},g.a.createElement("div",{className:"form-card"},g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper userinfo-wrapper-head"},g.a.createElement(d.a,{item:!0,xs:!0,container:!0},g.a.createElement("h3",null,"Shipping Address")),!this.state.editShipping&&g.a.createElement(d.a,{item:!0},g.a.createElement(v.a,{variant:"contained",color:"primary",className:"btn-link",id:"changeShipping","aria-label":"change Shipping Address",onClick:function(){t.setState({editShipping:!t.state.editShipping,editContact:!1,changeBillingAddress:!1})}},"Change"))),g.a.createElement(d.a,{container:!0,spacing:0,className:"form-card-container"},this.state.editShipping?g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement("div",{className:"val"},"Select another address to ship"),this.getAllAddress("SHIPPING_ADDRESS")):this.getShippingAddressDetail(this.state.intialAddress),this.state.editShipping&&g.a.createElement(d.a,{item:!0,xs:12,sm:12},g.a.createElement("div",{className:"text-right"},g.a.createElement(v.a,{variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"changeShipping","aria-label":"change Shipping Address",onClick:function(){t.changeShippingAddress(),t.setState({editShipping:!t.state.editShipping,editContact:!1,changeBillingAddress:!1})}},"Save"))),(!this.primaryAddress||null===(null===(e=this.primaryAddress)||void 0===e?void 0:e.addresLine1)||this.state.editShipping)&&g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper"},this.state.addNewAddress?this.onAddNewAddress():g.a.createElement(v.a,{variant:"contained",color:"primary",className:"btn-link",id:"addNewAddress","aria-label":"Add a New Address",onClick:function(e){e.preventDefault(),t.totalShippingAddress>=(t.props.shippingMessage&&t.props.shippingMessage.maxShippingAddress&&t.props.shippingMessage.maxShippingAddress.length>0?t.props.shippingMessage.maxShippingAddress:5)?t.setState({errorMessage:t.props.shippingMessage&&t.props.shippingMessage.shippingLimitMessage&&t.props.shippingMessage.shippingLimitMessage.length>0?t.props.shippingMessage.shippingLimitMessage:"Maximum 5 shipping addresses. Please update an existing address.",isError:!0},(function(){document.getElementById("body").classList.add("has-toast"),setTimeout((function(){t.setState({errorMessage:"",isError:!1},(function(){return document.getElementById("body").classList.remove("has-toast")}))}),5e3)})):t.setState({addNewAddress:!0})}},"Add a New Address"))),g.a.createElement(d.a,{container:!0,spacing:0,justify:"space-between",alignItems:"center",className:"mb-15"}),g.a.createElement(d.a,{container:!0,spacing:0,justify:"space-between",alignItems:"center",className:"mb-15"}),g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper userinfo-wrapper-head"},g.a.createElement(d.a,{item:!0,xs:!0,container:!0},g.a.createElement("h3",null,"Billing Address")),!this.state.changeBillingAddress&&g.a.createElement(d.a,{item:!0},g.a.createElement(v.a,{variant:"contained",color:"primary",className:"btn-link",id:"changeBilling","aria-label":"Change Billing Address",onClick:function(){t.setState({changeBillingAddress:!0,editContact:!1,editShipping:!1})}},"Change"))),g.a.createElement(d.a,{container:!0,spacing:0,className:"form-card-container has-billing"},!this.state.changeBillingAddress&&g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper"},g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"grid-checkbox"},g.a.createElement(P.a,{className:"rememberCheck",style:{marginBottom:"0px"},htmlFor:"isBilling",control:g.a.createElement(B.a,{className:"checkBx",id:"isBilling",name:"isBilling",checked:this.state.billingSameAsShipping,disabled:this.state.isDisabledBillingfield,color:"primary",onChange:function(e){return t.onCheckChange(e.target.checked)}}),label:"Billing Information same as Shipping information"}))),this.state.changeBillingAddress?g.a.createElement(d.a,{item:!0,xs:12,sm:12,className:"userinfo-wrapper"},this.onChangeBillingAddress()):!this.state.billingSameAsShipping&&this.getBillingAddressDetail(this.state.intialAddress))))),g.a.createElement("div",{className:"button-group text-center"},g.a.createElement("a",{className:"btn-mui btn-red",id:"keepShopping","aria-label":"keep Shopping",onClick:function(){Object(A.b)(A.a.Action.ACTION_KEEP_SHOPPING,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname),t.setState({activeStep:0},(function(){return t.props.history.push("/productlist")}))}},"Keep Shopping"),g.a.createElement(v.a,{type:"submit",disabled:!this.props.hasMinTotal||-1===this.state.selectedShippingAddress||-1===this.state.selectedBillingAddress&&!this.state.changedAddress&&!this.state.billingSameAsShipping||this.state.isError||this.state.addNewAddress||this.state.editShipping||this.state.editContact||this.state.changeBillingAddress,variant:"contained",color:"primary",className:"btn-mui btn-blue",id:"ContinueRegistration","aria-label":"Continue Registration",onClick:function(){sessionStorage.setItem("regData",JSON.stringify(t.state.intialAddress)),Object(A.b)(A.a.Action.ACTION_CHECKOUT,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{checkoutData:t.state.intialAddress,userLoggedIn:!0}),t.props.showPayment()}},"Continue")))}}]),a}(p.Component),he=Object(h.b)((function(e){return{shippingMessage:e.reducer.minAmount}}))(Object(f.o)(ge));function fe(e){var t=e.children,a=e.value,n=e.index,i=Object(o.a)(e,["children","value","index"]);return g.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"checkout-tabpanel-".concat(n),"aria-labelledby":"checkout-tabpanel-".concat(n)},i),a===n&&g.a.createElement("div",null,t))}var be=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).getUserDetails=function(){null!==localStorage.getItem("token")&&localStorage.getItem("accessToken")&&i.props.actionGetCustomer()},i.emailValidate=function(e,t){var a={email:e.email},n=C.a.EmailValidate;i.setState({spinner:!1,error:"",errorMessage:!1}),O.a.postMethod(n,a,!0).then((function(a){200===a.status&&a.data.success?(t&&i.createCustomer(e,!1),i.setState({error:"",spinner:!1,errorMessage:!1,emailValid:!0},(function(){return document.getElementById("body").classList.remove("has-toast")}))):i.setState({error:null!==a.data.message?a.data.message:"",spinner:!1,errorMessage:!0,emailValid:!1},(function(){return document.getElementById("body").classList.add("has-toast")}))})).catch((function(e){i.setState({error:e.message,spinner:!1,errorMessage:!0,emailValid:!1})}))},i.taxCalculation=function(e){return Number(8.5*e/100)},i.handleClose=function(){i.setState({errorMessage:!1,error:""}),document.getElementById("body").classList.remove("has-toast")},i.onLoginSuccess=function(e){i.getUserDetails()},i.handleChange=function(e,t){0===t?i.showLoginAccordion():1===t?(i.showRegisterAccordion(),i.state.fromForgot&&i.setState({fromForgot:!1})):2===t&&(i.showGuestAccordion(),i.state.fromForgot&&i.setState({fromForgot:!1})),i.setState({tabIndex:t,errorMessage:!1,error:""}),sessionStorage.setItem("chk_tabIndex",parseInt(t))},i.checkoutMode=sessionStorage.getItem("checkoutMode"),null!==localStorage.getItem("token")&&(i.checkoutMode=null),i.state={fromForgot:!1,spinner:!1,isPayment:0,keyData:0,showLogin:null===i.checkoutMode?null===localStorage.getItem("token"):"Login"===i.checkoutMode,showRegister:null!==i.checkoutMode&&"Register"===i.checkoutMode||null!==localStorage.getItem("token"),showGuest:null!==i.checkoutMode&&"Guest"===i.checkoutMode||null===localStorage.getItem("token"),loggedinReg:!1,errorMessage:!1,summuryTaxData:{},isSummuryLoader:!1,userInfo:i.props.customerDetails,billingSameAsShipping:!1,error:"",emailValid:!0,tabIndex:null!==localStorage.getItem("token")?1:0,hasMinTotal:!0,cartItems:JSON.parse(sessionStorage.getItem("cartItems"))?JSON.parse(sessionStorage.getItem("cartItems")):[]},sessionStorage.setItem("newUserCheckout",!1),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null!==sessionStorage.getItem("cartItems")&&Object(A.b)(A.a.Action.ACTION_CART_ON_CHECKOUT,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,{cart:JSON.parse(sessionStorage.getItem("cartItems")),userLoggedIn:null!==localStorage.getItem("token")});var e=this;document.addEventListener("showLogin",(function(t){sessionStorage.getItem("showLogin");e.forceUpdate()})),setTimeout((function(){window.scrollTo(0,0)}),10),document.addEventListener("tokenLogin",(function(t){sessionStorage.getItem("token")&&e.setState({loggedinReg:!0}),e.forceUpdate()})),this.getUserDetails(),null!==this.checkoutMode?null===localStorage.getItem("token")?this.handleChange(null,2):this.handleChange(null,"Login"===this.checkoutMode?0:"Register"===this.checkoutMode?1:2):null===localStorage.getItem("token")||!this.props.customerDetails||null===this.props.customerDetails||null!==this.props.customerDetails.accountAddresses&&0!==this.props.customerDetails.accountAddresses.length||this.handleChange(null,1),sessionStorage.getItem("errorPaymentMsg")&&this.setState({errorMessage:!0,error:sessionStorage.getItem("errorPaymentMsg")},(function(){return document.getElementById("body").classList.add("has-toast")})),sessionStorage.removeItem("errorPaymentMsg");var t=0;this.props.minPrice&&Object.keys(this.props.minPrice).length>0&&(this.state.cartItems.length>0&&this.state.cartItems.map((function(e){var a=e.price*e.quantity;return t+=a,!0})),t<this.props.minPrice.minimumOrderAmount?this.setState({hasMinTotal:!1,errorMessage:!0,error:"$"+parseFloat(this.props.minPrice.minimumOrderAmount).toFixed(2)+" Minimum Order Requirement."},(function(){document.getElementById("body").classList.add("has-toast")})):this.setState({hasMinTotal:!0}))}},{key:"componentWillUnmount",value:function(){sessionStorage.setItem("checkoutMode",this.state.showLogin?"Login":this.state.showRegister?"Register":"Guest")}},{key:"ordersubmission",value:function(e){var t=this;this.props.submitOrder(e).then((function(e){!0===t.props.submitResponse.success?t.showPayment():t.setState({errorMessage:!0})}))}},{key:"createCustomer",value:function(e,t,a){var n=this,i=null===localStorage.getItem("accountId")||!1===t;this.setState({spinner:!(i&&!a),error:"",errorMessage:!1}),this.props.actionCreateCustomer(e,this.state.showGuest,t).then((function(t){!0===n.props.createCustomerDetail.success?(n.setState({spinner:!1,errorMessage:!1,error:""},(function(){i?n.props.createCustomerDetail.data.id&&n.props.createCustomerDetail.data.accountContacts?(localStorage.setItem("accountId",n.props.createCustomerDetail.data.id),n.props.createCustomerDetail.data.accountContacts.length>0&&localStorage.setItem("contactId",n.props.createCustomerDetail.data.accountContacts[0].id),null!==n.props.createCustomerDetail.data.accountAddresses&&n.props.createCustomerDetail.data.accountAddresses.map((function(e){"SHIPPING_ADDRESS"===e.addressType?localStorage.setItem("shippingId",e.id):"BILLING_ADDRESS"===e.addressType&&localStorage.setItem("billingId",e.id)})),n.state.showGuest&&n.showPayment()):a&&(Object(A.b)(A.a.Action.ACTION_UPDATE_CUSTOMER,A.a.Event.EVENT_BUTTON_PRESS,window.location.origin,window.location.pathname,e),localStorage.removeItem("accountId"),localStorage.removeItem("contactId"),n.getUserDetails()):n.showPayment()})),n.setState({spinner:!1})):n.setState({errorMessage:!0,spinner:!1,error:n.props.createCustomerDetail.message})})).catch((function(e){n.setState({spinner:!1})}))}},{key:"showLoginAccordion",value:function(){sessionStorage.setItem("newUserCheckout",!1),this.state.showLogin||(localStorage.removeItem("locationId"),localStorage.removeItem("shippingId"),localStorage.removeItem("billingId")),this.setState({showLogin:!0,showRegister:!1,showGuest:!1,errorMessage:!1},(function(){return document.getElementById("body").classList.remove("has-toast")}))}},{key:"showRegisterAccordion",value:function(){sessionStorage.setItem("newUserCheckout",!1),this.state.showRegister||(localStorage.removeItem("locationId"),localStorage.removeItem("shippingId"),localStorage.removeItem("billingId")),sessionStorage.setItem("billingInvalid","no"),sessionStorage.setItem("shippingInvalid","no"),this.setState({showRegister:!0,showLogin:!1,showGuest:!1})}},{key:"showGuestAccordion",value:function(){sessionStorage.setItem("newUserCheckout",!1),this.state.showGuest||(localStorage.removeItem("locationId"),localStorage.removeItem("shippingId"),localStorage.removeItem("billingId")),this.setState({showRegister:!1,showLogin:!1,showGuest:!0})}},{key:"showPayment",value:function(){window.scrollTo(0,0),this.setState({isPayment:1})}},{key:"goToLogin",value:function(){this.setState({isPayment:0})}},{key:"OrderPlaced",value:function(){this.setState({isPayment:2}),this.props.isThanku()}},{key:"getFields",value:function(e){this.setState({formData:e})}},{key:"makeHref",value:function(){this.setState({fromForgot:!0}),this.handleChange(null,0)}},{key:"render",value:function(){var e=this,t=g.a.createElement("a",{href:this.makeHref,onClick:function(){return e.makeHref()}}," ",g.a.createElement("u",null,"click here")," ");return g.a.createElement("div",null,g.a.createElement("div",null,this.state.spinner?g.a.createElement(y.a,null):"",g.a.createElement("div",{className:"wizard-step"},g.a.createElement(l.a,{variant:"h1",className:"heading-hidden","aria-hidden":"true"},"Checkout"),g.a.createElement("div",{className:"step-header shipping-details"},g.a.createElement("div",{className:"step-header-type"})),g.a.createElement(c.a,{className:"container-root checkout-container"},0===this.state.isPayment?g.a.createElement(d.a,{container:!0,spacing:2},null===localStorage.getItem("token")||0===localStorage.getItem("token").length||null!==localStorage.getItem("token")&&this.props.customerDetails&&null!==this.props.customerDetails&&(null===this.props.customerDetails.accountAddresses||0===this.props.customerDetails.accountAddresses.length)?g.a.createElement(d.a,{item:!0,xs:12,sm:6,className:"checkout-form-wrapper registration-col tab-col"},g.a.createElement(fe,{value:this.state.tabIndex,index:0},g.a.createElement("div",{className:"checkout-content-head"},g.a.createElement("h2",null,"Log in to checkout")),g.a.createElement("div",{className:"checkout-content-body"},g.a.createElement("div",{className:"checkout-content-body-inner"},g.a.createElement(te.a,{changeForgotToLogin:function(){return e.setState({fromForgot:!1})},closeLoginDialog:function(){},fromForgot:this.state.fromForgot,loginClicked:function(t){return e.onLoginSuccess(t)}})))),g.a.createElement(fe,{value:this.state.tabIndex,index:1},g.a.createElement("div",{className:"checkout-content-head"},null===localStorage.getItem("token")?g.a.createElement("h2",null,"New User? Register to checkout"):g.a.createElement("h2",null,"Checkout information")),g.a.createElement("div",{className:"checkout-content-body"},g.a.createElement(X,{hasMinTotal:this.state.hasMinTotal,emailValid:this.state.emailValid,guestCheckout:this.state.showGuest,userInfo:this.props.customerDetails,emailValidate:function(t,a,n){return e.emailValidate(t,a,n)},zipcodeValidData:this.props.zipcodeValidData,moveToPrevStepCheckout:function(){return e.props.moveToPrevStep()},getTaxtLoader:function(t,a){return e.setState({isSummuryLoader:t,summuryTaxData:a},(function(){return e.setState({summuryTaxData:a})}))},createCustomer:function(t,a){e.props.customerDetails&&e.props.customerDetails.accountContacts&&(localStorage.setItem("accountId",e.props.customerDetails.id),e.props.customerDetails.accountContacts.length>0&&localStorage.setItem("contactId",e.props.customerDetails.accountContacts[0].id)),e.createCustomer(t,a,!1)},spinner:this.props.spinner,createAccount:function(t){localStorage.setItem("accountId",e.props.customerDetails.id),e.props.customerDetails.accountContacts.length>0&&localStorage.setItem("contactId",e.props.customerDetails.accountContacts[0].id),e.createCustomer(t,!1,!0)}}))),g.a.createElement(fe,{value:this.state.tabIndex,index:2},g.a.createElement("div",{className:"checkout-content-head"},g.a.createElement("h2",null,"Guest checkout")),g.a.createElement("div",{className:"checkout-content-body"},g.a.createElement(X,{hasMinTotal:this.state.hasMinTotal,emailValid:this.state.emailValid,userInfo:this.props.customerDetails,guestCheckout:!0,emailValidate:function(t){return e.emailValidate(t)},zipcodeValidData:this.props.zipcodeValidData,moveToPrevStepCheckout:function(){return e.props.moveToPrevStep()},getTaxtLoader:function(t,a){return e.setState({isSummuryLoader:t,summuryTaxData:a},(function(){return e.setState({summuryTaxData:a})}))},createAccount:function(t){localStorage.setItem("accountId",e.props.customerDetails.id),e.props.customerDetails.accountContacts.length>0&&localStorage.setItem("contactId",e.props.customerDetails.accountContacts[0].id),e.createCustomer(t,!1,!0)},createCustomer:function(t,a){e.props.customerDetails&&e.props.customerDetails.accountContacts&&(localStorage.setItem("accountId",e.props.customerDetails.id),e.props.customerDetails.accountContacts.length>0&&localStorage.setItem("contactId",e.props.customerDetails.accountContacts[0].id)),e.createCustomer(t,a,!1)},spinner:this.props.spinner}))),g.a.createElement(m.a,{open:this.state.errorMessage,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},null!=this.state.error&&this.state.error.length>0&&this.state.error.includes("is already a registered user")?g.a.createElement(u.a,{variant:"filled",onClose:this.handleClose,severity:"error"},this.state.error," Please"," ",t," "," for the assistance"):g.a.createElement(u.a,{variant:"filled",onClose:this.handleClose,severity:"error"},null!=this.state.error&&this.state.error.length>0?this.state.error:"Some Technical Issue")),2===this.state.isPayment?g.a.createElement(ee.a,null):""):g.a.createElement(d.a,{item:!0,xs:12,sm:6,className:"checkout-form-wrapper registration-col"},g.a.createElement("div",{className:"checkout-content-wrapper"},this.props.customerDetails&&g.a.createElement(he,{hasMinTotal:this.state.hasMinTotal,getCustomer:function(){return e.props.actionGetCustomer()},userInfo:this.props.customerDetails,guestCheckout:this.state.showGuest,getTaxtLoader:function(t,a){return e.setState({isSummuryLoader:t,summuryTaxData:a})},spinner:this.props.spinner,showPayment:function(){return e.showPayment()},createCustomer:function(t){return e.createCustomer(t,!1,!0)}})),g.a.createElement(m.a,{open:this.state.errorMessage,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar snackbar-full"},g.a.createElement(u.a,{variant:"filled",onClose:this.handleClose,severity:"error"},this.state.error.length>0?this.state.error:"Some Technical Issue"))),g.a.createElement(d.a,{item:!0,xs:12,sm:6,className:"summary-col"},g.a.createElement(I,{summuryTaxData:this.state.summuryTaxData,isSummuryLoader:this.state.isSummuryLoader,shippingCharges:this.props.shippingCharges,taxCalculation:this.taxCalculation}))):"",g.a.createElement(d.a,{container:!0,spacing:2},1===this.state.isPayment?g.a.createElement(d.a,{item:!0,xs:12,className:"payment-grid"},g.a.createElement(L,{onRef:function(t){return e.payment=t},payload:function(t){e.setState({payload:t})},fields:this.state.formData,showPayment:function(){return e.showPayment()},goToLogin:function(){return e.goToLogin()},OrderPlaced:function(){return e.OrderPlaced()}})):"")))))}}]),a}(g.a.Component);t.a=Object(h.b)((function(e){return{submitResponse:e.reducer.submit,createCustomerDetail:e.reducer.createCustomer,isAuthenticated:e.reducer.isAuthenticated,user:e.reducer.loginResponse.user,customerDetails:e.reducer.customerDetails,minPrice:e.reducer.minAmount}}),{actionCreateCustomer:b.f,actionGetCustomer:b.h})(Object(f.o)(be))},586:function(e,t,a){e.exports=a(1094)},6:function(e,t,a){"use strict";var n=a(9);t.a=new function e(){Object(n.a)(this,e),this.protocol=window.location.protocol+"//",this.host=this.protocol+window.location.host,this.SiteUrl=this.host,this.pimHost="localhost"===window.location.hostname||"uatfront-pepsicosales-poc.ga"===window.location.hostname?"https://uatpimcore-pepsicosales-poc.ga":this.protocol+window.location.hostname,this.pimHostUrl=this.pimHost+"/webservices/",this.cybersourceBackResponse=this.pimHost+"/officesnacks/backresponse",this.ProductsUrl=this.pimHostUrl+"productgrouplist",this.ProductDetailUrl=this.pimHostUrl+"productdetail",this.OrderHistory=this.pimHostUrl+"orderhistory",this.PopularProducts=this.pimHostUrl+"popularproducts",this.SubmitOrder=this.pimHostUrl+"submitorder",this.FilterProducts=this.pimHostUrl+"filterlist",this.ZipValidation=this.pimHostUrl+"zipcodevalidate",this.LabelsList=this.pimHostUrl+"labelslist",this.CreateCustomer=this.pimHostUrl+"createcustomer",this.CreateAddress=this.pimHostUrl+"createaddress",this.MinAmount=this.pimHostUrl+"configlist",this.ProductInventory=this.pimHostUrl+"productinventory",this.PaymentStatus=this.pimHostUrl+"paymentstatus",this.contentList=this.pimHostUrl+"contentlist",this.contactus=this.pimHostUrl+"contactus",this.orderTax=this.pimHostUrl+"ordertax",this.handshaking=this.pimHostUrl+"handshaking",this.forgotpassword=this.pimHostUrl+"forgotpassword",this.GetCustomer=this.pimHostUrl+"getcustomer",this.EmailValidate=this.pimHostUrl+"emailvalidate",this.updateAccount=this.pimHostUrl+"updateaccount",this.updateAddress=this.pimHostUrl+"updateaddress",this.deleteAddress=this.pimHostUrl+"deleteaddress",this.changePassword=this.pimHostUrl+"changepassword",this.CreateProfile=this.pimHostUrl+"createprofile",this.ShopByCategory=this.pimHostUrl+"categoryfilters",this.qtyAvailableMsg="The maximum quantity you can order of this item is ##QTY##.",this.errorMsg="Something went to wrong on server, please try again",this.poBoxErrorMsg="Cannot ship to P.O. Box. Please provide another ##ADDTYPE## address.",this.addressInvalid="Please check that your city, state and zip code match for your address.",this.forgotPasswordSuccMsg="An email has been sent to your account to reset your password.",this.userAccountLocked="Your account has been locked due to too many incorrect password attempts",this.productsLimit=36,this.popularProductsLimit=8,this.titleTag="Snacks.com",this.isTaxFree=!1,this.defaultCountry="US"}},60:function(e,t,a){"use strict";var n=a(38),i=a.n(n),s=a(68),r=a(9),o=a(10),l=a(497),c=a.n(l),d=a(108),m=a(109),u=a.n(m),p=function(){function e(){Object(r.a)(this,e),this.oktaAuth=new c.a(d.a.oidc)}return Object(o.a)(e,[{key:"userLogin",value:function(e,t){var a=this;return"/create-account"===window.location.pathname||null!==sessionStorage.getItem("prevUrl")&&"/cart-preview"===sessionStorage.getItem("prevUrl")||sessionStorage.setItem("prevUrl",window.location.pathname),this.oktaAuth.signIn({username:e,password:t}).then((function(e){return e})).catch((function(n){return n.message?"Invalid token."!==n.message?n.message:void(void 0!==a.getToken().tokens&&a.userLogin(e,t)):{status:"404"}}))}},{key:"getCode",value:function(e){return this.oktaAuth.token.getWithRedirect({responseType:["id_token","token","code"],sessionToken:e}).then((function(e){return e})).catch((function(e){return e.message?(console.log(e.message),e.message):{status:"404"}}))}},{key:"getToken",value:function(e){var t=this;return this.oktaAuth.token.parseFromUrl({grantType:"authorization_code",code:e}).then((function(e){var a=e.tokens;return t.oktaAuth.tokenManager.add("idToken",a.idToken),t.oktaAuth.tokenManager.add("accessToken",a.accessToken),localStorage.setItem("idToken",JSON.stringify(a.idToken)),localStorage.setItem("accessToken",JSON.stringify(a.accessToken)),e})).catch((function(e){return console.log(e),e}))}},{key:"renewToken",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("accessToken")){e.next=8;break}return e.next=3,JSON.parse(localStorage.getItem("accessToken")).accessToken;case 3:return t=e.sent,a={accessToken:t,scopes:["openid","profile","email"]},e.abrupt("return",this.oktaAuth.token.renew(a).then((function(e){return localStorage.setItem("accessToken",JSON.stringify(e)),this.oktaAuth.tokenManager.add("accessToken",e),e})).catch((function(e){return null!==this.oktaAuth&&(this.oktaAuth.tokenManager.remove("accessToken"),this.oktaAuth.tokenManager.remove("idToken")),localStorage.removeItem("token"),localStorage.removeItem("accessToken"),localStorage.removeItem("idToken"),localStorage.removeItem("user"),null})));case 8:null!==this.oktaAuth&&(this.oktaAuth.tokenManager.remove("accessToken"),this.oktaAuth.tokenManager.remove("idToken")),localStorage.removeItem("token"),localStorage.removeItem("accessToken"),localStorage.removeItem("idToken"),localStorage.removeItem("user");case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"userLogout",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("idToken")){e.next=5;break}return e.next=3,JSON.parse(localStorage.getItem("idToken"));case 3:return t=e.sent,e.abrupt("return",this.oktaAuth.signOut({idToken:t,postLogoutRedirectUri:"".concat(window.location.origin,"/home")}).then((function(e){return null!==a.oktaAuth&&a.oktaAuth.tokenManager.remove("idToken"),localStorage.removeItem("token"),localStorage.removeItem("accessToken"),localStorage.removeItem("idToken"),localStorage.removeItem("user"),localStorage.removeItem("code"),sessionStorage.removeItem("billingSameAsShipping"),sessionStorage.removeItem("formValues"),sessionStorage.removeItem("billingValues"),sessionStorage.removeItem("formAddValues"),sessionStorage.removeItem("formChangeValues"),sessionStorage.removeItem("errorPaymentMsg"),sessionStorage.removeItem("billingInvalid"),sessionStorage.removeItem("shippingInvalid"),sessionStorage.removeItem("selectedShippingAddress"),sessionStorage.removeItem("taxZipCode"),e})).catch((function(e){return e.message?{status:"404",message:e.message}:{status:"404",message:e}})));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"userTokenRevoke",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("accessToken")){e.next=7;break}return e.next=3,JSON.parse(localStorage.getItem("accessToken")).accessToken;case 3:return t=e.sent,a={headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json","Cache-Control":"no-cache"}},n="".concat(d.a.oidc.revokeTokenUrl,"?token=").concat(t,"&token_type_hint=access_token&client_id=").concat(d.a.oidc.clientId),e.abrupt("return",u.a.post(n,{},a).then((function(e){return console.log(e),null!==s.oktaAuth&&s.oktaAuth.tokenManager.remove("idToken"),localStorage.removeItem("accessToken"),e})).catch((function(e){return e.message?"Invalid token."!==e.message?{status:"404",message:e.message}:void(void 0!==s.getToken().tokens&&s.userLogout()):{status:"404",message:e}})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clearStorage",value:function(){return localStorage.removeItem("token"),localStorage.removeItem("accessToken"),localStorage.removeItem("idToken"),localStorage.removeItem("user"),""}}]),e}();t.a=new p},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),i=a.n(n),s=a(1114),r=a(1111),o=a(499),l=a.n(o),c=a(500),d=a.n(c);function m(e){return i.a.createElement(r.a,{id:e.id,name:e.id,onChange:e.onChange,onBlur:e.onBlur,size:"medium",fullWidth:!0,className:"react-select-theme react-select-big required",options:e.options,value:e.defaultValue,getOptionLabel:function(e){return e.label},renderInput:function(t){return i.a.createElement(s.a,Object.assign({},t,{label:e.label+" *",variant:"outlined"}))},renderOption:function(e,t){var a=t.inputValue,n=d()(e.label,a),s=l()(e.label,n);return i.a.createElement("div",null,s.map((function(e,t){return i.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})))},"aria-labelledby":e.id})}},65:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));a(19),a(6);function n(e){sessionStorage.setItem("tax",e.data.data.tax.totalTaxAmount),sessionStorage.setItem("total",e.data.data.tax.netTotalAmount),sessionStorage.setItem("subtotal",e.data.data.tax.netTotalAmount)}function i(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3==(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),"rgba("+[(t="0x"+t.join(""))>>16&255,t>>8&255,255&t].join(",")+",0.7)";throw new Error("Bad Hex")}},77:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n,i=a(15),s=(n={OUT_OF_STOCK:"OUT OF STOCK",CHECK_IT_OUT:"CHECK IT OUT",GET_STARTED:"GET STARTED",SEE_ALL:"SEE ALL",SELECT:"SELECT",EDIT:"EDIT",SHIPPING_INFORMATION:"SHIPPING INFORMATION",SHIPPING_ADDRESS:"SHIPPING ADDRESS",EDIT_SHIPPING_ADDRESS:"EDIT SHIPPING ADDRESS",ADD_ANOTHER_SHIPPING_ADDRESS:"ADD ANOTHER SHIPPING ADDRESS",CONTACT_INFORMATION:"CONTACT INFORMATION",BILLING_INFORMATION:"BILLING INFORMATION",BILLING_ADDRESS:"BILLING ADDRESS",EDIT_BILLING_ADDRESS:"EDIT BILLING ADDRESS",CONTINUE_SHOPPING:"CONTINUE SHOPPING"},Object(i.a)(n,"CONTACT_INFORMATION","CONTACT INFORMATION"),Object(i.a)(n,"YOUR_ORDER","YOUR ORDER"),Object(i.a)(n,"CLEAR_CART","CLEAR CART"),Object(i.a)(n,"CONTINUE","CONTINUE"),Object(i.a)(n,"ORDER_SUMMARY","ORDER SUMMARY"),Object(i.a)(n,"CANCEL","CANCEL"),Object(i.a)(n,"SAVE","SAVE"),Object(i.a)(n,"SUBMIT_ORDER","SUBMIT ORDER"),Object(i.a)(n,"PRODUCT_LIST_TITLE","EXPLORE ALL SNACKS"),Object(i.a)(n,"SHOP_BY_CATEGORY_TITLE","SHOP BY CATEGORY"),Object(i.a)(n,"SHOP_BY_CATEGORY_SUB_TITLE","How are we shopping today? Pick up to 4 categories."),Object(i.a)(n,"REVIEW_YOUR_CART","review your cart"),n)},820:function(e,t,a){},832:function(e,t,a){},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(9),i=a(10),s=a(12),r=a(11),o=a(0),l=a.n(o),c=a(1113),d=a(529),m=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.msg,a=e.fullWidth;return l.a.createElement(c.a,{open:!!t,anchorOrigin:{vertical:"top",horizontal:"center"},className:"snackbar ".concat(a&&"snackbar-full")},l.a.createElement(d.a,{variant:"filled",severity:"error"},t))}}]),a}(o.Component)},961:function(e,t,a){},962:function(e,t,a){},964:function(e,t,a){},965:function(e,t,a){},966:function(e,t,a){},967:function(e,t,a){},968:function(e,t,a){},969:function(e,t,a){},970:function(e,t,a){},971:function(e,t,a){},972:function(e,t,a){},973:function(e,t,a){},991:function(e,t){}},[[586,1,2]]]);
//# sourceMappingURL=main.bb72b5ac.chunk.js.map